<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Vim vs Neovim | KODINGWARRIOR QUEST</title>

<meta name="description" content="고생을 사서 하는 개발자의 여정은 앞으로도 계속됩니다." />
<link type="application/atom+xml" rel="alternate" href="https://kodingwarrior.github.io/rss.xml" title="KODINGWARRIOR QUEST" />

<link rel="stylesheet" href="/_bridgetown/static/frontend/javascript/index.6VAT53W3.css" />
<script src="/_bridgetown/static/frontend/javascript/index.NCPQ4MN2.js" defer></script>


  </head>
  <body class="wiki ">
    
<nav>
  <ul>
    <li><a href="/">/home</a></li>
    <li><a href="/about">/about</a></li>
    <li><a href="/posts">/posts</a></li>
    <li><a href="/wiki">/wiki</a></li>
  </ul>
</nav>


    <main>
      <article>
        
<header>
  <ul class="wiki-navbar">
	  <li>
		  <a href="/wiki">
			  <i class="bi bi-door-open mr-2"></i>Main
		  </a>
	  </li>
	  <li>
		  <a href="#" onclick="javascript:goToRandomDocument()">
			  <i class="bi bi-dice-5 mr-2"></i>Random
		  </a>
	  </li>
	  <li>
		  <a href="/neural-network">
			  <i class="bi bi-diagram-3 mr-2"></i>Graph
		  </a>
	  </li>
  </ul>
</header>

<script>
  function goToRandomDocument() {
    const event = new CustomEvent("go-to-random-page", { });
    document.dispatchEvent(event);
  }
</script>

<is-land on:visible import="/_bridgetown/static/src/_islands/random_page_redirection.T3IKOQVU.js">
  <random-page-redirection>
  </random-page-redirection>
</is-land>


<script type="text/javascript" async>
    const url_default_fb = "https://www.facebook.com/sharer/sharer.php?u=";
    const url_default_tw_txt = "https://twitter.com/intent/tweet?text=";
    const url_default_tw_url = "&url=";
    const url_this_page = encodeURIComponent(location.href);
    const title_this_page = encodeURIComponent(document.title);
    const url_combine_fb = url_default_fb + url_this_page;
    const url_combine_tw = url_default_tw_txt + title_this_page + url_default_tw_url + url_this_page;
</script>

<h1>Vim vs Neovim</h1>

<div class="flex justify-end mb-6">
    <!-- Facebook share button -->
    <a href="" class="mx-4" title="페이스북으로 공유하기" onclick="window.open(url_combine_fb, '', 'scrollbars=no, width=600, height=600');">
        <i class="bi bi-facebook text-4xl"></i>
    </a>
    <!-- Twitter share button -->
    <a href="" title="트위터로 공유하기" onclick="window.open(url_combine_tw, '', 'scrollbars=no, width=600, height=600');">
        <i class="bi bi-twitter text-4xl"></i>
    </a>
</div>

<article id="wiki-content">
    
        
<pre class="mx-0 md:mx-8 mb-8 rounded-xl py-6 px-6 bg-lime-100 text-gray-900 overflow-visible break-words"><div class="flex flex-col md:flex-row justify-start items-start md:items-center"><i class="bi w-16 text-4xl mb-2 md:mb-0 bi-info-circle font-extrabold"></i><p class="m-0 p-0">혹시 이 글을 읽고 Vim에 관심을 가지게 되셨나요?<br/>Vim에 관심있는 사람들을 위한 Discord 커뮤니티 <br/><a href="https://vim.kr">vim.kr</a> 바로 여러분들을 위한 커뮤니티입니다.</p></div></pre>


    

    <p>주변에서 하도 계속 물어봐서 Vim과 Neovim의 결정적인 차이점을 문서로 남긴다. 당장은 생각나는대로 나열했기 때문에, 추후에 내용이 더 추가될 순 있다.</p>

<ul>
  <li>Vim을 커스터마이징할때는 <strong>VimScript</strong>를 쓰지만, Neovim을 커스터마이징할때는 <strong>lua</strong>를 사용한다.
    <ul>
      <li>개인적으론 VimScript를 선호하진 않는데, vimscript 기반으로 짜여져 있는 플러그인의 소스코드를 읽는 것 자체가 고통스러웠던 경험이기도 했고, vimscript라는 언어 자체가 그닥 가독성이 좋은 편은 아니라고 생각한다. 기능적으로는 모자람이 없을 순 있으나, 읽을때도 고통스러운데 이걸로 스크립트를 짜라면 어지간하면 피할 것 같다.</li>
      <li>반면. lua는 vimscript에 비하면 가독성이 적당히 나쁜 편은 아니다. 언어 자체의 기능으로 보자면 Python/Ruby/Javascript 등의 언어와 비교했을때 굉장히 좀 난해하게 느껴질 수는 있다.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> 다만, lua는 macOS에서 사용하는 자동화 툴인 <a href="https://www.hammerspoon.org/">hammerspoon</a>이라던가, 터미널 에뮬레이터인 <a href="https://wezfurlong.org/wezterm/index.html">wezterm</a>이라던가 <strong>Unix 계열의 CLI 프로그램의 configuration을 작성하는데 있어서 사실상 De facto의 역할</strong>을 하고 있다. 언어 자체가 마음에 들지 않는 부분은 어느 정도 있긴 하지만, 가독성이나 개발편의성이 엄청 나쁜 것은 아니기 때문에 거부할 이유는 딱히 없다고 생각하고 쓰고 있다.</li>
    </ul>
  </li>
  <li>Neovim을 커스터마이징할때 활용하는 lua는 luarocks라는 패키지매니저가 있기 때문에, 필요하다면 얼마든지 가져다 쓸 수 있다.
    <ul>
      <li>luarocks를 이용하는 Neovim 플러그인은 그렇게 많지는 않지만, (실질적인 쓸모의 유무를 떠나서) luarocks를 활용한 플러그인도 종종 보이긴 한다. 확실한건, lua 기반으로 개발되어 온 ecosystem을 등에 업고 언제든지 활용할 수 있다.</li>
    </ul>
  </li>
  <li>플러그인 생태계도 제법 괜찮은 편이다.
    <ul>
      <li>telescope / nvim-cmp / treesitter 같은 키워드 위주로만 찾아봐도 이걸 응용한 괜찮은 기능의 플러그인들을 많이 살펴볼 수 있다.
        <ul>
          <li><strong>telescope</strong> - Neovim에서 사용할 수 있는 검색엔진이라고 생각해봐도 될 것 같다. 자세한 내용은 <code class="highlighter-rouge">:help telescope</code> 만 봐도 알 수 있겠지만, 파일 검색/패턴 검색 뿐만이 아니라 <strong>query를 넣을 수 있는 것이라면 모든 것이든 다 해낼 수 있는 요술봉</strong>이라 생각한다.
            <ul>
              <li>예를 들면, <strong>git log</strong>를 검색한다던가, 현재 열어놓은 파일의 <strong>git history를 열람</strong>한다던가, <strong>각각의 브랜치</strong>에 대한 git history를 표시하는 등의 git과 관련된 유용한 기능은 이미 네이티브로 들어가 있다.</li>
              <li>여기서 좀 더 응용한다면, 아래의 예시와 같이 이용할 수 있다.
                <ul>
                  <li>프로젝트를 구성하는 소스코드의 <strong>클래스/모듈/함수/상수 검색</strong></li>
                  <li>formatter/linter 오류 검색 <strong>(diagnostics)</strong></li>
                  <li>GitHub 리포지토리의 <strong>issue/PR 검색</strong> – <a href="https://github.com/pwntester/octo.nvim">pwntester/octo.nvim</a> 참고</li>
                  <li>throttling만 잘한다면 <strong>웹 요청</strong>이랑도 연결할 수 있다. 개인적으론 <a href="https://github.com/malkoG/aladin.nvim">알라딘 검색 API와 연동하는 실험</a>을 하고 있다.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li><strong>nvim-cmp</strong> - 이름에서 알 수 있듯이, 말 그대로 <strong>자동완성 기능</strong>을 위해 만들어진 플러그인 ecosystem이다.
            <ul>
              <li>Neovim에서 자동완성 기능을 커스터마이징 해야 한다면, 바로 이 친구를 이용한다면 아주 간단한 문제가 된다.</li>
              <li>pwd 기준의 경로 자동 완성 / emoji / 버퍼 내에서 반복적으로 사용되는 단어 위주의 자동완성 같은 사소한 것부터 <strong>Code Snippet</strong> / <strong>git commit sha1 해쉬</strong> / <strong>GitHub author 자동 완성</strong> / <strong>Language Server와 연동된 auto import</strong> 까지 입맛대로 자동완성 기능을 커스터마이징할 수 있다. 위에서 설명했던 telescope와 마찬가지로 쿼리할 수 있는 것이라면 어떻게든 활용할 수 있기 때문에 가능성은 무궁무진하다.</li>
            </ul>
          </li>
          <li><strong>treesitter</strong> - 사실 이게 왜 좋냐고 하냐면 많은 사람들에게 설득하는게 약간 어려운 난제이기도 하다. “굳이?” 라는 생각이 들 수도 있기 때문이다.
            <ul>
              <li><a href="https://tree-sitter.github.io/tree-sitter/">treesitter</a> 자체는 파서를 만들어주는 제네레이터일 뿐이지만, 트리시터 기반으로 만들어진 파서가 활용도가 높기 때문에 유용함을 알고 있는 사람들은 잘 쓰고 있는 것 같다.
                <ul>
                  <li>예를 들면, 커스텀 룰을 지정해주면 내가 탐험하고자 하는 소스코드의 범위를 탐색하는 것이 간단해진다. 왜냐면, scheme으로 커스텀 룰을 추가하는 것 자체가 일종의 트리 자료구조를 탐색하는 쿼리이기 때문이다.</li>
                </ul>
              </li>
              <li>알고리즘에 대한 배경지식이 있는 사람들한테는 좀 더 단순하게 설명하기도 하는데, <strong>“treesitter는 2차원 배열로 바라봐야 하는 소스코드를 트리로 바꿔서 생각할 수 있게 해준다.”</strong> 이런 표현을 즐겨쓰는 편이다.
                <ul>
                  <li>이에 대해 좀 더 직관적으로 와닿을 수 있는 예시는 <a href="https://github.com/ziontee113/syntax-tree-surfer">ziontee113/syntax-tree-surfer</a>인데, 함수가 정의되어 있는 위치를 바꾸는 demo 영상을 살펴보자. Syntax tree로 나타내면 두 함수의 위치는 Tree의 관점에서 보면 sibling으로 볼 수 있다. <strong>두 함수가 정의되어 있는 위치를 바꾸는것은 사실상 트리 노드의 위치를 바꾸는 아주 간단한 문제</strong>로 환원이 된다.</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>그 외에도 language server 지원도 나름 나쁘지는 않은 편인데, 제대로 세팅하려면 각각 language server마다 걸맞는 configuration을 해줘야 하는 수고로움이 생길 순 있지만, <a href="https://github.com/neoclide/coc.nvim">coc-nvim</a> 세팅해놔도 개인적으론 크게 문제가 없었다.</li>
    </ul>
  </li>
</ul>

<p>Helix라는 신흥강자도 생기고 있는 모양이지만, 2023년 11월 기준으로는 크게 확 와닿을 정도로 삶에 혁신을 가져다 줄 만한 변화가 없기 때문에 당문간 관심을 가지는 건 보류</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>lua라는 언어의 불편함에 대해서는 따로 글로 작성하게 될 것 같다. 그렇다고 아예 못 쓰겠다라고 느낄 수준은 아니지만, 여러가지 면에서 인지 부조화를 느끼게 하는 부분이 있다는 것은 부정할 수 있다. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</article>

<!-- buy me a coffee -->
<style>.bmc-button img{width: 27px !important;margin-bottom: 1px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 36px !important;height:37px !important;text-decoration: none !important;display:inline-flex !important;color:#ffffff !important;background-color:#BB5794 !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 1px 9px !important;font-size: 22px !important;letter-spacing:0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#ffffff !important;}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">

<div class="text-center my-4">
    <a class="bmc-button" target="_blank" href="https://qr.kakaopay.com/Ej8T6e8CM5dc06009"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:5px">Buy me a coffee</span></a>
</div>

<script src="https://utteranc.es/client.js"
    repo="kodingwarrior/kodingwarrior.github.io"
    issue-term="title"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>


<script>
window.addEventListener("load", function(event) {
	const target = document.querySelector('#wiki-content')
	const before = target.innerHTML
	const results = [...before.matchAll(/\[\[([\w\s\/\.\-\_]*)\]\](\{.*\})?/g)]

	let after = before
	results.forEach(function(result) {
		const anchorHtml = result[2] !== undefined ? '<a href="/wiki/' + result[1] + '">' + result[2].slice(1, -1) + '</a>' : '<a href="/wiki/' + result[1] + '">' + result[1] + '</a>';
		after = after.replace(result[0], anchorHtml)
	})

	target.innerHTML = after

	const hyperlinks = target.querySelectorAll('a')

	const githubIcon = document.createElement('i')
	githubIcon.classList.add('bi-github')

	const documentIcon = document.createElement('i')
	documentIcon.classList.add('bi-file-text')

	const wikipediaIcon = document.createElement('i')
	wikipediaIcon.classList.add('bi-wikipedia')

	const microsoftIcon = document.createElement('i')
	microsoftIcon.classList.add('bi-windows')

	const bookIcon = document.createElement('i')
	bookIcon.classList.add('bi-book')

	const youtubeIcon = document.createElement('i')
	youtubeIcon.classList.add('bi-youtube')

	const twitterIcon = document.createElement('i')
	twitterIcon.classList.add('bi-twitter')

	const blueskyIcon = document.createElement('i')
	blueskyIcon.classList.add('bi-cloud-sun')

	const mastodonIcon = document.createElement('i')
	mastodonIcon.classList.add('bi-mastodon')

	const icons = [
		wikipediaIcon,
		githubIcon,
		documentIcon,
		microsoftIcon,
		bookIcon,
		youtubeIcon,
		twitterIcon,
		blueskyIcon,
		mastodonIcon,
	]

	icons.forEach(function(icon) {
		icon.classList.add('bi')
		icon.classList.add('mr-1')
	})


	hyperlinks.forEach(function(element) {
		// internal link
		if (element.href.includes(document.location.host + "/wiki")) {
			if (!element.className.includes("footnote")) {
				element.prepend(documentIcon.cloneNode(true))
			}
		}

		// github
		if (element.href.includes("github.com")) {
			element.prepend(githubIcon.cloneNode(true))
		}

		// wikipedia
		if (element.href.includes("wikipedia.org")) {
			element.prepend(wikipediaIcon.cloneNode(true))
		}

		// microsoft related documentation
		if (element.href.includes("visualstudio.com")) {
			element.prepend(microsoftIcon.cloneNode(true))
		}

		// aladin
		if (element.href.includes("aladin.co.kr")) {
			element.prepend(bookIcon.cloneNode(true))
		}

		// youtube
		if (element.href.includes("youtube.com")) {
			element.prepend(youtubeIcon.cloneNode(true))
		}

		// twitter
		if (element.href.includes("twitter.com") || element.href.includes("x.com")) {
			element.prepend(twitterIcon.cloneNode(true))
		}

		// bluesky
		if (element.href.includes("bsky.app")) {
			element.prepend(blueskyIcon.cloneNode(true))
		}

		// mastodon
		if (element.href.includes("__type=mastodon")) {
			element.prepend(mastodonIcon.cloneNode(true))
		}
	})
})
</script>

      </article>
    </main>

    <footer class="flex justify-start sm:justify-center flex-col sm:flex-row">
  <a class="my-2 mx-3 no-underline" href="/rss.xml">
    <i class="bi bi-rss-fill text-2xl"></i> Feed
  </a>
  <a class="my-2 mx-3 no-underline" href="mailto:rijgndqw012@gmail.com">
    <i class="bi bi-envelope-fill text-2xl"></i> Email
  </a>
  <a class="my-2 mx-3 no-underline" href="https://twitter.com/kodingwarrior">
    <i class="bi bi-twitter text-2xl"></i> Twitter
  </a>
  <a class="my-2 mx-3 no-underline" href="https://github.com/kodingwarrior/kodingwarrior.github.io">
    <i class="bi bi-github text-2xl"></i> Github
  </a>
</footer>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127979309-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-127979309-1');
    </script>
  </body>
</html>
