(()=>{var Va=Object.create;var xr=Object.defineProperty;var Ya=Object.getOwnPropertyDescriptor;var Xa=Object.getOwnPropertyNames;var Wa=Object.getPrototypeOf,Za=Object.prototype.hasOwnProperty;var Qa=e=>xr(e,"__esModule",{value:!0});var un=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Ka=(e,r,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Xa(r))!Za.call(e,i)&&i!=="default"&&xr(e,i,{get:()=>r[i],enumerable:!(n=Ya(r,i))||n.enumerable});return e},fn=e=>Ka(Qa(xr(e!=null?Va(Wa(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var no=un((im,ro)=>{var Ji="Expected a function",to=0/0,yf="[object Symbol]",vf=/^\s+|\s+$/g,_f=/^[-+]0x[0-9a-f]+$/i,bf=/^0b[01]+$/i,wf=/^0o[0-7]+$/i,jf=parseInt,kf=typeof global=="object"&&global&&global.Object===Object&&global,Af=typeof self=="object"&&self&&self.Object===Object&&self,Cf=kf||Af||Function("return this")(),Mf=Object.prototype,Sf=Mf.toString,zf=Math.max,Of=Math.min,Dr=function(){return Cf.Date.now()};function Pf(e,r,n){var i,o,a,s,u,f,l=0,c=!1,h=!1,d=!0;if(typeof e!="function")throw new TypeError(Ji);r=eo(r)||0,cr(n)&&(c=!!n.leading,h="maxWait"in n,a=h?zf(eo(n.maxWait)||0,r):a,d="trailing"in n?!!n.trailing:d);function p(b){var w=i,C=o;return i=o=void 0,l=b,s=e.apply(C,w),s}function m(b){return l=b,u=setTimeout(g,r),c?p(b):s}function v(b){var w=b-f,C=b-l,P=r-w;return h?Of(P,a-C):P}function _(b){var w=b-f,C=b-l;return f===void 0||w>=r||w<0||h&&C>=a}function g(){var b=Dr();if(_(b))return A(b);u=setTimeout(g,v(b))}function A(b){return u=void 0,d&&i?p(b):(i=o=void 0,s)}function k(){u!==void 0&&clearTimeout(u),l=0,i=f=o=u=void 0}function y(){return u===void 0?s:A(Dr())}function x(){var b=Dr(),w=_(b);if(i=arguments,o=this,f=b,w){if(u===void 0)return m(f);if(h)return u=setTimeout(g,r),p(f)}return u===void 0&&(u=setTimeout(g,r)),s}return x.cancel=k,x.flush=y,x}function Tf(e,r,n){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(Ji);return cr(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Pf(e,r,{leading:i,maxWait:r,trailing:o})}function cr(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function If(e){return!!e&&typeof e=="object"}function Rf(e){return typeof e=="symbol"||If(e)&&Sf.call(e)==yf}function eo(e){if(typeof e=="number")return e;if(Rf(e))return to;if(cr(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=cr(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(vf,"");var n=bf.test(e);return n||wf.test(e)?jf(e.slice(2),n?2:8):_f.test(e)?to:+e}ro.exports=Tf});var so=un((am,ao)=>{function Fr(e,r,n){var i,o,a,s,u;r==null&&(r=100);function f(){var c=Date.now()-s;c<r&&c>=0?i=setTimeout(f,r-c):(i=null,n||(u=e.apply(a,o),a=o=null))}var l=function(){a=this,o=arguments,s=Date.now();var c=n&&!i;return i||(i=setTimeout(f,r)),c&&(u=e.apply(a,o),a=o=null),u};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(u=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},l}Fr.debounce=Fr;ao.exports=Fr});var qe="http://www.w3.org/1999/xhtml",yr={svg:"http://www.w3.org/2000/svg",xhtml:qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kt(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yr.hasOwnProperty(r)?{space:yr[r],local:e}:e}function Ja(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===qe&&r.documentElement.namespaceURI===qe?r.createElement(e):r.createElementNS(n,e)}}function ts(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fe(e){var r=kt(e);return(r.local?ts:Ja)(r)}function es(){}function Nt(e){return e==null?es:function(){return this.querySelector(e)}}function ln(e){typeof e!="function"&&(e=Nt(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=new Array(s),f,l,c=0;c<s;++c)(f=a[c])&&(l=e.call(f,f.__data__,c,a))&&("__data__"in f&&(l.__data__=f.__data__),u[c]=l);return new V(i,this._parents)}function vr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rs(){return[]}function te(e){return e==null?rs:function(){return this.querySelectorAll(e)}}function ns(e){return function(){return vr(e.apply(this,arguments))}}function cn(e){typeof e=="function"?e=ns(e):e=te(e);for(var r=this._groups,n=r.length,i=[],o=[],a=0;a<n;++a)for(var s=r[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&(i.push(e.call(f,f.__data__,l,s)),o.push(f));return new V(i,o)}function ee(e){return function(){return this.matches(e)}}function Le(e){return function(r){return r.matches(e)}}var is=Array.prototype.find;function os(e){return function(){return is.call(this.children,e)}}function as(){return this.firstElementChild}function hn(e){return this.select(e==null?as:os(typeof e=="function"?e:Le(e)))}var ss=Array.prototype.filter;function us(){return Array.from(this.children)}function fs(e){return function(){return ss.call(this.children,e)}}function dn(e){return this.selectAll(e==null?us:fs(typeof e=="function"?e:Le(e)))}function pn(e){typeof e!="function"&&(e=ee(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&e.call(f,f.__data__,l,a)&&u.push(f);return new V(i,this._parents)}function Ue(e){return new Array(e.length)}function gn(){return new V(this._enter||this._groups.map(Ue),this._parents)}function re(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}re.prototype={constructor:re,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function mn(e){return function(){return e}}function ls(e,r,n,i,o,a){for(var s=0,u,f=r.length,l=a.length;s<l;++s)(u=r[s])?(u.__data__=a[s],i[s]=u):n[s]=new re(e,a[s]);for(;s<f;++s)(u=r[s])&&(o[s]=u)}function cs(e,r,n,i,o,a,s){var u,f,l=new Map,c=r.length,h=a.length,d=new Array(c),p;for(u=0;u<c;++u)(f=r[u])&&(d[u]=p=s.call(f,f.__data__,u,r)+"",l.has(p)?o[u]=f:l.set(p,f));for(u=0;u<h;++u)p=s.call(e,a[u],u,a)+"",(f=l.get(p))?(i[u]=f,f.__data__=a[u],l.delete(p)):n[u]=new re(e,a[u]);for(u=0;u<c;++u)(f=r[u])&&l.get(d[u])===f&&(o[u]=f)}function hs(e){return e.__data__}function xn(e,r){if(!arguments.length)return Array.from(this,hs);var n=r?cs:ls,i=this._parents,o=this._groups;typeof e!="function"&&(e=mn(e));for(var a=o.length,s=new Array(a),u=new Array(a),f=new Array(a),l=0;l<a;++l){var c=i[l],h=o[l],d=h.length,p=ds(e.call(c,c&&c.__data__,l,i)),m=p.length,v=u[l]=new Array(m),_=s[l]=new Array(m),g=f[l]=new Array(d);n(c,h,v,_,g,p,r);for(var A=0,k=0,y,x;A<m;++A)if(y=v[A]){for(A>=k&&(k=A+1);!(x=_[k])&&++k<m;);y._next=x||null}}return s=new V(s,i),s._enter=u,s._exit=f,s}function ds(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yn(){return new V(this._exit||this._groups.map(Ue),this._parents)}function vn(e,r,n){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function _n(e){for(var r=e.selection?e.selection():e,n=this._groups,i=r._groups,o=n.length,a=i.length,s=Math.min(o,a),u=new Array(o),f=0;f<s;++f)for(var l=n[f],c=i[f],h=l.length,d=u[f]=new Array(h),p,m=0;m<h;++m)(p=l[m]||c[m])&&(d[m]=p);for(;f<o;++f)u[f]=n[f];return new V(u,this._parents)}function bn(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var i=e[r],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function wn(e){e||(e=ps);function r(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var s=n[a],u=s.length,f=o[a]=new Array(u),l,c=0;c<u;++c)(l=s[c])&&(f[c]=l);f.sort(r)}return new V(o,this._parents).order()}function ps(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function jn(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kn(){return Array.from(this)}function An(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function Cn(){let e=0;for(let r of this)++e;return e}function Mn(){return!this.node()}function Sn(e){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length,u;a<s;++a)(u=o[a])&&e.call(u,u.__data__,a,o);return this}function gs(e){return function(){this.removeAttribute(e)}}function ms(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xs(e,r){return function(){this.setAttribute(e,r)}}function ys(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function vs(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _s(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zn(e,r){var n=kt(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?ms:gs:typeof r=="function"?n.local?_s:vs:n.local?ys:xs)(n,r))}function Be(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bs(e){return function(){this.style.removeProperty(e)}}function ws(e,r,n){return function(){this.style.setProperty(e,r,n)}}function js(e,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function On(e,r,n){return arguments.length>1?this.each((r==null?bs:typeof r=="function"?js:ws)(e,r,n==null?"":n)):Ot(this.node(),e)}function Ot(e,r){return e.style.getPropertyValue(r)||Be(e).getComputedStyle(e,null).getPropertyValue(r)}function ks(e){return function(){delete this[e]}}function As(e,r){return function(){this[e]=r}}function Cs(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pn(e,r){return arguments.length>1?this.each((r==null?ks:typeof r=="function"?Cs:As)(e,r)):this.node()[e]}function Tn(e){return e.trim().split(/^|\s+/)}function _r(e){return e.classList||new In(e)}function In(e){this._node=e,this._names=Tn(e.getAttribute("class")||"")}In.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rn(e,r){for(var n=_r(e),i=-1,o=r.length;++i<o;)n.add(r[i])}function En(e,r){for(var n=_r(e),i=-1,o=r.length;++i<o;)n.remove(r[i])}function Ms(e){return function(){Rn(this,e)}}function Ss(e){return function(){En(this,e)}}function zs(e,r){return function(){(r.apply(this,arguments)?Rn:En)(this,e)}}function Nn(e,r){var n=Tn(e+"");if(arguments.length<2){for(var i=_r(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof r=="function"?zs:r?Ms:Ss)(n,r))}function Os(){this.textContent=""}function Ps(e){return function(){this.textContent=e}}function Ts(e){return function(){var r=e.apply(this,arguments);this.textContent=r==null?"":r}}function Dn(e){return arguments.length?this.each(e==null?Os:(typeof e=="function"?Ts:Ps)(e)):this.node().textContent}function Is(){this.innerHTML=""}function Rs(e){return function(){this.innerHTML=e}}function Es(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r==null?"":r}}function qn(e){return arguments.length?this.each(e==null?Is:(typeof e=="function"?Es:Rs)(e)):this.node().innerHTML}function Ns(){this.nextSibling&&this.parentNode.appendChild(this)}function Fn(){return this.each(Ns)}function Ds(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ln(){return this.each(Ds)}function Un(e){var r=typeof e=="function"?e:Fe(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function qs(){return null}function Bn(e,r){var n=typeof e=="function"?e:Fe(e),i=r==null?qs:typeof r=="function"?r:Nt(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Fs(){var e=this.parentNode;e&&e.removeChild(this)}function Gn(){return this.each(Fs)}function Ls(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Us(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Hn(e){return this.select(e?Us:Ls)}function $n(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Bs(e){return function(r){e.call(this,r,this.__data__)}}function Gs(e){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function Hs(e){return function(){var r=this.__on;if(!!r){for(var n=0,i=-1,o=r.length,a;n<o;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++i]=a;++i?r.length=i:delete this.__on}}}function $s(e,r,n){return function(){var i=this.__on,o,a=Bs(r);if(i){for(var s=0,u=i.length;s<u;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=r;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:r,listener:a,options:n},i?i.push(o):this.__on=[o]}}function Vn(e,r,n){var i=Gs(e+""),o,a=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,l=u.length,c;f<l;++f)for(o=0,c=u[f];o<a;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(u=r?$s:Hs,o=0;o<a;++o)this.each(u(i[o],r,n));return this}function Yn(e,r,n){var i=Be(e),o=i.CustomEvent;typeof o=="function"?o=new o(r,n):(o=i.document.createEvent("Event"),n?(o.initEvent(r,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function Vs(e,r){return function(){return Yn(this,e,r)}}function Ys(e,r){return function(){return Yn(this,e,r.apply(this,arguments))}}function Xn(e,r){return this.each((typeof r=="function"?Ys:Vs)(e,r))}function*Wn(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var br=[null];function V(e,r){this._groups=e,this._parents=r}function Zn(){return new V([[document.documentElement]],br)}function Xs(){return this}V.prototype=Zn.prototype={constructor:V,select:ln,selectAll:cn,selectChild:hn,selectChildren:dn,filter:pn,data:xn,enter:gn,exit:yn,join:vn,merge:_n,selection:Xs,order:bn,sort:wn,call:jn,nodes:kn,node:An,size:Cn,empty:Mn,each:Sn,attr:zn,style:On,property:Pn,classed:Nn,text:Dn,html:qn,raise:Fn,lower:Ln,append:Un,insert:Bn,remove:Gn,clone:Hn,datum:$n,on:Vn,dispatch:Xn,[Symbol.iterator]:Wn};var At=Zn;function K(e){return typeof e=="string"?new V([[document.querySelector(e)]],[document.documentElement]):new V([[e]],br)}function Qn(e){let r;for(;r=e.sourceEvent;)e=r;return e}function st(e,r){if(e=Qn(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}var Ws={value:()=>{}};function Kn(){for(var e=0,r=arguments.length,n={},i;e<r;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ge(n)}function Ge(e){this._=e}function Zs(e,r){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ge.prototype=Kn.prototype={constructor:Ge,on:function(e,r){var n=this._,i=Zs(e+"",n),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(e=i[a]).type)&&(o=Qs(n[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<s;)if(o=(e=i[a]).type)n[o]=Jn(n[o],e.name,r);else if(r==null)for(o in n)n[o]=Jn(n[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new Ge(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(r,n)}};function Qs(e,r){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===r)return o.value}function Jn(e,r,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===r){e[i]=Ws,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:r,value:n}),e}var Ct=Kn;var ti={passive:!1},Dt={capture:!0,passive:!1};function He(e){e.stopImmediatePropagation()}function Pt(e){e.preventDefault(),e.stopImmediatePropagation()}function ne(e){var r=e.document.documentElement,n=K(e).on("dragstart.drag",Pt,Dt);"onselectstart"in r?n.on("selectstart.drag",Pt,Dt):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function ie(e,r){var n=e.document.documentElement,i=K(e).on("dragstart.drag",null);r&&(i.on("click.drag",Pt,Dt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var oe=e=>()=>e;function ae(e,{sourceEvent:r,subject:n,target:i,identifier:o,active:a,x:s,y:u,dx:f,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}ae.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ks(e){return!e.ctrlKey&&!e.button}function Js(){return this.parentNode}function tu(e,r){return r==null?{x:e.x,y:e.y}:r}function eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function wr(){var e=Ks,r=Js,n=tu,i=eu,o={},a=Ct("start","drag","end"),s=0,u,f,l,c,h=0;function d(y){y.on("mousedown.drag",p).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,ti).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,x){if(!(c||!e.call(this,y,x))){var b=k(this,r.call(this,y,x),y,x,"mouse");!b||(K(y.view).on("mousemove.drag",m,Dt).on("mouseup.drag",v,Dt),ne(y.view),He(y),l=!1,u=y.clientX,f=y.clientY,b("start",y))}}function m(y){if(Pt(y),!l){var x=y.clientX-u,b=y.clientY-f;l=x*x+b*b>h}o.mouse("drag",y)}function v(y){K(y.view).on("mousemove.drag mouseup.drag",null),ie(y.view,l),Pt(y),o.mouse("end",y)}function _(y,x){if(!!e.call(this,y,x)){var b=y.changedTouches,w=r.call(this,y,x),C=b.length,P,O;for(P=0;P<C;++P)(O=k(this,w,y,x,b[P].identifier,b[P]))&&(He(y),O("start",y,b[P]))}}function g(y){var x=y.changedTouches,b=x.length,w,C;for(w=0;w<b;++w)(C=o[x[w].identifier])&&(Pt(y),C("drag",y,x[w]))}function A(y){var x=y.changedTouches,b=x.length,w,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),w=0;w<b;++w)(C=o[x[w].identifier])&&(He(y),C("end",y,x[w]))}function k(y,x,b,w,C,P){var O=a.copy(),R=st(P||b,x),E,F,j;if((j=n.call(y,new ae("beforestart",{sourceEvent:b,target:d,identifier:C,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:O}),w))!=null)return E=j.x-R[0]||0,F=j.y-R[1]||0,function z(M,T,N){var D=R,q;switch(M){case"start":o[C]=z,q=s++;break;case"end":delete o[C],--s;case"drag":R=st(N||T,x),q=s;break}O.call(M,y,new ae(M,{sourceEvent:T,subject:j,target:d,identifier:C,active:q,x:R[0]+E,y:R[1]+F,dx:R[0]-D[0],dy:R[1]-D[1],dispatch:O}),w)}}return d.filter=function(y){return arguments.length?(e=typeof y=="function"?y:oe(!!y),d):e},d.container=function(y){return arguments.length?(r=typeof y=="function"?y:oe(y),d):r},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:oe(y),d):n},d.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:oe(!!y),d):i},d.on=function(){var y=a.on.apply(a,arguments);return y===a?d:y},d.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,d):Math.sqrt(h)},d}function $e(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function jr(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function se(){}var ue=.7,Ve=1/ue,Ht="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ru=/^#([0-9a-f]{3,8})$/,nu=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),iu=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),ou=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${fe}\\)$`),au=new RegExp(`^rgba\\(${_t},${_t},${_t},${fe}\\)$`),su=new RegExp(`^hsl\\(${fe},${_t},${_t}\\)$`),uu=new RegExp(`^hsla\\(${fe},${_t},${_t},${fe}\\)$`),ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$e(se,Tt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ri,formatHex:ri,formatHex8:fu,formatHsl:lu,formatRgb:ni,toString:ni});function ri(){return this.rgb().formatHex()}function fu(){return this.rgb().formatHex8()}function lu(){return ui(this).formatHsl()}function ni(){return this.rgb().formatRgb()}function Tt(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=ru.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?ii(r):n===3?new nt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Ye(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Ye(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=nu.exec(e))?new nt(r[1],r[2],r[3],1):(r=iu.exec(e))?new nt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=ou.exec(e))?Ye(r[1],r[2],r[3],r[4]):(r=au.exec(e))?Ye(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=su.exec(e))?si(r[1],r[2]/100,r[3]/100,1):(r=uu.exec(e))?si(r[1],r[2]/100,r[3]/100,r[4]):ei.hasOwnProperty(e)?ii(ei[e]):e==="transparent"?new nt(NaN,NaN,NaN,0):null}function ii(e){return new nt(e>>16&255,e>>8&255,e&255,1)}function Ye(e,r,n,i){return i<=0&&(e=r=n=NaN),new nt(e,r,n,i)}function cu(e){return e instanceof se||(e=Tt(e)),e?(e=e.rgb(),new nt(e.r,e.g,e.b,e.opacity)):new nt}function $t(e,r,n,i){return arguments.length===1?cu(e):new nt(e,r,n,i==null?1:i)}function nt(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}$e(nt,$t,jr(se,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ue:Math.pow(ue,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nt(qt(this.r),qt(this.g),qt(this.b),Xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oi,formatHex:oi,formatHex8:hu,formatRgb:ai,toString:ai}));function oi(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}`}function hu(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}${Ft((isNaN(this.opacity)?1:this.opacity)*255)}`}function ai(){let e=Xe(this.opacity);return`${e===1?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${e===1?")":`, ${e})`}`}function Xe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ft(e){return e=qt(e),(e<16?"0":"")+e.toString(16)}function si(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new gt(e,r,n,i)}function ui(e){if(e instanceof gt)return new gt(e.h,e.s,e.l,e.opacity);if(e instanceof se||(e=Tt(e)),!e)return new gt;if(e instanceof gt)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(r,n,i),a=Math.max(r,n,i),s=NaN,u=a-o,f=(a+o)/2;return u?(r===a?s=(n-i)/u+(n<i)*6:n===a?s=(i-r)/u+2:s=(r-n)/u+4,u/=f<.5?a+o:2-a-o,s*=60):u=f>0&&f<1?0:s,new gt(s,u,f,e.opacity)}function fi(e,r,n,i){return arguments.length===1?ui(e):new gt(e,r,n,i==null?1:i)}function gt(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}$e(gt,fi,jr(se,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ue:Math.pow(ue,e),new gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,o=2*n-i;return new nt(kr(e>=240?e-240:e+120,o,i),kr(e,o,i),kr(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new gt(li(this.h),We(this.s),We(this.l),Xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Xe(this.opacity);return`${e===1?"hsl(":"hsla("}${li(this.h)}, ${We(this.s)*100}%, ${We(this.l)*100}%${e===1?")":`, ${e})`}`}}));function li(e){return e=(e||0)%360,e<0?e+360:e}function We(e){return Math.max(0,Math.min(1,e||0))}function kr(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}function Ar(e,r,n,i,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*r+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*i+s*o)/6}function ci(e){var r=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,r-1):Math.floor(n*r),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<r-1?e[i+2]:2*a-o;return Ar((n-i/r)*r,s,o,a,u)}}function hi(e){var r=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*r),o=e[(i+r-1)%r],a=e[i%r],s=e[(i+1)%r],u=e[(i+2)%r];return Ar((n-i/r)*r,o,a,s,u)}}var Cr=e=>()=>e;function du(e,r){return function(n){return e+n*r}}function pu(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function di(e){return(e=+e)==1?Ze:function(r,n){return n-r?pu(r,n,e):Cr(isNaN(r)?n:r)}}function Ze(e,r){var n=r-e;return n?du(e,n):Cr(isNaN(e)?r:e)}var Qe=function e(r){var n=di(r);function i(o,a){var s=n((o=$t(o)).r,(a=$t(a)).r),u=n(o.g,a.g),f=n(o.b,a.b),l=Ze(o.opacity,a.opacity);return function(c){return o.r=s(c),o.g=u(c),o.b=f(c),o.opacity=l(c),o+""}}return i.gamma=e,i}(1);function pi(e){return function(r){var n=r.length,i=new Array(n),o=new Array(n),a=new Array(n),s,u;for(s=0;s<n;++s)u=$t(r[s]),i[s]=u.r||0,o[s]=u.g||0,a[s]=u.b||0;return i=e(i),o=e(o),a=e(a),u.opacity=1,function(f){return u.r=i(f),u.g=o(f),u.b=a(f),u+""}}}var gu=pi(ci),mu=pi(hi);function ut(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sr=new RegExp(Mr.source,"g");function xu(e){return function(){return e}}function yu(e){return function(r){return e(r)+""}}function zr(e,r){var n=Mr.lastIndex=Sr.lastIndex=0,i,o,a,s=-1,u=[],f=[];for(e=e+"",r=r+"";(i=Mr.exec(e))&&(o=Sr.exec(r));)(a=o.index)>n&&(a=r.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(i=i[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,f.push({i:s,x:ut(i,o)})),n=Sr.lastIndex;return n<r.length&&(a=r.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?f[0]?yu(f[0].x):xu(r):(r=f.length,function(l){for(var c=0,h;c<r;++c)u[(h=f[c]).i]=h.x(l);return u.join("")})}var gi=180/Math.PI,Ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Or(e,r,n,i,o,a){var s,u,f;return(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s),(f=e*n+r*i)&&(n-=e*f,i-=r*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),e*i<r*n&&(e=-e,r=-r,f=-f,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(r,e)*gi,skewX:Math.atan(f)*gi,scaleX:s,scaleY:u}}var Je;function mi(e){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Ke:Or(r.a,r.b,r.c,r.d,r.e,r.f)}function xi(e){return e==null?Ke:(Je||(Je=document.createElementNS("http://www.w3.org/2000/svg","g")),Je.setAttribute("transform",e),(e=Je.transform.baseVal.consolidate())?(e=e.matrix,Or(e.a,e.b,e.c,e.d,e.e,e.f)):Ke)}function yi(e,r,n,i){function o(l){return l.length?l.pop()+" ":""}function a(l,c,h,d,p,m){if(l!==h||c!==d){var v=p.push("translate(",null,r,null,n);m.push({i:v-4,x:ut(l,h)},{i:v-2,x:ut(c,d)})}else(h||d)&&p.push("translate("+h+r+d+n)}function s(l,c,h,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:h.push(o(h)+"rotate(",null,i)-2,x:ut(l,c)})):c&&h.push(o(h)+"rotate("+c+i)}function u(l,c,h,d){l!==c?d.push({i:h.push(o(h)+"skewX(",null,i)-2,x:ut(l,c)}):c&&h.push(o(h)+"skewX("+c+i)}function f(l,c,h,d,p,m){if(l!==h||c!==d){var v=p.push(o(p)+"scale(",null,",",null,")");m.push({i:v-4,x:ut(l,h)},{i:v-2,x:ut(c,d)})}else(h!==1||d!==1)&&p.push(o(p)+"scale("+h+","+d+")")}return function(l,c){var h=[],d=[];return l=e(l),c=e(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,d),s(l.rotate,c.rotate,h,d),u(l.skewX,c.skewX,h,d),f(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,d),l=c=null,function(p){for(var m=-1,v=d.length,_;++m<v;)h[(_=d[m]).i]=_.x(p);return h.join("")}}}var Pr=yi(mi,"px, ","px)","deg)"),Tr=yi(xi,", ",")",")");var vu=1e-12;function vi(e){return((e=Math.exp(e))+1/e)/2}function _u(e){return((e=Math.exp(e))-1/e)/2}function bu(e){return((e=Math.exp(2*e))-1)/(e+1)}var Ir=function e(r,n,i){function o(a,s){var u=a[0],f=a[1],l=a[2],c=s[0],h=s[1],d=s[2],p=c-u,m=h-f,v=p*p+m*m,_,g;if(v<vu)g=Math.log(d/l)/r,_=function(w){return[u+w*p,f+w*m,l*Math.exp(r*w*g)]};else{var A=Math.sqrt(v),k=(d*d-l*l+i*v)/(2*l*n*A),y=(d*d-l*l-i*v)/(2*d*n*A),x=Math.log(Math.sqrt(k*k+1)-k),b=Math.log(Math.sqrt(y*y+1)-y);g=(b-x)/r,_=function(w){var C=w*g,P=vi(x),O=l/(n*A)*(P*bu(r*C+x)-_u(x));return[u+O*p,f+O*m,l*P/vi(r*C+x)]}}return _.duration=g*1e3*r/Math.SQRT2,_}return o.rho=function(a){var s=Math.max(.001,+a),u=s*s,f=u*u;return e(s,u,f)},o}(Math.SQRT2,2,4);var Vt=0,le=0,ce=0,_i=1e3,tr,he,er=0,Lt=0,rr=0,de=typeof performance=="object"&&performance.now?performance:Date,bi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pe(){return Lt||(bi(wu),Lt=de.now()+rr)}function wu(){Lt=0}function ge(){this._call=this._time=this._next=null}ge.prototype=Yt.prototype={constructor:ge,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pe():+n)+(r==null?0:+r),!this._next&&he!==this&&(he?he._next=this:tr=this,he=this),this._call=e,this._time=n,Rr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rr())}};function Yt(e,r,n){var i=new ge;return i.restart(e,r,n),i}function wi(){pe(),++Vt;for(var e=tr,r;e;)(r=Lt-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Vt}function ji(){Lt=(er=de.now())+rr,Vt=le=0;try{wi()}finally{Vt=0,ku(),Lt=0}}function ju(){var e=de.now(),r=e-er;r>_i&&(rr-=r,er=e)}function ku(){for(var e,r=tr,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:tr=n);he=e,Rr(i)}function Rr(e){if(!Vt){le&&(le=clearTimeout(le));var r=e-Lt;r>24?(e<1/0&&(le=setTimeout(ji,e-de.now()-rr)),ce&&(ce=clearInterval(ce))):(ce||(er=de.now(),ce=setInterval(ju,_i)),Vt=1,bi(ji))}}function nr(e,r,n){var i=new ge;return r=r==null?0:+r,i.restart(o=>{i.stop(),e(o+r)},r,n),i}var Au=Ct("start","end","cancel","interrupt"),Cu=[],ki=0,Ai=1,ir=2,or=3,Ci=4,ar=5,me=6;function It(e,r,n,i,o,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Mu(e,n,{name:r,index:i,group:o,on:Au,tween:Cu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ki})}function xe(e,r){var n=X(e,r);if(n.state>ki)throw new Error("too late; already scheduled");return n}function Q(e,r){var n=X(e,r);if(n.state>or)throw new Error("too late; already running");return n}function X(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function Mu(e,r,n){var i=e.__transition,o;i[r]=n,n.timer=Yt(a,0,n.time);function a(l){n.state=Ai,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,h,d,p;if(n.state!==Ai)return f();for(c in i)if(p=i[c],p.name===n.name){if(p.state===or)return nr(s);p.state===Ci?(p.state=me,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[c]):+c<r&&(p.state=me,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[c])}if(nr(function(){n.state===or&&(n.state=Ci,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=ir,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ir){for(n.state=or,o=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function u(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(f),n.state=ar,1),h=-1,d=o.length;++h<d;)o[h].call(e,c);n.state===ar&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=me,n.timer.stop(),delete i[r];for(var l in i)return;delete e.__transition}}function Ut(e,r){var n=e.__transition,i,o,a=!0,s;if(!!n){r=r==null?null:r+"";for(s in n){if((i=n[s]).name!==r){a=!1;continue}o=i.state>ir&&i.state<ar,i.state=me,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}a&&delete e.__transition}}function Mi(e){return this.each(function(){Ut(this,e)})}function Su(e,r){var n,i;return function(){var o=Q(this,e),a=o.tween;if(a!==n){i=n=a;for(var s=0,u=i.length;s<u;++s)if(i[s].name===r){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function zu(e,r,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=Q(this,e),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:r,value:n},f=0,l=o.length;f<l;++f)if(o[f].name===r){o[f]=u;break}f===l&&o.push(u)}a.tween=o}}function Si(e,r){var n=this._id;if(e+="",arguments.length<2){for(var i=X(this.node(),n).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((r==null?Su:zu)(n,e,r))}function Xt(e,r,n){var i=e._id;return e.each(function(){var o=Q(this,i);(o.value||(o.value={}))[r]=n.apply(this,arguments)}),function(o){return X(o,i).value[r]}}function sr(e,r){var n;return(typeof r=="number"?ut:r instanceof Tt?Qe:(n=Tt(r))?(r=n,Qe):zr)(e,r)}function Ou(e){return function(){this.removeAttribute(e)}}function Pu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tu(e,r,n){var i,o=n+"",a;return function(){var s=this.getAttribute(e);return s===o?null:s===i?a:a=r(i=s,n)}}function Iu(e,r,n){var i,o=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?a:a=r(i=s,n)}}function Ru(e,r,n){var i,o,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u)))}}function Eu(e,r,n){var i,o,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u)))}}function zi(e,r){var n=kt(e),i=n==="transform"?Tr:sr;return this.attrTween(e,typeof r=="function"?(n.local?Eu:Ru)(n,i,Xt(this,"attr."+e,r)):r==null?(n.local?Pu:Ou)(n):(n.local?Iu:Tu)(n,i,r))}function Nu(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function Du(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function qu(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&Du(e,a)),n}return o._value=r,o}function Fu(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&Nu(e,a)),n}return o._value=r,o}function Oi(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=kt(e);return this.tween(n,(i.local?qu:Fu)(i,r))}function Lu(e,r){return function(){xe(this,e).delay=+r.apply(this,arguments)}}function Uu(e,r){return r=+r,function(){xe(this,e).delay=r}}function Pi(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Lu:Uu)(r,e)):X(this.node(),r).delay}function Bu(e,r){return function(){Q(this,e).duration=+r.apply(this,arguments)}}function Gu(e,r){return r=+r,function(){Q(this,e).duration=r}}function Ti(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Bu:Gu)(r,e)):X(this.node(),r).duration}function Hu(e,r){if(typeof r!="function")throw new Error;return function(){Q(this,e).ease=r}}function Ii(e){var r=this._id;return arguments.length?this.each(Hu(r,e)):X(this.node(),r).ease}function $u(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;Q(this,e).ease=n}}function Ri(e){if(typeof e!="function")throw new Error;return this.each($u(this._id,e))}function Ei(e){typeof e!="function"&&(e=ee(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&e.call(f,f.__data__,l,a)&&u.push(f);return new et(i,this._parents,this._name,this._id)}function Ni(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var f=r[u],l=n[u],c=f.length,h=s[u]=new Array(c),d,p=0;p<c;++p)(d=f[p]||l[p])&&(h[p]=d);for(;u<i;++u)s[u]=r[u];return new et(s,this._parents,this._name,this._id)}function Vu(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function Yu(e,r,n){var i,o,a=Vu(r)?xe:Q;return function(){var s=a(this,e),u=s.on;u!==i&&(o=(i=u).copy()).on(r,n),s.on=o}}function Di(e,r){var n=this._id;return arguments.length<2?X(this.node(),n).on.on(e):this.each(Yu(n,e,r))}function Xu(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function qi(){return this.on("end.remove",Xu(this._id))}function Fi(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Nt(e));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u=i[s],f=u.length,l=a[s]=new Array(f),c,h,d=0;d<f;++d)(c=u[d])&&(h=e.call(c,c.__data__,d,u))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h,It(l[d],r,n,d,l,X(c,n)));return new et(a,this._parents,r,n)}function Li(e){var r=this._name,n=this._id;typeof e!="function"&&(e=te(e));for(var i=this._groups,o=i.length,a=[],s=[],u=0;u<o;++u)for(var f=i[u],l=f.length,c,h=0;h<l;++h)if(c=f[h]){for(var d=e.call(c,c.__data__,h,f),p,m=X(c,n),v=0,_=d.length;v<_;++v)(p=d[v])&&It(p,r,n,v,d,m);a.push(d),s.push(c)}return new et(a,s,r,n)}var Wu=At.prototype.constructor;function Ui(){return new Wu(this._groups,this._parents)}function Zu(e,r){var n,i,o;return function(){var a=Ot(this,e),s=(this.style.removeProperty(e),Ot(this,e));return a===s?null:a===n&&s===i?o:o=r(n=a,i=s)}}function Bi(e){return function(){this.style.removeProperty(e)}}function Qu(e,r,n){var i,o=n+"",a;return function(){var s=Ot(this,e);return s===o?null:s===i?a:a=r(i=s,n)}}function Ku(e,r,n){var i,o,a;return function(){var s=Ot(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Ot(this,e))),s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u))}}function Ju(e,r){var n,i,o,a="style."+r,s="end."+a,u;return function(){var f=Q(this,e),l=f.on,c=f.value[a]==null?u||(u=Bi(r)):void 0;(l!==n||o!==c)&&(i=(n=l).copy()).on(s,o=c),f.on=i}}function Gi(e,r,n){var i=(e+="")==="transform"?Pr:sr;return r==null?this.styleTween(e,Zu(e,i)).on("end.style."+e,Bi(e)):typeof r=="function"?this.styleTween(e,Ku(e,i,Xt(this,"style."+e,r))).each(Ju(this._id,e)):this.styleTween(e,Qu(e,i,r),n).on("end.style."+e,null)}function tf(e,r,n){return function(i){this.style.setProperty(e,r.call(this,i),n)}}function ef(e,r,n){var i,o;function a(){var s=r.apply(this,arguments);return s!==o&&(i=(o=s)&&tf(e,s,n)),i}return a._value=r,a}function Hi(e,r,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,ef(e,r,n==null?"":n))}function rf(e){return function(){this.textContent=e}}function nf(e){return function(){var r=e(this);this.textContent=r==null?"":r}}function $i(e){return this.tween("text",typeof e=="function"?nf(Xt(this,"text",e)):rf(e==null?"":e+""))}function of(e){return function(r){this.textContent=e.call(this,r)}}function af(e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&of(o)),r}return i._value=e,i}function Vi(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,af(e))}function Yi(){for(var e=this._name,r=this._id,n=ur(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)if(f=s[l]){var c=X(f,r);It(f,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new et(i,this._parents,e,n)}function Xi(){var e,r,n=this,i=n._id,o=n.size();return new Promise(function(a,s){var u={value:s},f={value:function(){--o==0&&a()}};n.each(function(){var l=Q(this,i),c=l.on;c!==e&&(r=(e=c).copy(),r._.cancel.push(u),r._.interrupt.push(u),r._.end.push(f)),l.on=r}),o===0&&a()})}var sf=0;function et(e,r,n,i){this._groups=e,this._parents=r,this._name=n,this._id=i}function Wi(e){return At().transition(e)}function ur(){return++sf}var Mt=At.prototype;et.prototype=Wi.prototype={constructor:et,select:Fi,selectAll:Li,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:Ei,merge:Ni,selection:Ui,transition:Yi,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:Di,attr:zi,attrTween:Oi,style:Gi,styleTween:Hi,text:$i,textTween:Vi,remove:qi,tween:Si,delay:Pi,duration:Ti,ease:Ii,easeVarying:Ri,end:Xi,[Symbol.iterator]:Mt[Symbol.iterator]};function fr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uf={time:null,delay:0,duration:250,ease:fr};function ff(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function Zi(e){var r,n;e instanceof et?(r=e._id,e=e._name):(r=ur(),(n=uf).time=pe(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&It(f,e,r,l,s,n||ff(f,r));return new et(i,this._parents,e,r)}At.prototype.interrupt=Mi;At.prototype.transition=Zi;var ye=e=>()=>e;function Er(e,{sourceEvent:r,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function mt(e,r,n){this.k=e,this.x=r,this.y=n}mt.prototype={constructor:mt,scale:function(e){return e===1?this:new mt(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mt(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ve=new mt(1,0,0);ot.prototype=mt.prototype;function ot(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ve;return e.__zoom}function lr(e){e.stopImmediatePropagation()}function Wt(e){e.preventDefault(),e.stopImmediatePropagation()}function lf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function cf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Qi(){return this.__zoom||ve}function hf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function df(){return navigator.maxTouchPoints||"ontouchstart"in this}function pf(e,r,n){var i=e.invertX(r[0][0])-n[0][0],o=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],s=e.invertY(r[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Nr(){var e=lf,r=cf,n=pf,i=hf,o=df,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Ir,l=Ct("start","zoom","end"),c,h,d,p=500,m=150,v=0,_=10;function g(j){j.property("__zoom",Qi).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",O).filter(o).on("touchstart.zoom",R).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(j,z,M,T){var N=j.selection?j.selection():j;N.property("__zoom",Qi),j!==N?x(j,z,M,T):N.interrupt().each(function(){b(this,arguments).event(T).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},g.scaleBy=function(j,z,M,T){g.scaleTo(j,function(){var N=this.__zoom.k,D=typeof z=="function"?z.apply(this,arguments):z;return N*D},M,T)},g.scaleTo=function(j,z,M,T){g.transform(j,function(){var N=r.apply(this,arguments),D=this.__zoom,q=M==null?y(N):typeof M=="function"?M.apply(this,arguments):M,L=D.invert(q),H=typeof z=="function"?z.apply(this,arguments):z;return n(k(A(D,H),q,L),N,s)},M,T)},g.translateBy=function(j,z,M,T){g.transform(j,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof M=="function"?M.apply(this,arguments):M),r.apply(this,arguments),s)},null,T)},g.translateTo=function(j,z,M,T,N){g.transform(j,function(){var D=r.apply(this,arguments),q=this.__zoom,L=T==null?y(D):typeof T=="function"?T.apply(this,arguments):T;return n(ve.translate(L[0],L[1]).scale(q.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof M=="function"?-M.apply(this,arguments):-M),D,s)},T,N)};function A(j,z){return z=Math.max(a[0],Math.min(a[1],z)),z===j.k?j:new mt(z,j.x,j.y)}function k(j,z,M){var T=z[0]-M[0]*j.k,N=z[1]-M[1]*j.k;return T===j.x&&N===j.y?j:new mt(j.k,T,N)}function y(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function x(j,z,M,T){j.on("start.zoom",function(){b(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(T).end()}).tween("zoom",function(){var N=this,D=arguments,q=b(N,D).event(T),L=r.apply(N,D),H=M==null?y(L):typeof M=="function"?M.apply(N,D):M,Z=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),Y=N.__zoom,dt=typeof z=="function"?z.apply(N,D):z,wt=f(Y.invert(H).concat(Z/Y.k),dt.invert(H).concat(Z/dt.k));return function(pt){if(pt===1)pt=dt;else{var jt=wt(pt),mr=Z/jt[2];pt=new mt(mr,H[0]-jt[0]*mr,H[1]-jt[1]*mr)}q.zoom(null,pt)}})}function b(j,z,M){return!M&&j.__zooming||new w(j,z)}function w(j,z){this.that=j,this.args=z,this.active=0,this.sourceEvent=null,this.extent=r.apply(j,z),this.taps=0}w.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,z){return this.mouse&&j!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var z=K(this.that).datum();l.call(j,this.that,new Er(j,{sourceEvent:this.sourceEvent,target:g,type:j,transform:this.that.__zoom,dispatch:l}),z)}};function C(j,...z){if(!e.apply(this,arguments))return;var M=b(this,z).event(j),T=this.__zoom,N=Math.max(a[0],Math.min(a[1],T.k*Math.pow(2,i.apply(this,arguments)))),D=st(j);if(M.wheel)(M.mouse[0][0]!==D[0]||M.mouse[0][1]!==D[1])&&(M.mouse[1]=T.invert(M.mouse[0]=D)),clearTimeout(M.wheel);else{if(T.k===N)return;M.mouse=[D,T.invert(D)],Ut(this),M.start()}Wt(j),M.wheel=setTimeout(q,m),M.zoom("mouse",n(k(A(T,N),M.mouse[0],M.mouse[1]),M.extent,s));function q(){M.wheel=null,M.end()}}function P(j,...z){if(d||!e.apply(this,arguments))return;var M=j.currentTarget,T=b(this,z,!0).event(j),N=K(j.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",Z,!0),D=st(j,M),q=j.clientX,L=j.clientY;ne(j.view),lr(j),T.mouse=[D,this.__zoom.invert(D)],Ut(this),T.start();function H(Y){if(Wt(Y),!T.moved){var dt=Y.clientX-q,wt=Y.clientY-L;T.moved=dt*dt+wt*wt>v}T.event(Y).zoom("mouse",n(k(T.that.__zoom,T.mouse[0]=st(Y,M),T.mouse[1]),T.extent,s))}function Z(Y){N.on("mousemove.zoom mouseup.zoom",null),ie(Y.view,T.moved),Wt(Y),T.event(Y).end()}}function O(j,...z){if(!!e.apply(this,arguments)){var M=this.__zoom,T=st(j.changedTouches?j.changedTouches[0]:j,this),N=M.invert(T),D=M.k*(j.shiftKey?.5:2),q=n(k(A(M,D),T,N),r.apply(this,z),s);Wt(j),u>0?K(this).transition().duration(u).call(x,q,T,j):K(this).call(g.transform,q,T,j)}}function R(j,...z){if(!!e.apply(this,arguments)){var M=j.touches,T=M.length,N=b(this,z,j.changedTouches.length===T).event(j),D,q,L,H;for(lr(j),q=0;q<T;++q)L=M[q],H=st(L,this),H=[H,this.__zoom.invert(H),L.identifier],N.touch0?!N.touch1&&N.touch0[2]!==H[2]&&(N.touch1=H,N.taps=0):(N.touch0=H,D=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),D&&(N.taps<2&&(h=H[0],c=setTimeout(function(){c=null},p)),Ut(this),N.start())}}function E(j,...z){if(!!this.__zooming){var M=b(this,z).event(j),T=j.changedTouches,N=T.length,D,q,L,H;for(Wt(j),D=0;D<N;++D)q=T[D],L=st(q,this),M.touch0&&M.touch0[2]===q.identifier?M.touch0[0]=L:M.touch1&&M.touch1[2]===q.identifier&&(M.touch1[0]=L);if(q=M.that.__zoom,M.touch1){var Z=M.touch0[0],Y=M.touch0[1],dt=M.touch1[0],wt=M.touch1[1],pt=(pt=dt[0]-Z[0])*pt+(pt=dt[1]-Z[1])*pt,jt=(jt=wt[0]-Y[0])*jt+(jt=wt[1]-Y[1])*jt;q=A(q,Math.sqrt(pt/jt)),L=[(Z[0]+dt[0])/2,(Z[1]+dt[1])/2],H=[(Y[0]+wt[0])/2,(Y[1]+wt[1])/2]}else if(M.touch0)L=M.touch0[0],H=M.touch0[1];else return;M.zoom("touch",n(k(q,L,H),M.extent,s))}}function F(j,...z){if(!!this.__zooming){var M=b(this,z).event(j),T=j.changedTouches,N=T.length,D,q;for(lr(j),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),D=0;D<N;++D)q=T[D],M.touch0&&M.touch0[2]===q.identifier?delete M.touch0:M.touch1&&M.touch1[2]===q.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(q=st(q,this),Math.hypot(h[0]-q[0],h[1]-q[1])<_)){var L=K(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return g.wheelDelta=function(j){return arguments.length?(i=typeof j=="function"?j:ye(+j),g):i},g.filter=function(j){return arguments.length?(e=typeof j=="function"?j:ye(!!j),g):e},g.touchable=function(j){return arguments.length?(o=typeof j=="function"?j:ye(!!j),g):o},g.extent=function(j){return arguments.length?(r=typeof j=="function"?j:ye([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),g):r},g.scaleExtent=function(j){return arguments.length?(a[0]=+j[0],a[1]=+j[1],g):[a[0],a[1]]},g.translateExtent=function(j){return arguments.length?(s[0][0]=+j[0][0],s[1][0]=+j[1][0],s[0][1]=+j[0][1],s[1][1]=+j[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(j){return arguments.length?(n=j,g):n},g.duration=function(j){return arguments.length?(u=+j,g):u},g.interpolate=function(j){return arguments.length?(f=j,g):f},g.on=function(){var j=l.on.apply(l,arguments);return j===l?g:j},g.clickDistance=function(j){return arguments.length?(v=(j=+j)*j,g):Math.sqrt(v)},g.tapDistance=function(j){return arguments.length?(_=+j,g):_},g}var _e=class extends Map{constructor(r,n=xf){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(let[i,o]of r)this.set(i,o)}get(r){return super.get(Ki(this,r))}has(r){return super.has(Ki(this,r))}set(r,n){return super.set(gf(this,r),n)}delete(r){return super.delete(mf(this,r))}};function Ki({_intern:e,_key:r},n){let i=r(n);return e.has(i)?e.get(i):n}function gf({_intern:e,_key:r},n){let i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function mf({_intern:e,_key:r},n){let i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function xf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function be(e,r){let n;if(r===void 0)for(let i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function we(e,r){let n;if(r===void 0)for(let i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}var Na=fn(no());var je={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var r=1.70158;return e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return--e*e*((r+1)*e+r)+1},InOut:function(e){var r=1.70158*1.525;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}},Bounce:{In:function(e){return 1-je.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?je.Bounce.In(e*2)*.5:je.Bounce.Out(e*2-1)*.5+.5}}},ke;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?ke=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?ke=self.performance.now.bind(self.performance):Date.now!==void 0?ke=Date.now:ke=function(){return new Date().getTime()};var Bt=ke,io=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(r){this._tweens[r.getId()]=r,this._tweensAddedDuringUpdate[r.getId()]=r},e.prototype.remove=function(r){delete this._tweens[r.getId()],delete this._tweensAddedDuringUpdate[r.getId()]},e.prototype.update=function(r,n){r===void 0&&(r=Bt()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],s=!n;a&&a.update(r,s)===!1&&!n&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Zt={Linear:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=Zt.Utils.Linear;return r<0?a(e[0],e[1],i):r>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,r){for(var n=0,i=e.length-1,o=Math.pow,a=Zt.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-r,i-s)*o(r,s)*e[s]*a(i,s);return n},CatmullRom:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=Zt.Utils.CatmullRom;return e[0]===e[n]?(r<0&&(o=Math.floor(i=n*(1+r))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):r<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,r,n){return(r-e)*n+e},Bernstein:function(e,r){var n=Zt.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(){var e=[1];return function(r){var n=1;if(e[r])return e[r];for(var i=r;i>1;i--)n*=i;return e[r]=n,n}}(),CatmullRom:function(e,r,n,i,o){var a=(n-e)*.5,s=(i-r)*.5,u=o*o,f=o*u;return(2*r-2*n+a+s)*f+(-3*r+3*n-2*a-s)*u+a*o+r}}},qr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),oo=new io,Ef=function(){function e(r,n){n===void 0&&(n=oo),this._object=r,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=je.Linear.None,this._interpolationFunction=Zt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=qr.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(r,n){return this._valuesEnd=Object.create(r),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(r){return this._duration=r,this},e.prototype.start=function(r){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r!==void 0?typeof r=="string"?Bt()+parseFloat(r):r:Bt(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(r,n,i,o){for(var a in i){var s=r[a],u=Array.isArray(s),f=u?"array":typeof s,l=!u&&Array.isArray(i[a]);if(!(f==="undefined"||f==="function")){if(l){var c=i[a];if(c.length===0)continue;c=c.map(this._handleRelativeValue.bind(this,s)),i[a]=[s].concat(c)}if((f==="object"||u)&&s&&!l){n[a]=u?[]:{};for(var h in s)n[a][h]=s[h];o[a]=u?[]:{},this._setupProperties(s,n[a],i[a],o[a])}else typeof n[a]=="undefined"&&(n[a]=s),u||(n[a]*=1),l?o[a]=i[a].slice().reverse():o[a]=n[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(r){return r===void 0&&(r=Bt()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this._group&&this._group.remove(this),this)},e.prototype.resume=function(r){return r===void 0&&(r=Bt()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return this._group=r,this},e.prototype.delay=function(r){return this._delayTime=r,this},e.prototype.repeat=function(r){return this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return this._yoyo=r,this},e.prototype.easing=function(r){return this._easingFunction=r,this},e.prototype.interpolation=function(r){return this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){if(r===void 0&&(r=Bt()),n===void 0&&(n=!0),this._isPaused)return!0;var i,o,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(r>a)return!1;n&&this.start(r)}if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(r-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var s=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=r+this._repeatDelayTime:this._startTime=r+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,f=this._chainedTweens.length;u<f;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,i,o){for(var a in i)if(n[a]!==void 0){var s=n[a]||0,u=i[a],f=Array.isArray(r[a]),l=Array.isArray(u),c=!f&&l;c?r[a]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(r[a],s,u,o):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(r[a]=s+(u-s)*o))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],i=this._valuesEnd[r];typeof i=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e}(),Nf="18.6.4",Df=qr.nextId,bt=oo,qf=bt.getAll.bind(bt),Ff=bt.removeAll.bind(bt),Lf=bt.add.bind(bt),Uf=bt.remove.bind(bt),Bf=bt.update.bind(bt),Gf={Easing:je,Group:io,Interpolation:Zt,now:Bt,Sequence:qr,nextId:Df,Tween:Ef,VERSION:Nf,getAll:qf,removeAll:Ff,add:Lf,remove:Uf,update:Bf},Qt=Gf;var uo=fn(so());function Hf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fo(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $f(e,r,n){return r&&fo(e.prototype,r),n&&fo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vf(e,r){return Yf(e)||Xf(e,r)||Wf(e,r)||Zf()}function Yf(e){if(Array.isArray(e))return e}function Xf(e,r){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],o=!0,a=!1,s,u;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(i.push(s.value),!(r&&i.length===r));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}return i}}function Wf(e,r){if(!!e){if(typeof e=="string")return lo(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lo(e,r)}}function lo(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Zf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qf=$f(function e(r,n){var i=n.default,o=i===void 0?null:i,a=n.triggerUpdate,s=a===void 0?!0:a,u=n.onChange,f=u===void 0?function(l,c){}:u;Hf(this,e),this.name=r,this.defaultVal=o,this.triggerUpdate=s,this.onChange=f});function Lr(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,i=e.props,o=i===void 0?{}:i,a=e.methods,s=a===void 0?{}:a,u=e.aliases,f=u===void 0?{}:u,l=e.init,c=l===void 0?function(){}:l,h=e.update,d=h===void 0?function(){}:h,p=Object.keys(o).map(function(m){return new Qf(m,o[m])});return function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},n instanceof Function?n(m):n,{initialised:!1}),_={};function g(y){return A(y,m),k(),g}var A=function(x,b){c.call(g,x,v,b),v.initialised=!0},k=(0,uo.default)(function(){!v.initialised||(d.call(g,v,_),_={})},1);return p.forEach(function(y){g[y.name]=x(y);function x(b){var w=b.name,C=b.triggerUpdate,P=C===void 0?!1:C,O=b.onChange,R=O===void 0?function(j,z){}:O,E=b.defaultVal,F=E===void 0?null:E;return function(j){var z=v[w];if(!arguments.length)return z;var M=j===void 0?F:j;return v[w]=M,R.call(g,M,v,z),!_.hasOwnProperty(w)&&(_[w]=z),P&&k(),g}}}),Object.keys(s).forEach(function(y){g[y]=function(){for(var x,b=arguments.length,w=new Array(b),C=0;C<b;C++)w[C]=arguments[C];return(x=s[y]).call.apply(x,[g,v].concat(w))}}),Object.entries(f).forEach(function(y){var x=Vf(y,2),b=x[0],w=x[1];return g[b]=g[w]}),g.resetProps=function(){return p.forEach(function(y){g[y.name](y.defaultVal)}),g},g.resetProps(),v._rerender=k,g}}var Kf=function(e){return e instanceof Function?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}},G=Kf;var Jf=/^\s+/,tl=/\s+$/;function I(e,r){if(e=e||"",r=r||{},e instanceof I)return e;if(!(this instanceof I))return new I(e,r);var n=el(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}I.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,o,a,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=xo(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=ho(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=ho(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=co(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=co(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return po(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ol(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round($(this._r,255)*100)+"%",g:Math.round($(this._g,255)*100)+"%",b:Math.round($(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round($(this._r,255)*100)+"%, "+Math.round($(this._g,255)*100)+"%, "+Math.round($(this._b,255)*100)+"%)":"rgba("+Math.round($(this._r,255)*100)+"%, "+Math.round($(this._g,255)*100)+"%, "+Math.round($(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xl[po(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+go(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=I(e);n="#"+go(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,o=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return I(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(fl,arguments)},brighten:function(){return this._applyModification(ll,arguments)},darken:function(){return this._applyModification(cl,arguments)},desaturate:function(){return this._applyModification(al,arguments)},saturate:function(){return this._applyModification(sl,arguments)},greyscale:function(){return this._applyModification(ul,arguments)},spin:function(){return this._applyModification(hl,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(gl,arguments)},complement:function(){return this._applyCombination(dl,arguments)},monochromatic:function(){return this._applyCombination(ml,arguments)},splitcomplement:function(){return this._applyCombination(pl,arguments)},triad:function(){return this._applyCombination(mo,[3])},tetrad:function(){return this._applyCombination(mo,[4])}};I.fromRatio=function(e,r){if(typeof e=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=Ae(e[i]));e=n}return I(e,r)};function el(e){var r={r:0,g:0,b:0},n=1,i=null,o=null,a=null,s=!1,u=!1;return typeof e=="string"&&(e=bl(e)),typeof e=="object"&&(St(e.r)&&St(e.g)&&St(e.b)?(r=rl(e.r,e.g,e.b),s=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):St(e.h)&&St(e.s)&&St(e.v)?(i=Ae(e.s),o=Ae(e.v),r=il(e.h,i,o),s=!0,u="hsv"):St(e.h)&&St(e.s)&&St(e.l)&&(i=Ae(e.s),a=Ae(e.l),r=nl(e.h,i,a),s=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=xo(n),{ok:s,format:e.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function rl(e,r,n){return{r:$(e,255)*255,g:$(r,255)*255,b:$(n,255)*255}}function co(e,r,n){e=$(e,255),r=$(r,255),n=$(n,255);var i=Math.max(e,r,n),o=Math.min(e,r,n),a,s,u=(i+o)/2;if(i==o)a=s=0;else{var f=i-o;switch(s=u>.5?f/(2-i-o):f/(i+o),i){case e:a=(r-n)/f+(r<n?6:0);break;case r:a=(n-e)/f+2;break;case n:a=(e-r)/f+4;break}a/=6}return{h:a,s,l:u}}function nl(e,r,n){var i,o,a;e=$(e,360),r=$(r,100),n=$(n,100);function s(l,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(c-l)*6*h:h<1/2?c:h<2/3?l+(c-l)*(2/3-h)*6:l}if(r===0)i=o=a=n;else{var u=n<.5?n*(1+r):n+r-n*r,f=2*n-u;i=s(f,u,e+1/3),o=s(f,u,e),a=s(f,u,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function ho(e,r,n){e=$(e,255),r=$(r,255),n=$(n,255);var i=Math.max(e,r,n),o=Math.min(e,r,n),a,s,u=i,f=i-o;if(s=i===0?0:f/i,i==o)a=0;else{switch(i){case e:a=(r-n)/f+(r<n?6:0);break;case r:a=(n-e)/f+2;break;case n:a=(e-r)/f+4;break}a/=6}return{h:a,s,v:u}}function il(e,r,n){e=$(e,360)*6,r=$(r,100),n=$(n,100);var i=Math.floor(e),o=e-i,a=n*(1-r),s=n*(1-o*r),u=n*(1-(1-o)*r),f=i%6,l=[n,s,a,a,u,n][f],c=[u,n,n,s,a,a][f],h=[a,a,u,n,n,s][f];return{r:l*255,g:c*255,b:h*255}}function po(e,r,n,i){var o=[xt(Math.round(e).toString(16)),xt(Math.round(r).toString(16)),xt(Math.round(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function ol(e,r,n,i,o){var a=[xt(Math.round(e).toString(16)),xt(Math.round(r).toString(16)),xt(Math.round(n).toString(16)),xt(yo(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function go(e,r,n,i){var o=[xt(yo(i)),xt(Math.round(e).toString(16)),xt(Math.round(r).toString(16)),xt(Math.round(n).toString(16))];return o.join("")}I.equals=function(e,r){return!e||!r?!1:I(e).toRgbString()==I(r).toRgbString()};I.random=function(){return I.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function al(e,r){r=r===0?0:r||10;var n=I(e).toHsl();return n.s-=r/100,n.s=hr(n.s),I(n)}function sl(e,r){r=r===0?0:r||10;var n=I(e).toHsl();return n.s+=r/100,n.s=hr(n.s),I(n)}function ul(e){return I(e).desaturate(100)}function fl(e,r){r=r===0?0:r||10;var n=I(e).toHsl();return n.l+=r/100,n.l=hr(n.l),I(n)}function ll(e,r){r=r===0?0:r||10;var n=I(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),I(n)}function cl(e,r){r=r===0?0:r||10;var n=I(e).toHsl();return n.l-=r/100,n.l=hr(n.l),I(n)}function hl(e,r){var n=I(e).toHsl(),i=(n.h+r)%360;return n.h=i<0?360+i:i,I(n)}function dl(e){var r=I(e).toHsl();return r.h=(r.h+180)%360,I(r)}function mo(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var n=I(e).toHsl(),i=[I(e)],o=360/r,a=1;a<r;a++)i.push(I({h:(n.h+a*o)%360,s:n.s,l:n.l}));return i}function pl(e){var r=I(e).toHsl(),n=r.h;return[I(e),I({h:(n+72)%360,s:r.s,l:r.l}),I({h:(n+216)%360,s:r.s,l:r.l})]}function gl(e,r,n){r=r||6,n=n||30;var i=I(e).toHsl(),o=360/n,a=[I(e)];for(i.h=(i.h-(o*r>>1)+720)%360;--r;)i.h=(i.h+o)%360,a.push(I(i));return a}function ml(e,r){r=r||6;for(var n=I(e).toHsv(),i=n.h,o=n.s,a=n.v,s=[],u=1/r;r--;)s.push(I({h:i,s:o,v:a})),a=(a+u)%1;return s}I.mix=function(e,r,n){n=n===0?0:n||50;var i=I(e).toRgb(),o=I(r).toRgb(),a=n/100,s={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return I(s)};I.readability=function(e,r){var n=I(e),i=I(r);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};I.isReadable=function(e,r,n){var i=I.readability(e,r),o,a;switch(a=!1,o=wl(n),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};I.mostReadable=function(e,r,n){var i=null,o=0,a,s,u,f;n=n||{},s=n.includeFallbackColors,u=n.level,f=n.size;for(var l=0;l<r.length;l++)a=I.readability(e,r[l]),a>o&&(o=a,i=I(r[l]));return I.isReadable(e,i,{level:u,size:f})||!s?i:(n.includeFallbackColors=!1,I.mostReadable(e,["#fff","#000"],n))};var Ur=I.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xl=I.hexNames=yl(Ur);function yl(e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);return r}function xo(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $(e,r){vl(e)&&(e="100%");var n=_l(e);return e=Math.min(r,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function hr(e){return Math.min(1,Math.max(0,e))}function at(e){return parseInt(e,16)}function vl(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function _l(e){return typeof e=="string"&&e.indexOf("%")!=-1}function xt(e){return e.length==1?"0"+e:""+e}function Ae(e){return e<=1&&(e=e*100+"%"),e}function yo(e){return Math.round(parseFloat(e)*255).toString(16)}function vo(e){return at(e)/255}var yt=function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",n="(?:"+r+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function St(e){return!!yt.CSS_UNIT.exec(e)}function bl(e){e=e.replace(Jf,"").replace(tl,"").toLowerCase();var r=!1;if(Ur[e])e=Ur[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=yt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=yt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=yt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=yt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=yt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=yt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=yt.hex8.exec(e))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),a:vo(n[4]),format:r?"name":"hex8"}:(n=yt.hex6.exec(e))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),format:r?"name":"hex"}:(n=yt.hex4.exec(e))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),a:vo(n[4]+""+n[4]),format:r?"name":"hex8"}:(n=yt.hex3.exec(e))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),format:r?"name":"hex"}:!1}function wl(e){var r,n;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:r,size:n}}function jl(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _o(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kl(e,r,n){return r&&_o(e.prototype,r),n&&_o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Al(e){return Cl(e)||Ml(e)||Sl(e)||zl()}function Cl(e){if(Array.isArray(e))return Br(e)}function Ml(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sl(e,r){if(!!e){if(typeof e=="string")return Br(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Br(e,r)}}function Br(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function zl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ol=123,Pl=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},bo=function(r,n,i){return(r<<16)+(n<<8)+i},Tl=function(r){var n=I(r).toRgb(),i=n.r,o=n.g,a=n.b;return bo(i,o,a)},wo=function(r,n){return r*Ol%Math.pow(2,n)},jo=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;jl(this,e),this.csBits=r,this.registry=["__reserved for background__"]}return kl(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=wo(i,this.csBits),a=Pl(i+(o<<24-this.csBits));return this.registry.push(n),a}},{key:"lookup",value:function(n){var i=typeof n=="string"?Tl(n):bo.apply(void 0,Al(n));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,a=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return wo(o,this.csBits)!==a||o>=this.registry.length?null:this.registry[o]}}]),e}();function Gr(e,r,n){var i,o=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var s,u=i.length,f,l=0,c=0,h=0;for(s=0;s<u;++s)f=i[s],l+=f.x||0,c+=f.y||0,h+=f.z||0;for(l=(l/u-e)*o,c=(c/u-r)*o,h=(h/u-n)*o,s=0;s<u;++s)f=i[s],l&&(f.x-=l),c&&(f.y-=c),h&&(f.z-=h)}return a.initialize=function(s){i=s},a.x=function(s){return arguments.length?(e=+s,a):e},a.y=function(s){return arguments.length?(r=+s,a):r},a.z=function(s){return arguments.length?(n=+s,a):n},a.strength=function(s){return arguments.length?(o=+s,a):o},a}function ko(e){var r=+this._x.call(null,e);return Ao(this.cover(r),r,e)}function Ao(e,r,n){if(isNaN(r))return e;var i,o=e._root,a={data:n},s=e._x0,u=e._x1,f,l,c,h,d;if(!o)return e._root=a,e;for(;o.length;)if((c=r>=(f=(s+u)/2))?s=f:u=f,i=o,!(o=o[h=+c]))return i[h]=a,e;if(l=+e._x.call(null,o.data),r===l)return a.next=o,i?i[h]=a:e._root=a,e;do i=i?i[h]=new Array(2):e._root=new Array(2),(c=r>=(f=(s+u)/2))?s=f:u=f;while((h=+c)==(d=+(l>=f)));return i[d]=o,i[h]=a,e}function Co(e){var r,n=e.length,i,o=new Array(n),a=1/0,s=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e[r]))||(o[r]=i,i<a&&(a=i),i>s&&(s=i));if(a>s)return this;for(this.cover(a).cover(s),r=0;r<n;++r)Ao(this,o[r],e[r]);return this}function Mo(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var i=n-r||1,o=this._root,a,s;r>e||e>=n;)switch(s=+(e<r),a=new Array(2),a[s]=o,o=a,i*=2,s){case 0:n=r+i;break;case 1:r=n-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._x1=n,this}function So(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function zo(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function ft(e,r,n){this.node=e,this.x0=r,this.x1=n}function Oo(e,r){var n,i=this._x0,o,a,s=this._x1,u=[],f=this._root,l,c;for(f&&u.push(new ft(f,i,s)),r==null?r=1/0:(i=e-r,s=e+r);l=u.pop();)if(!(!(f=l.node)||(o=l.x0)>s||(a=l.x1)<i))if(f.length){var h=(o+a)/2;u.push(new ft(f[1],h,a),new ft(f[0],o,h)),(c=+(e>=h))&&(l=u[u.length-1],u[u.length-1]=u[u.length-1-c],u[u.length-1-c]=l)}else{var d=Math.abs(e-+this._x.call(null,f.data));d<r&&(r=d,i=e-d,s=e+d,n=f.data)}return n}function Po(e){if(isNaN(f=+this._x.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._x1,f,l,c,h,d;if(!n)return this;if(n.length)for(;;){if((c=f>=(l=(s+u)/2))?s=l:u=l,r=n,!(n=n[h=+c]))return this;if(!n.length)break;r[h+1&1]&&(i=r,d=h)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[h]=a:delete r[h],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(i?i[d]=n:this._root=n),this):(this._root=a,this)}function To(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function Io(){return this._root}function Ro(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Eo(e){var r=[],n,i=this._root,o,a,s;for(i&&r.push(new ft(i,this._x0,this._x1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.x1)&&i.length){var u=(a+s)/2;(o=i[1])&&r.push(new ft(o,u,s)),(o=i[0])&&r.push(new ft(o,a,u))}return this}function No(e){var r=[],n=[],i;for(this._root&&r.push(new ft(this._root,this._x0,this._x1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.x1,f=(s+u)/2;(a=o[0])&&r.push(new ft(a,s,f)),(a=o[1])&&r.push(new ft(a,f,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.x1);return this}function Do(e){return e[0]}function qo(e){return arguments.length?(this._x=e,this):this._x}function Ce(e,r){var n=new Hr(r==null?Do:r,NaN,NaN);return e==null?n:n.addAll(e)}function Hr(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function Fo(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var it=Ce.prototype=Hr.prototype;it.copy=function(){var e=new Hr(this._x,this._x0,this._x1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Fo(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var o=0;o<2;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(2)}):r.target[o]=Fo(i));return e};it.add=ko;it.addAll=Co;it.cover=Mo;it.data=So;it.extent=zo;it.find=Oo;it.remove=Po;it.removeAll=To;it.root=Io;it.size=Ro;it.visit=Eo;it.visitAfter=No;it.x=qo;function Lo(e){let r=+this._x.call(null,e),n=+this._y.call(null,e);return Uo(this.cover(r,n),r,n,e)}function Uo(e,r,n,i){if(isNaN(r)||isNaN(n))return e;var o,a=e._root,s={data:i},u=e._x0,f=e._y0,l=e._x1,c=e._y1,h,d,p,m,v,_,g,A;if(!a)return e._root=s,e;for(;a.length;)if((v=r>=(h=(u+l)/2))?u=h:l=h,(_=n>=(d=(f+c)/2))?f=d:c=d,o=a,!(a=a[g=_<<1|v]))return o[g]=s,e;if(p=+e._x.call(null,a.data),m=+e._y.call(null,a.data),r===p&&n===m)return s.next=a,o?o[g]=s:e._root=s,e;do o=o?o[g]=new Array(4):e._root=new Array(4),(v=r>=(h=(u+l)/2))?u=h:l=h,(_=n>=(d=(f+c)/2))?f=d:c=d;while((g=_<<1|v)==(A=(m>=d)<<1|p>=h));return o[A]=a,o[g]=s,e}function Bo(e){var r,n,i=e.length,o,a,s=new Array(i),u=new Array(i),f=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(s[n]=o,u[n]=a,o<f&&(f=o),o>c&&(c=o),a<l&&(l=a),a>h&&(h=a));if(f>c||l>h)return this;for(this.cover(f,l).cover(c,h),n=0;n<i;++n)Uo(this,s[n],u[n],e[n]);return this}function Go(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,a=(i=Math.floor(r))+1;else{for(var s=o-n||1,u=this._root,f,l;n>e||e>=o||i>r||r>=a;)switch(l=(r<i)<<1|e<n,f=new Array(4),f[l]=u,u=f,s*=2,l){case 0:o=n+s,a=i+s;break;case 1:n=o-s,a=i+s;break;case 2:o=n+s,i=a-s;break;case 3:n=o-s,i=a-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=o,this._y1=a,this}function Ho(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function $o(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function W(e,r,n,i,o){this.node=e,this.x0=r,this.y0=n,this.x1=i,this.y1=o}function Vo(e,r,n){var i,o=this._x0,a=this._y0,s,u,f,l,c=this._x1,h=this._y1,d=[],p=this._root,m,v;for(p&&d.push(new W(p,o,a,c,h)),n==null?n=1/0:(o=e-n,a=r-n,c=e+n,h=r+n,n*=n);m=d.pop();)if(!(!(p=m.node)||(s=m.x0)>c||(u=m.y0)>h||(f=m.x1)<o||(l=m.y1)<a))if(p.length){var _=(s+f)/2,g=(u+l)/2;d.push(new W(p[3],_,g,f,l),new W(p[2],s,g,_,l),new W(p[1],_,u,f,g),new W(p[0],s,u,_,g)),(v=(r>=g)<<1|e>=_)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=m)}else{var A=e-+this._x.call(null,p.data),k=r-+this._y.call(null,p.data),y=A*A+k*k;if(y<n){var x=Math.sqrt(n=y);o=e-x,a=r-x,c=e+x,h=r+x,i=p.data}}return i}function Yo(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._y0,f=this._x1,l=this._y1,c,h,d,p,m,v,_,g;if(!n)return this;if(n.length)for(;;){if((m=c>=(d=(s+f)/2))?s=d:f=d,(v=h>=(p=(u+l)/2))?u=p:l=p,r=n,!(n=n[_=v<<1|m]))return this;if(!n.length)break;(r[_+1&3]||r[_+2&3]||r[_+3&3])&&(i=r,g=_)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[_]=a:delete r[_],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[g]=n:this._root=n),this):(this._root=a,this)}function Xo(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function Wo(){return this._root}function Zo(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Qo(e){var r=[],n,i=this._root,o,a,s,u,f;for(i&&r.push(new W(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.y0,u=n.x1,f=n.y1)&&i.length){var l=(a+u)/2,c=(s+f)/2;(o=i[3])&&r.push(new W(o,l,c,u,f)),(o=i[2])&&r.push(new W(o,a,c,l,f)),(o=i[1])&&r.push(new W(o,l,s,u,c)),(o=i[0])&&r.push(new W(o,a,s,l,c))}return this}function Ko(e){var r=[],n=[],i;for(this._root&&r.push(new W(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.x1,l=i.y1,c=(s+f)/2,h=(u+l)/2;(a=o[0])&&r.push(new W(a,s,u,c,h)),(a=o[1])&&r.push(new W(a,c,u,f,h)),(a=o[2])&&r.push(new W(a,s,h,c,l)),(a=o[3])&&r.push(new W(a,c,h,f,l))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Jo(e){return e[0]}function ta(e){return arguments.length?(this._x=e,this):this._x}function ea(e){return e[1]}function ra(e){return arguments.length?(this._y=e,this):this._y}function Me(e,r,n){var i=new $r(r==null?Jo:r,n==null?ea:n,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function $r(e,r,n,i,o,a){this._x=e,this._y=r,this._x0=n,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function na(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var rt=Me.prototype=$r.prototype;rt.copy=function(){var e=new $r(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=na(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var o=0;o<4;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(4)}):r.target[o]=na(i));return e};rt.add=Lo;rt.addAll=Bo;rt.cover=Go;rt.data=Ho;rt.extent=$o;rt.find=Vo;rt.remove=Yo;rt.removeAll=Xo;rt.root=Wo;rt.size=Zo;rt.visit=Qo;rt.visitAfter=Ko;rt.x=ta;rt.y=ra;function ia(e){var r=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return oa(this.cover(r,n,i),r,n,i,e)}function oa(e,r,n,i,o){if(isNaN(r)||isNaN(n)||isNaN(i))return e;var a,s=e._root,u={data:o},f=e._x0,l=e._y0,c=e._z0,h=e._x1,d=e._y1,p=e._z1,m,v,_,g,A,k,y,x,b,w,C;if(!s)return e._root=u,e;for(;s.length;)if((y=r>=(m=(f+h)/2))?f=m:h=m,(x=n>=(v=(l+d)/2))?l=v:d=v,(b=i>=(_=(c+p)/2))?c=_:p=_,a=s,!(s=s[w=b<<2|x<<1|y]))return a[w]=u,e;if(g=+e._x.call(null,s.data),A=+e._y.call(null,s.data),k=+e._z.call(null,s.data),r===g&&n===A&&i===k)return u.next=s,a?a[w]=u:e._root=u,e;do a=a?a[w]=new Array(8):e._root=new Array(8),(y=r>=(m=(f+h)/2))?f=m:h=m,(x=n>=(v=(l+d)/2))?l=v:d=v,(b=i>=(_=(c+p)/2))?c=_:p=_;while((w=b<<2|x<<1|y)==(C=(k>=_)<<2|(A>=v)<<1|g>=m));return a[C]=s,a[w]=u,e}function aa(e){var r,n,i=e.length,o,a,s,u=new Array(i),f=new Array(i),l=new Array(i),c=1/0,h=1/0,d=1/0,p=-1/0,m=-1/0,v=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||isNaN(s=+this._z.call(null,r))||(u[n]=o,f[n]=a,l[n]=s,o<c&&(c=o),o>p&&(p=o),a<h&&(h=a),a>m&&(m=a),s<d&&(d=s),s>v&&(v=s));if(c>p||h>m||d>v)return this;for(this.cover(c,h,d).cover(p,m,v),n=0;n<i;++n)oa(this,u[n],f[n],l[n],e[n]);return this}function sa(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var i=this._x0,o=this._y0,a=this._z0,s=this._x1,u=this._y1,f=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,u=(o=Math.floor(r))+1,f=(a=Math.floor(n))+1;else{for(var l=s-i||1,c=this._root,h,d;i>e||e>=s||o>r||r>=u||a>n||n>=f;)switch(d=(n<a)<<2|(r<o)<<1|e<i,h=new Array(8),h[d]=c,c=h,l*=2,d){case 0:s=i+l,u=o+l,f=a+l;break;case 1:i=s-l,u=o+l,f=a+l;break;case 2:s=i+l,o=u-l,f=a+l;break;case 3:i=s-l,o=u-l,f=a+l;break;case 4:s=i+l,u=o+l,a=f-l;break;case 5:i=s-l,u=o+l,a=f-l;break;case 6:s=i+l,o=u-l,a=f-l;break;case 7:i=s-l,o=u-l,a=f-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this}function ua(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function fa(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function U(e,r,n,i,o,a,s){this.node=e,this.x0=r,this.y0=n,this.z0=i,this.x1=o,this.y1=a,this.z1=s}function la(e,r,n,i){var o,a=this._x0,s=this._y0,u=this._z0,f,l,c,h,d,p,m=this._x1,v=this._y1,_=this._z1,g=[],A=this._root,k,y;for(A&&g.push(new U(A,a,s,u,m,v,_)),i==null?i=1/0:(a=e-i,s=r-i,u=n-i,m=e+i,v=r+i,_=n+i,i*=i);k=g.pop();)if(!(!(A=k.node)||(f=k.x0)>m||(l=k.y0)>v||(c=k.z0)>_||(h=k.x1)<a||(d=k.y1)<s||(p=k.z1)<u))if(A.length){var x=(f+h)/2,b=(l+d)/2,w=(c+p)/2;g.push(new U(A[7],x,b,w,h,d,p),new U(A[6],f,b,w,x,d,p),new U(A[5],x,l,w,h,b,p),new U(A[4],f,l,w,x,b,p),new U(A[3],x,b,c,h,d,w),new U(A[2],f,b,c,x,d,w),new U(A[1],x,l,c,h,b,w),new U(A[0],f,l,c,x,b,w)),(y=(n>=w)<<2|(r>=b)<<1|e>=x)&&(k=g[g.length-1],g[g.length-1]=g[g.length-1-y],g[g.length-1-y]=k)}else{var C=e-+this._x.call(null,A.data),P=r-+this._y.call(null,A.data),O=n-+this._z.call(null,A.data),R=C*C+P*P+O*O;if(R<i){var E=Math.sqrt(i=R);a=e-E,s=r-E,u=n-E,m=e+E,v=r+E,_=n+E,o=A.data}}return o}function ca(e){if(isNaN(d=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(m=+this._z.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._y0,f=this._z0,l=this._x1,c=this._y1,h=this._z1,d,p,m,v,_,g,A,k,y,x,b;if(!n)return this;if(n.length)for(;;){if((A=d>=(v=(s+l)/2))?s=v:l=v,(k=p>=(_=(u+c)/2))?u=_:c=_,(y=m>=(g=(f+h)/2))?f=g:h=g,r=n,!(n=n[x=y<<2|k<<1|A]))return this;if(!n.length)break;(r[x+1&7]||r[x+2&7]||r[x+3&7]||r[x+4&7]||r[x+5&7]||r[x+6&7]||r[x+7&7])&&(i=r,b=x)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[x]=a:delete r[x],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[b]=n:this._root=n),this):(this._root=a,this)}function ha(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function da(){return this._root}function pa(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function ga(e){var r=[],n,i=this._root,o,a,s,u,f,l,c;for(i&&r.push(new U(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.y0,u=n.z0,f=n.x1,l=n.y1,c=n.z1)&&i.length){var h=(a+f)/2,d=(s+l)/2,p=(u+c)/2;(o=i[7])&&r.push(new U(o,h,d,p,f,l,c)),(o=i[6])&&r.push(new U(o,a,d,p,h,l,c)),(o=i[5])&&r.push(new U(o,h,s,p,f,d,c)),(o=i[4])&&r.push(new U(o,a,s,p,h,d,c)),(o=i[3])&&r.push(new U(o,h,d,u,f,l,p)),(o=i[2])&&r.push(new U(o,a,d,u,h,l,p)),(o=i[1])&&r.push(new U(o,h,s,u,f,d,p)),(o=i[0])&&r.push(new U(o,a,s,u,h,d,p))}return this}function ma(e){var r=[],n=[],i;for(this._root&&r.push(new U(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.z0,l=i.x1,c=i.y1,h=i.z1,d=(s+l)/2,p=(u+c)/2,m=(f+h)/2;(a=o[0])&&r.push(new U(a,s,u,f,d,p,m)),(a=o[1])&&r.push(new U(a,d,u,f,l,p,m)),(a=o[2])&&r.push(new U(a,s,p,f,d,c,m)),(a=o[3])&&r.push(new U(a,d,p,f,l,c,m)),(a=o[4])&&r.push(new U(a,s,u,m,d,p,h)),(a=o[5])&&r.push(new U(a,d,u,m,l,p,h)),(a=o[6])&&r.push(new U(a,s,p,m,d,c,h)),(a=o[7])&&r.push(new U(a,d,p,m,l,c,h))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function xa(e){return e[0]}function ya(e){return arguments.length?(this._x=e,this):this._x}function va(e){return e[1]}function _a(e){return arguments.length?(this._y=e,this):this._y}function ba(e){return e[2]}function wa(e){return arguments.length?(this._z=e,this):this._z}function Se(e,r,n,i){var o=new Vr(r==null?xa:r,n==null?va:n,i==null?ba:i,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function Vr(e,r,n,i,o,a,s,u,f){this._x=e,this._y=r,this._z=n,this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this._root=void 0}function ja(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var J=Se.prototype=Vr.prototype;J.copy=function(){var e=new Vr(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=ja(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var o=0;o<8;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(8)}):r.target[o]=ja(i));return e};J.add=ia;J.addAll=aa;J.cover=sa;J.data=ua;J.extent=fa;J.find=la;J.remove=ca;J.removeAll=ha;J.root=da;J.size=pa;J.visit=ga;J.visitAfter=ma;J.x=ya;J.y=_a;J.z=wa;function lt(e){return function(){return e}}function vt(e){return(e()-.5)*1e-6}function Il(e){return e.index}function ka(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function Yr(e){var r=Il,n=d,i,o=lt(30),a,s,u,f,l,c,h=1;e==null&&(e=[]);function d(g){return 1/Math.min(f[g.source.index],f[g.target.index])}function p(g){for(var A=0,k=e.length;A<h;++A)for(var y=0,x,b,w,C=0,P=0,O=0,R,E;y<k;++y)x=e[y],b=x.source,w=x.target,C=w.x+w.vx-b.x-b.vx||vt(c),u>1&&(P=w.y+w.vy-b.y-b.vy||vt(c)),u>2&&(O=w.z+w.vz-b.z-b.vz||vt(c)),R=Math.sqrt(C*C+P*P+O*O),R=(R-a[y])/R*g*i[y],C*=R,P*=R,O*=R,w.vx-=C*(E=l[y]),u>1&&(w.vy-=P*E),u>2&&(w.vz-=O*E),b.vx+=C*(E=1-E),u>1&&(b.vy+=P*E),u>2&&(b.vz+=O*E)}function m(){if(!!s){var g,A=s.length,k=e.length,y=new Map(s.map((b,w)=>[r(b,w,s),b])),x;for(g=0,f=new Array(A);g<k;++g)x=e[g],x.index=g,typeof x.source!="object"&&(x.source=ka(y,x.source)),typeof x.target!="object"&&(x.target=ka(y,x.target)),f[x.source.index]=(f[x.source.index]||0)+1,f[x.target.index]=(f[x.target.index]||0)+1;for(g=0,l=new Array(k);g<k;++g)x=e[g],l[g]=f[x.source.index]/(f[x.source.index]+f[x.target.index]);i=new Array(k),v(),a=new Array(k),_()}}function v(){if(!!s)for(var g=0,A=e.length;g<A;++g)i[g]=+n(e[g],g,e)}function _(){if(!!s)for(var g=0,A=e.length;g<A;++g)a[g]=+o(e[g],g,e)}return p.initialize=function(g,...A){s=g,c=A.find(k=>typeof k=="function")||Math.random,u=A.find(k=>[1,2,3].includes(k))||2,m()},p.links=function(g){return arguments.length?(e=g,m(),p):e},p.id=function(g){return arguments.length?(r=g,p):r},p.iterations=function(g){return arguments.length?(h=+g,p):h},p.strength=function(g){return arguments.length?(n=typeof g=="function"?g:lt(+g),v(),p):n},p.distance=function(g){return arguments.length?(o=typeof g=="function"?g:lt(+g),_(),p):o},p}var Rl=1664525,El=1013904223,Aa=4294967296;function Ca(){let e=1;return()=>(e=(Rl*e+El)%Aa)/Aa}var Ma=3;function dr(e){return e.x}function Xr(e){return e.y}function Sa(e){return e.z}var Nl=10,Dl=Math.PI*(3-Math.sqrt(5)),ql=Math.PI*20/(9+Math.sqrt(221));function Wr(e,r){r=r||2;var n=Math.min(Ma,Math.max(1,Math.round(r))),i,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,f=.6,l=new Map,c=Yt(p),h=Ct("tick","end"),d=Ca();e==null&&(e=[]);function p(){m(),h.call("tick",i),o<a&&(c.stop(),h.call("end",i))}function m(g){var A,k=e.length,y;g===void 0&&(g=1);for(var x=0;x<g;++x)for(o+=(u-o)*s,l.forEach(function(b){b(o)}),A=0;A<k;++A)y=e[A],y.fx==null?y.x+=y.vx*=f:(y.x=y.fx,y.vx=0),n>1&&(y.fy==null?y.y+=y.vy*=f:(y.y=y.fy,y.vy=0)),n>2&&(y.fz==null?y.z+=y.vz*=f:(y.z=y.fz,y.vz=0));return i}function v(){for(var g=0,A=e.length,k;g<A;++g){if(k=e[g],k.index=g,k.fx!=null&&(k.x=k.fx),k.fy!=null&&(k.y=k.fy),k.fz!=null&&(k.z=k.fz),isNaN(k.x)||n>1&&isNaN(k.y)||n>2&&isNaN(k.z)){var y=Nl*(n>2?Math.cbrt(.5+g):n>1?Math.sqrt(.5+g):g),x=g*Dl,b=g*ql;n===1?k.x=y:n===2?(k.x=y*Math.cos(x),k.y=y*Math.sin(x)):(k.x=y*Math.sin(x)*Math.cos(b),k.y=y*Math.cos(x),k.z=y*Math.sin(x)*Math.sin(b))}(isNaN(k.vx)||n>1&&isNaN(k.vy)||n>2&&isNaN(k.vz))&&(k.vx=0,n>1&&(k.vy=0),n>2&&(k.vz=0))}}function _(g){return g.initialize&&g.initialize(e,d,n),g}return v(),i={tick:m,restart:function(){return c.restart(p),i},stop:function(){return c.stop(),i},numDimensions:function(g){return arguments.length?(n=Math.min(Ma,Math.max(1,Math.round(g))),l.forEach(_),i):n},nodes:function(g){return arguments.length?(e=g,v(),l.forEach(_),i):e},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(s=+g,i):+s},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(f=1-g,i):1-f},randomSource:function(g){return arguments.length?(d=g,l.forEach(_),i):d},force:function(g,A){return arguments.length>1?(A==null?l.delete(g):l.set(g,_(A)),i):l.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),A=g.shift()||0,k=(n>1?g.shift():null)||0,y=(n>2?g.shift():null)||0,x=g.shift()||1/0,b=0,w=e.length,C,P,O,R,E,F;for(x*=x,b=0;b<w;++b)E=e[b],C=A-E.x,P=k-(E.y||0),O=y-(E.z||0),R=C*C+P*P+O*O,R<x&&(F=E,x=R);return F},on:function(g,A){return arguments.length>1?(h.on(g,A),i):h.on(g)}}}function Zr(){var e,r,n,i,o,a=lt(-30),s,u=1,f=1/0,l=.81;function c(m){var v,_=e.length,g=(r===1?Ce(e,dr):r===2?Me(e,dr,Xr):r===3?Se(e,dr,Xr,Sa):null).visitAfter(d);for(o=m,v=0;v<_;++v)n=e[v],g.visit(p)}function h(){if(!!e){var m,v=e.length,_;for(s=new Array(v),m=0;m<v;++m)_=e[m],s[_.index]=+a(_,m,e)}}function d(m){var v=0,_,g,A=0,k,y,x,b,w=m.length;if(w){for(k=y=x=b=0;b<w;++b)(_=m[b])&&(g=Math.abs(_.value))&&(v+=_.value,A+=g,k+=g*(_.x||0),y+=g*(_.y||0),x+=g*(_.z||0));v*=Math.sqrt(4/w),m.x=k/A,r>1&&(m.y=y/A),r>2&&(m.z=x/A)}else{_=m,_.x=_.data.x,r>1&&(_.y=_.data.y),r>2&&(_.z=_.data.z);do v+=s[_.data.index];while(_=_.next)}m.value=v}function p(m,v,_,g,A){if(!m.value)return!0;var k=[_,g,A][r-1],y=m.x-n.x,x=r>1?m.y-n.y:0,b=r>2?m.z-n.z:0,w=k-v,C=y*y+x*x+b*b;if(w*w/l<C)return C<f&&(y===0&&(y=vt(i),C+=y*y),r>1&&x===0&&(x=vt(i),C+=x*x),r>2&&b===0&&(b=vt(i),C+=b*b),C<u&&(C=Math.sqrt(u*C)),n.vx+=y*m.value*o/C,r>1&&(n.vy+=x*m.value*o/C),r>2&&(n.vz+=b*m.value*o/C)),!0;if(m.length||C>=f)return;(m.data!==n||m.next)&&(y===0&&(y=vt(i),C+=y*y),r>1&&x===0&&(x=vt(i),C+=x*x),r>2&&b===0&&(b=vt(i),C+=b*b),C<u&&(C=Math.sqrt(u*C)));do m.data!==n&&(w=s[m.data.index]*o/C,n.vx+=y*w,r>1&&(n.vy+=x*w),r>2&&(n.vz+=b*w));while(m=m.next)}return c.initialize=function(m,...v){e=m,i=v.find(_=>typeof _=="function")||Math.random,r=v.find(_=>[1,2,3].includes(_))||2,h()},c.strength=function(m){return arguments.length?(a=typeof m=="function"?m:lt(+m),h(),c):a},c.distanceMin=function(m){return arguments.length?(u=m*m,c):Math.sqrt(u)},c.distanceMax=function(m){return arguments.length?(f=m*m,c):Math.sqrt(f)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Qr(e,r,n,i){var o,a,s=lt(.1),u,f;typeof e!="function"&&(e=lt(+e)),r==null&&(r=0),n==null&&(n=0),i==null&&(i=0);function l(h){for(var d=0,p=o.length;d<p;++d){var m=o[d],v=m.x-r||1e-6,_=(m.y||0)-n||1e-6,g=(m.z||0)-i||1e-6,A=Math.sqrt(v*v+_*_+g*g),k=(f[d]-A)*u[d]*h/A;m.vx+=v*k,a>1&&(m.vy+=_*k),a>2&&(m.vz+=g*k)}}function c(){if(!!o){var h,d=o.length;for(u=new Array(d),f=new Array(d),h=0;h<d;++h)f[h]=+e(o[h],h,o),u[h]=isNaN(f[h])?0:+s(o[h],h,o)}}return l.initialize=function(h,...d){o=h,a=d.find(p=>[1,2,3].includes(p))||2,c()},l.strength=function(h){return arguments.length?(s=typeof h=="function"?h:lt(+h),c(),l):s},l.radius=function(h){return arguments.length?(e=typeof h=="function"?h:lt(+h),c(),l):e},l.x=function(h){return arguments.length?(r=+h,l):r},l.y=function(h){return arguments.length?(n=+h,l):n},l.z=function(h){return arguments.length?(i=+h,l):i},l}var{abs:ze,cos:zt,sin:Kt,acos:Fl,atan2:Oe,sqrt:Rt,pow:ct}=Math;function Pe(e){return e<0?-ct(-e,1/3):ct(e,1/3)}var za=Math.PI,pr=2*za,Et=za/2,Ll=1e-6,Kr=Number.MAX_SAFE_INTEGER||9007199254740991,Jr=Number.MIN_SAFE_INTEGER||-9007199254740991,Ul={x:0,y:0,z:0},S={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){let n=r(e),i=n.x*n.x+n.y*n.y;return typeof n.z!="undefined"&&(i+=n.z*n.z),Rt(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];let i=r.length-1;if(e===1)return r[i].t=1,r[i];let o=1-e,a=r;if(i===0)return r[0].t=e,r[0];if(i===1){let u={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return n&&(u.z=o*a[0].z+e*a[1].z),u}if(i<4){let u=o*o,f=e*e,l,c,h,d=0;i===2?(a=[a[0],a[1],a[2],Ul],l=u,c=o*e*2,h=f):i===3&&(l=u*o,c=u*e*3,h=o*f*3,d=e*f);let p={x:l*a[0].x+c*a[1].x+h*a[2].x+d*a[3].x,y:l*a[0].y+c*a[1].y+h*a[2].y+d*a[3].y,t:e};return n&&(p.z=l*a[0].z+c*a[1].z+h*a[2].z+d*a[3].z),p}let s=JSON.parse(JSON.stringify(r));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*e,y:s[u].y+(s[u+1].y-s[u].y)*e},typeof s[u].z!="undefined"&&(s[u]=s[u].z+(s[u+1].z-s[u].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,r,n,i){let o=1-e,a=n,s=r,u=a[0],f=a[1],l=a[2],c=a[3],h;if(u*=o,f*=e,s.length===2)return h=u+f,{x:(u*s[0].x+f*s[1].x)/h,y:(u*s[0].y+f*s[1].y)/h,z:i?(u*s[0].z+f*s[1].z)/h:!1,t:e};if(u*=o,f*=2*o,l*=e*e,s.length===3)return h=u+f+l,{x:(u*s[0].x+f*s[1].x+l*s[2].x)/h,y:(u*s[0].y+f*s[1].y+l*s[2].y)/h,z:i?(u*s[0].z+f*s[1].z+l*s[2].z)/h:!1,t:e};if(u*=o,f*=1.5*o,l*=3*o,c*=e*e*e,s.length===4)return h=u+f+l+c,{x:(u*s[0].x+f*s[1].x+l*s[2].x+c*s[3].x)/h,y:(u*s[0].y+f*s[1].y+l*s[2].y+c*s[3].y)/h,z:i?(u*s[0].z+f*s[1].z+l*s[2].z+c*s[3].z)/h:!1,t:e}},derive:function(e,r){let n=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){let s=[];for(let u=0,f;u<a;u++)f={x:a*(i[u+1].x-i[u].x),y:a*(i[u+1].y-i[u].y)},r&&(f.z=a*(i[u+1].z-i[u].z)),s.push(f);n.push(s),i=s}return n},between:function(e,r,n){return r<=e&&e<=n||S.approximately(e,r)||S.approximately(e,n)},approximately:function(e,r,n){return ze(e-r)<=(n||Ll)},length:function(e){let r=.5,n=S.Tvalues.length,i=0;for(let o=0,a;o<n;o++)a=r*S.Tvalues[o]+r,i+=S.Cvalues[o]*S.arcfn(a,e);return r*i},map:function(e,r,n,i,o){let a=n-r,s=o-i,u=e-r,f=u/a;return i+s*f},lerp:function(e,r,n){let i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z!="undefined"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(S.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){let i=r.x-e.x,o=r.y-e.y,a=n.x-e.x,s=n.y-e.y,u=i*s-o*a,f=i*a+o*s;return Oe(u,f)},round:function(e,r){let n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){let n=e.x-r.x,i=e.y-r.y;return Rt(n*n+i*i)},closest:function(e,r){let n=ct(2,63),i,o;return e.forEach(function(a,s){o=S.dist(r,a),o<n&&(n=o,i=s)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;let n=ct(e,r)+ct(1-e,r),i=n-1;return ze(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;let n=ct(1-e,r),i=ct(e,r)+n;return n/i},lli8:function(e,r,n,i,o,a,s,u){let f=(e*i-r*n)*(o-s)-(e-n)*(o*u-a*s),l=(e*i-r*n)*(a-u)-(r-i)*(o*u-a*s),c=(e-n)*(a-u)-(r-i)*(o-s);return c==0?!1:{x:f/c,y:l/c}},lli4:function(e,r,n,i){let o=e.x,a=e.y,s=r.x,u=r.y,f=n.x,l=n.y,c=i.x,h=i.y;return S.lli8(o,a,s,u,f,l,c,h)},lli:function(e,r){return S.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new B(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=Kr,n=Kr,i=Jr,o=Jr;return e.forEach(function(a){let s=a.bbox();r>s.x.min&&(r=s.x.min),n>s.y.min&&(n=s.y.min),i<s.x.max&&(i=s.x.max),o<s.y.max&&(o=s.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+o)/2,max:o,size:o-n}}},shapeintersections:function(e,r,n,i,o){if(!S.bboxoverlap(r,i))return[];let a=[],s=[e.startcap,e.forward,e.back,e.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(f){f.virtual||u.forEach(function(l){if(l.virtual)return;let c=f.intersects(l,o);c.length>0&&(c.c1=f,c.c2=l,c.s1=e,c.s2=n,a.push(c))})}),a},makeshape:function(e,r,n){let i=r.points.length,o=e.points.length,a=S.makeline(r.points[i-1],e.points[0]),s=S.makeline(e.points[o-1],r.points[0]),u={startcap:a,forward:e,back:r,endcap:s,bbox:S.findbbox([a,e,r,s])};return u.intersections=function(f){return S.shapeintersections(u,u.bbox,f,f.bbox,n)},u},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=Kr,o=Jr,a,s;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let u=0,f=n.length;u<f;u++)a=n[u],s=e.get(a),s[r]<i&&(i=s[r]),s[r]>o&&(o=s[r]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,r){let n=r.p1.x,i=r.p1.y,o=-Oe(r.p2.y-i,r.p2.x-n),a=function(s){return{x:(s.x-n)*zt(o)-(s.y-i)*Kt(o),y:(s.x-n)*Kt(o)+(s.y-i)*zt(o)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};let n=e.length-1,i=S.align(e,r),o=function(w){return 0<=w&&w<=1};if(n===2){let w=i[0].y,C=i[1].y,P=i[2].y,O=w-2*C+P;if(O!==0){let R=-Rt(C*C-w*P),E=-w+C,F=-(R+E)/O,j=-(-R+E)/O;return[F,j].filter(o)}else if(C!==P&&O===0)return[(2*C-P)/(2*C-2*P)].filter(o);return[]}let a=i[0].y,s=i[1].y,u=i[2].y,f=i[3].y,l=-a+3*s-3*u+f,c=3*a-6*s+3*u,h=-3*a+3*s,d=a;if(S.approximately(l,0)){if(S.approximately(c,0))return S.approximately(h,0)?[]:[-d/h].filter(o);let w=Rt(h*h-4*c*d),C=2*c;return[(w-h)/C,(-h-w)/C].filter(o)}c/=l,h/=l,d/=l;let p=(3*h-c*c)/3,m=p/3,v=(2*c*c*c-9*c*h+27*d)/27,_=v/2,g=_*_+m*m*m,A,k,y,x,b;if(g<0){let w=-p/3,C=w*w*w,P=Rt(C),O=-v/(2*P),R=O<-1?-1:O>1?1:O,E=Fl(R),F=Pe(P),j=2*F;return y=j*zt(E/3)-c/3,x=j*zt((E+pr)/3)-c/3,b=j*zt((E+2*pr)/3)-c/3,[y,x,b].filter(o)}else{if(g===0)return A=_<0?Pe(-_):-Pe(_),y=2*A-c/3,x=-A-c/3,[y,x].filter(o);{let w=Rt(g);return A=Pe(-_+w),k=Pe(_+w),[A-k-c/3].filter(o)}}},droots:function(e){if(e.length===3){let r=e[0],n=e[1],i=e[2],o=r-2*n+i;if(o!==0){let a=-Rt(n*n-r*i),s=-r+n,u=-(a+s)/o,f=-(-a+s)/o;return[u,f]}else if(n!==i&&o===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){let r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,o){let a,s,u,f,l=0,c=0,h=S.compute(e,r),d=S.compute(e,n),p=h.x*h.x+h.y*h.y;if(i?(a=Rt(ct(h.y*d.z-d.y*h.z,2)+ct(h.z*d.x-d.z*h.x,2)+ct(h.x*d.y-d.x*h.y,2)),s=ct(p+h.z*h.z,3/2)):(a=h.x*d.y-h.y*d.x,s=ct(p,3/2)),a===0||s===0)return{k:0,r:0};if(l=a/s,c=s/a,!o){let m=S.curvature(e-.001,r,n,i,!0).k,v=S.curvature(e+.001,r,n,i,!0).k;f=(v-l+(l-m))/2,u=(ze(v-l)+ze(l-m))/2}return{k:l,r:c,dk:f,adk:u}},inflections:function(e){if(e.length<4)return[];let r=S.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,o=r[1].x*r[2].y,a=r[3].x*r[2].y,s=18*(-3*n+2*i+3*o-a),u=18*(3*n-i-3*o),f=18*(o-n);if(S.approximately(s,0)){if(!S.approximately(u,0)){let d=-f/u;if(0<=d&&d<=1)return[d]}return[]}let l=2*s;if(S.approximately(l,0))return[];let c=u*u-4*s*f;if(c<0)return[];let h=Math.sqrt(c);return[(h-u)/l,-(u+h)/l].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,r){let n=["x","y"],i=n.length;for(let o=0,a,s,u,f;o<i;o++)if(a=n[o],s=e[a].mid,u=r[a].mid,f=(e[a].size+r[a].size)/2,ze(s-u)>=f)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){let i=e.bbox(),o=r.bbox(),a=1e5,s=n||.5;if(i.x.size+i.y.size<s&&o.x.size+o.y.size<s)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let u=e.split(.5),f=r.split(.5),l=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];l=l.filter(function(h){return S.bboxoverlap(h.left.bbox(),h.right.bbox())});let c=[];return l.length===0||(l.forEach(function(h){c=c.concat(S.pairiteration(h.left,h.right,s))}),c=c.filter(function(h,d){return c.indexOf(h)===d})),c},getccenter:function(e,r,n){let i=r.x-e.x,o=r.y-e.y,a=n.x-r.x,s=n.y-r.y,u=i*zt(Et)-o*Kt(Et),f=i*Kt(Et)+o*zt(Et),l=a*zt(Et)-s*Kt(Et),c=a*Kt(Et)+s*zt(Et),h=(e.x+r.x)/2,d=(e.y+r.y)/2,p=(r.x+n.x)/2,m=(r.y+n.y)/2,v=h+u,_=d+f,g=p+l,A=m+c,k=S.lli8(h,d,v,_,p,m,g,A),y=S.dist(k,e),x=Oe(e.y-k.y,e.x-k.x),b=Oe(r.y-k.y,r.x-k.x),w=Oe(n.y-k.y,n.x-k.x),C;return x<w?((x>b||b>w)&&(x+=pr),x>w&&(C=w,w=x,x=C)):w<b&&b<x?(C=w,w=x,x=C):w+=pr,k.s=x,k.e=w,k.r=y,k},numberSort:function(e,r){return e-r}};var Gt=class{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return S.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){let r=this.curves;for(var n=r[0].bbox(),i=1;i<r.length;i++)S.expandbox(n,r[i].bbox());return n}offset(r){let n=[];return this.curves.forEach(function(i){n.push(...i.offset(r))}),new Gt(n)}};var{abs:Te,min:Oa,max:Pa,cos:Bl,sin:Gl,acos:Hl,sqrt:Ie}=Math,$l=Math.PI;var B=class{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;let p=[];n.forEach(function(m){["x","y","z"].forEach(function(v){typeof m[v]!="undefined"&&p.push(m[v])})}),n=p}let o=!1,a=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let s=this._3d=!o&&(a===9||a===12)||r&&r[0]&&typeof r[0].z!="undefined",u=this.points=[];for(let p=0,m=s?3:2;p<a;p+=m){var f={x:n[p],y:n[p+1]};s&&(f.z=n[p+2]),u.push(f)}let l=this.order=u.length-1,c=this.dims=["x","y"];s&&c.push("z"),this.dimlen=c.length;let h=S.align(u,{p1:u[0],p2:u[l]}),d=S.dist(u[0],u[l]);this._linear=h.reduce((p,m)=>p+Te(m.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,i,o){if(typeof o=="undefined"&&(o=.5),o===0)return new B(n,n,i);if(o===1)return new B(r,n,n);let a=B.getABC(2,r,n,i,o);return new B(r,a.A,i)}static cubicFromPoints(r,n,i,o,a){typeof o=="undefined"&&(o=.5);let s=B.getABC(3,r,n,i,o);typeof a=="undefined"&&(a=S.dist(n,s.C));let u=a*(1-o)/o,f=S.dist(r,i),l=(i.x-r.x)/f,c=(i.y-r.y)/f,h=a*l,d=a*c,p=u*l,m=u*c,v={x:n.x-h,y:n.y-d},_={x:n.x+p,y:n.y+m},g=s.A,A={x:g.x+(v.x-g.x)/(1-o),y:g.y+(v.y-g.y)/(1-o)},k={x:g.x+(_.x-g.x)/o,y:g.y+(_.y-g.y)/o},y={x:r.x+(A.x-r.x)/o,y:r.y+(A.y-r.y)/o},x={x:i.x+(k.x-i.x)/(1-o),y:i.y+(k.y-i.y)/(1-o)};return new B(r,y,x,i)}static getUtils(){return S}getUtils(){return B.getUtils()}static get PolyBezier(){return Gt}valueOf(){return this.toString()}toString(){return S.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let r=this.points,n=r[0].x,i=r[0].y,o=["M",n,i,this.order===2?"Q":"C"];for(let a=1,s=r.length;a<s;a++)o.push(r[a].x),o.push(r[a].y);return o.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){let r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=S.derive(this.points,this._3d),this.computedirection()}computedirection(){let r=this.points,n=S.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return S.length(this.derivative.bind(this))}static getABC(r=2,n,i,o,a=.5){let s=S.projectionratio(a,r),u=1-s,f={x:s*n.x+u*o.x,y:s*n.y+u*o.y},l=S.abcratio(a,r);return{A:{x:i.x+(i.x-f.x)/l,y:i.y+(i.y-f.y)/l},B:i,C:f,S:n,E:o}}getABC(r,n){n=n||this.get(r);let i=this.points[0],o=this.points[this.order];return B.getABC(this.order,i,n,o,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,i,o;n<r;n++)o=n/(r-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(r,n){n=n||5;let i=this.getLUT(),o=[];for(let a=0,s,u=0;a<i.length;a++)s=i[a],S.dist(s,r)<n&&(o.push(s),u+=a/i.length);return o.length?t/=o.length:!1}project(r){let n=this.getLUT(),i=n.length-1,o=S.closest(n,r),a=o.mpos,s=(a-1)/i,u=(a+1)/i,f=.1/i,l=o.mdist,c=s,h=c,d;l+=1;for(let p;c<u+f;c+=f)d=this.compute(c),p=S.dist(r,d),p<l&&(l=p,h=c);return h=h<0?0:h>1?1:h,d=this.compute(h),d.t=h,d.d=l,d}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?S.computeWithRatios(r,this.points,this.ratios,this._3d):S.compute(r,this.points,this._3d,this.ratios)}raise(){let r=this.points,n=[r[0]],i=r.length;for(let o=1,a,s;o<i;o++)a=r[o],s=r[o-1],n[o]={x:(i-o)/i*a.x+o/i*s.x,y:(i-o)/i*a.y+o/i*s.y};return n[i]=r[i-1],new B(n)}derivative(r){return S.compute(r,this.dpoints[0],this._3d)}dderivative(r){return S.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new B(S.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return S.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return S.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){let n=this.derivative(r),i=Ie(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/i,y:n.x/i}}__normal3(r){let n=this.derivative(r),i=this.derivative(r+.01),o=Ie(n.x*n.x+n.y*n.y+n.z*n.z),a=Ie(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=o,n.y/=o,n.z/=o,i.x/=a,i.y/=a,i.z/=a;let s={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},u=Ie(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;let f=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:r,x:f[0]*n.x+f[1]*n.y+f[2]*n.z,y:f[3]*n.x+f[4]*n.y+f[5]*n.z,z:f[6]*n.x+f[7]*n.y+f[8]*n.z}}hull(r){let n=this.points,i=[],o=[],a=0;for(o[a++]=n[0],o[a++]=n[1],o[a++]=n[2],this.order===3&&(o[a++]=n[3]);n.length>1;){i=[];for(let s=0,u,f=n.length-1;s<f;s++)u=S.lerp(r,n[s],n[s+1]),o[a++]=u,i.push(u);n=i}return o}split(r,n){if(r===0&&!!n)return this.split(n).left;if(n===1)return this.split(r).right;let i=this.hull(r),o={left:this.order===2?new B([i[0],i[3],i[5]]):new B([i[0],i[4],i[7],i[9]]),right:this.order===2?new B([i[5],i[4],i[2]]):new B([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=S.map(0,0,1,this._t1,this._t2),o.left._t2=S.map(r,0,1,this._t1,this._t2),o.right._t1=S.map(r,0,1,this._t1,this._t2),o.right._t2=S.map(1,0,1,this._t1,this._t2),n?(n=S.map(n,r,1,0,1),o.right.split(n).left):o}extrema(){let r={},n=[];return this.dims.forEach(function(i){let o=function(s){return s[i]},a=this.dpoints[0].map(o);r[i]=S.droots(a),this.order===3&&(a=this.dpoints[1].map(o),r[i]=r[i].concat(S.droots(a))),r[i]=r[i].filter(function(s){return s>=0&&s<=1}),n=n.concat(r[i].sort(S.numberSort))}.bind(this)),r.values=n.sort(S.numberSort).filter(function(i,o){return n.indexOf(i)===o}),r}bbox(){let r=this.extrema(),n={};return this.dims.forEach(function(i){n[i]=S.getminmax(this,i,r[i])}.bind(this)),n}overlaps(r){let n=this.bbox(),i=r.bbox();return S.bboxoverlap(n,i)}offset(r,n){if(typeof n!="undefined"){let i=this.get(r),o=this.normal(r),a={c:i,n:o,x:i.x+o.x*n,y:i.y+o.y*n};return this._3d&&(a.z=i.z+o.z*n),a}if(this._linear){let i=this.normal(0),o=this.points.map(function(a){let s={x:a.x+r*i.x,y:a.y+r*i.y};return a.z&&i.z&&(s.z=a.z+r*i.z),s});return[new B(o)]}return this.reduce().map(function(i){return i._linear?i.offset(r)[0]:i.scale(r)})}simple(){if(this.order===3){let o=S.angle(this.points[0],this.points[3],this.points[1]),a=S.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}let r=this.normal(0),n=this.normal(1),i=r.x*n.x+r.y*n.y;return this._3d&&(i+=r.z*n.z),Te(Hl(i))<$l/3}reduce(){let r,n=0,i=0,o=.01,a,s=[],u=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),n=f[0],r=1;r<f.length;r++)i=f[r],a=this.split(n,i),a._t1=n,a._t2=i,s.push(a),n=i;return s.forEach(function(l){for(n=0,i=0;i<=1;)for(i=n+o;i<=1+o;i+=o)if(a=l.split(n,i),!a.simple()){if(i-=o,Te(n-i)<o)return[];a=l.split(n,i),a._t1=S.map(n,0,1,l._t1,l._t2),a._t2=S.map(i,0,1,l._t1,l._t2),u.push(a),n=i;break}n<1&&(a=l.split(n,1),a._t1=S.map(n,0,1,l._t1,l._t2),a._t2=l._t2,u.push(a))}),u}translate(r,n,i){i=typeof i=="number"?i:n;let o=this.order,a=this.points.map((s,u)=>(1-u/o)*n+u/o*i);return new B(this.points.map((s,u)=>({x:s.x+r.x*a[u],y:s.y+r.y*a[u]})))}scale(r){let n=this.order,i=!1;if(typeof r=="function"&&(i=r),i&&n===2)return this.raise().scale(i);let o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):r,i?i(1):r);let s=i?i(0):r,u=i?i(1):r,f=[this.offset(0,10),this.offset(1,10)],l=[],c=S.lli4(f[0],f[0].c,f[1],f[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){let d=l[h*n]=S.copy(a[h*n]);d.x+=(h?u:s)*f[h].n.x,d.y+=(h?u:s)*f[h].n.y}),i?([0,1].forEach(function(h){if(!(n===2&&!!h)){var d=a[h+1],p={x:d.x-c.x,y:d.y-c.y},m=i?i((h+1)/n):r;i&&!o&&(m=-m);var v=Ie(p.x*p.x+p.y*p.y);p.x/=v,p.y/=v,l[h+1]={x:d.x+m*p.x,y:d.y+m*p.y}}}),new B(l)):([0,1].forEach(h=>{if(n===2&&!!h)return;let d=l[h*n],p=this.derivative(h),m={x:d.x+p.x,y:d.y+p.y};l[h+1]=S.lli4(d,m,c,a[h+1])}),new B(l))}outline(r,n,i,o){if(n=n===void 0?r:n,this._linear){let x=this.normal(0),b=this.points[0],w=this.points[this.points.length-1],C,P,O;i===void 0&&(i=r,o=n),C={x:b.x+x.x*r,y:b.y+x.y*r},O={x:w.x+x.x*i,y:w.y+x.y*i},P={x:(C.x+O.x)/2,y:(C.y+O.y)/2};let R=[C,P,O];C={x:b.x-x.x*n,y:b.y-x.y*n},O={x:w.x-x.x*o,y:w.y-x.y*o},P={x:(C.x+O.x)/2,y:(C.y+O.y)/2};let E=[O,P,C],F=S.makeline(E[2],R[0]),j=S.makeline(R[2],E[0]),z=[F,new B(R),j,new B(E)];return new Gt(z)}let a=this.reduce(),s=a.length,u=[],f=[],l,c=0,h=this.length(),d=typeof i!="undefined"&&typeof o!="undefined";function p(x,b,w,C,P){return function(O){let R=C/w,E=(C+P)/w,F=b-x;return S.map(O,0,1,x+R*F,x+E*F)}}a.forEach(function(x){let b=x.length();d?(u.push(x.scale(p(r,i,h,c,b))),f.push(x.scale(p(-n,-o,h,c,b)))):(u.push(x.scale(r)),f.push(x.scale(-n))),c+=b}),f=f.map(function(x){return l=x.points,l[3]?x.points=[l[3],l[2],l[1],l[0]]:x.points=[l[2],l[1],l[0]],x}).reverse();let m=u[0].points[0],v=u[s-1].points[u[s-1].points.length-1],_=f[s-1].points[f[s-1].points.length-1],g=f[0].points[0],A=S.makeline(_,m),k=S.makeline(v,g),y=[A].concat(u).concat([k]).concat(f);return new Gt(y)}outlineshapes(r,n,i){n=n||r;let o=this.outline(r,n).curves,a=[];for(let s=1,u=o.length;s<u/2;s++){let f=S.makeshape(o[s],o[u-s],i);f.startcap.virtual=s>1,f.endcap.virtual=s<u/2-1,a.push(f)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof B&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){let n=Oa(r.p1.x,r.p2.x),i=Oa(r.p1.y,r.p2.y),o=Pa(r.p1.x,r.p2.x),a=Pa(r.p1.y,r.p2.y);return S.roots(this.points,r).filter(s=>{var u=this.get(s);return S.between(u.x,n,o)&&S.between(u.y,i,a)})}selfintersects(r){let n=this.reduce(),i=n.length-2,o=[];for(let a=0,s,u,f;a<i;a++)u=n.slice(a,a+1),f=n.slice(a+2),s=this.curveintersects(u,f,r),o.push(...s);return o}curveintersects(r,n,i){let o=[];r.forEach(function(s){n.forEach(function(u){s.overlaps(u)&&o.push({left:s,right:u})})});let a=[];return o.forEach(function(s){let u=S.pairiteration(s.left,s.right,i);u.length>0&&(a=a.concat(u))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,i,o){let a=(o-i)/4,s=this.get(i+a),u=this.get(o-a),f=S.dist(r,n),l=S.dist(r,s),c=S.dist(r,u);return Te(l-f)+Te(c-f)}_iterate(r,n){let i=0,o=1,a;do{a=0,o=1;let s=this.get(i),u,f,l,c,h=!1,d=!1,p,m=o,v=1,_=0;do if(d=h,c=l,m=(i+o)/2,_++,u=this.get(m),f=this.get(o),l=S.getccenter(s,u,f),l.interval={start:i,end:o},h=this._error(l,s,i,o)<=r,p=d&&!h,p||(v=o),h){if(o>=1){if(l.interval.end=v=1,c=l,o>1){let A={x:l.x+l.r*Bl(l.e),y:l.y+l.r*Gl(l.e)};l.e+=S.angle({x:l.x,y:l.y},A,this.get(1))}break}o=o+(o-i)/2}else o=m;while(!p&&a++<100);if(a>=100)break;c=c||l,n.push(c),i=v}while(o<1);return n}};function Vl(e,r){if(e==null)return{};var n={},i=Object.keys(e),o,a;for(a=0;a<i.length;a++)o=i[a],!(r.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Yl(e,r){if(e==null)return{};var n=Vl(e,r),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],!(r.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function Xl(e,r){return Ql(e)||Jl(e,r)||Ta(e,r)||ec()}function Wl(e){return Zl(e)||Kl(e)||Ta(e)||tc()}function Zl(e){if(Array.isArray(e))return tn(e)}function Ql(e){if(Array.isArray(e))return e}function Kl(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jl(e,r){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],o=!0,a=!1,s,u;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(i.push(s.value),!(r&&i.length===r));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}return i}}function Ta(e,r){if(!!e){if(typeof e=="string")return tn(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,r)}}function tn(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function tc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ec(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rc(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function nc(e){var r=rc(e,"string");return typeof r=="symbol"?r:String(r)}var Ia=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),a=e.reduce(function(u,f){var l=u,c=f;return o.forEach(function(h,d){var p=h.keyAccessor,m=h.isProp,v;if(m){var _=c,g=_[p],A=Yl(_,[p].map(nc));v=g,c=A}else v=p(c,d);d+1<o.length?(l.hasOwnProperty(v)||(l[v]={}),l=l[v]):n?(l.hasOwnProperty(v)||(l[v]=[]),l[v].push(c)):l[v]=c}),u},{});n instanceof Function&&function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l===o.length?Object.keys(f).forEach(function(c){return f[c]=n(f[c])}):Object.values(f).forEach(function(c){return u(c,l+1)})}(a);var s=a;return i&&(s=[],function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===o.length?s.push({keys:l,vals:f}):Object.entries(f).forEach(function(c){var h=Xl(c,2),d=h[0],p=h[1];return u(p,[].concat(Wl(l),[d]))})}(a),r instanceof Array&&r.length===0&&s.length===1&&(s[0].keys=[])),s};function Ra(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}var en=Symbol("implicit");function Re(){var e=new _e,r=[],n=[],i=en;function o(a){let s=e.get(a);if(s===void 0){if(i!==en)return i;e.set(a,s=r.push(a)-1)}return n[s%n.length]}return o.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new _e;for(let s of a)e.has(s)||e.set(s,r.push(s)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return Re(r,n).unknown(i)},Ra.apply(o,arguments),o}function Ea(e){for(var r=e.length/6|0,n=new Array(r),i=0;i<r;)n[i]="#"+e.slice(i*6,++i*6);return n}var rn=Ea("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function ic(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var oc=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;ic(oc);function ac(e,r){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,a,s,u=[],f=!0,l=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(i=a.call(n)).done)&&(u.push(i.value),u.length!==r);f=!0);}catch(c){l=!0,o=c}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}function Da(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function Jt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Da(Object(n),!0).forEach(function(i){Ee(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function nn(e){return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nn(e)}function Ee(e,r,n){return r=pc(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function on(e,r){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},on(e,r)}function sc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ne(e,r,n){return sc()?Ne=Reflect.construct.bind():Ne=function(o,a,s){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(o,u),l=new f;return s&&on(l,s.prototype),l},Ne.apply(null,arguments)}function De(e,r){return fc(e)||ac(e,r)||qa(e,r)||hc()}function ht(e){return uc(e)||lc(e)||qa(e)||cc()}function uc(e){if(Array.isArray(e))return an(e)}function fc(e){if(Array.isArray(e))return e}function lc(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qa(e,r){if(!!e){if(typeof e=="string")return an(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,r)}}function an(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function pc(e){var r=dc(e,"string");return typeof r=="symbol"?r:String(r)}var gc=Re(rn);function Fa(e,r,n){!r||typeof n!="string"||e.filter(function(i){return!i[n]}).forEach(function(i){i[n]=gc(r(i))})}function mc(e,r){var n=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,s=a===void 0?function(){return!0}:a,u=o.onLoopError,f=u===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:u,l={};n.forEach(function(p){return l[r(p)]={data:p,out:[],depth:-1,skip:!s(p)}}),i.forEach(function(p){var m=p.source,v=p.target,_=y(m),g=y(v);if(!l.hasOwnProperty(_))throw"Missing source node with id: ".concat(_);if(!l.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var A=l[_],k=l[g];A.out.push(k);function y(x){return nn(x)==="object"?r(x):x}});var c=[];d(Object.values(l));var h=Object.assign.apply(Object,[{}].concat(ht(Object.entries(l).filter(function(p){var m=De(p,2),v=m[1];return!v.skip}).map(function(p){var m=De(p,2),v=m[0],_=m[1];return Ee({},v,_.depth)}))));return h;function d(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=function(){var x=p[g];if(m.indexOf(x)!==-1){var b=[].concat(ht(m.slice(m.indexOf(x))),[x]).map(function(w){return r(w.data)});return c.some(function(w){return w.length===b.length&&w.every(function(C,P){return C===b[P]})})||(c.push(b),f(b)),"continue"}v>x.depth&&(x.depth=v,d(x.out,[].concat(ht(m),[x]),v+(x.skip?0:1)))},g=0,A=p.length;g<A;g++)var k=_()}}var xc=2,tt=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},La=function(r,n){if(!n.isShadow){var i=G(n.linkDirectionalParticles);n.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=ht(Array(a)).map(function(){return{}}):delete o.__photons})}},gr=Lr({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1,La(r,n)}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:tt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:tt},nodeColor:{default:"color",triggerUpdate:!1,onChange:tt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:tt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:tt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:tt},linkColor:{default:"color",triggerUpdate:!1,onChange:tt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:tt},linkWidth:{default:1,triggerUpdate:!1,onChange:tt},linkCurvature:{default:0,triggerUpdate:!1,onChange:tt},linkCanvasObject:{triggerUpdate:!1,onChange:tt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:tt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:tt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:tt},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:La},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,i){return i===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,i),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),o(),!r.isShadow&&a(),!r.isShadow&&s(),i(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function i(){var u=G(r.nodeVisibility),f=G(r.nodeVal),l=G(r.nodeColor),c=G(r.nodeCanvasObjectMode),h=r.ctx,d=r.isShadow/r.globalScale,p=r.graphData.nodes.filter(u);h.save(),p.forEach(function(m){var v=c(m);if(r.nodeCanvasObject&&(v==="before"||v==="replace")&&(r.nodeCanvasObject(m,h,r.globalScale),v==="replace")){h.restore();return}var _=Math.sqrt(Math.max(0,f(m)||1))*r.nodeRelSize+d;h.beginPath(),h.arc(m.x,m.y,_,0,2*Math.PI,!1),h.fillStyle=l(m)||"rgba(31, 120, 180, 0.92)",h.fill(),r.nodeCanvasObject&&v==="after"&&r.nodeCanvasObject(m,r.ctx,r.globalScale)}),h.restore()}function o(){var u=G(r.linkVisibility),f=G(r.linkColor),l=G(r.linkWidth),c=G(r.linkLineDash),h=G(r.linkCurvature),d=G(r.linkCanvasObjectMode),p=r.ctx,m=r.isShadow*2,v=r.graphData.links.filter(u);v.forEach(b);var _=[],g=[],A=v;if(r.linkCanvasObject){var k=[],y=[];v.forEach(function(w){return({before:_,after:g,replace:k}[d(w)]||y).push(w)}),A=[].concat(ht(_),g,y),_=_.concat(k)}p.save(),_.forEach(function(w){return r.linkCanvasObject(w,p,r.globalScale)}),p.restore();var x=Ia(A,[f,l,c]);p.save(),Object.entries(x).forEach(function(w){var C=De(w,2),P=C[0],O=C[1],R=!P||P==="undefined"?"rgba(0,0,0,0.15)":P;Object.entries(O).forEach(function(E){var F=De(E,2),j=F[0],z=F[1],M=(j||1)/r.globalScale+m;Object.entries(z).forEach(function(T){var N=De(T,2);N[0];var D=N[1],q=c(D[0]);p.beginPath(),D.forEach(function(L){var H=L.source,Z=L.target;if(!(!H||!Z||!H.hasOwnProperty("x")||!Z.hasOwnProperty("x"))){p.moveTo(H.x,H.y);var Y=L.__controlPoints;Y?p[Y.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,ht(Y).concat([Z.x,Z.y])):p.lineTo(Z.x,Z.y)}}),p.strokeStyle=R,p.lineWidth=M,p.setLineDash(q||[]),p.stroke()})})}),p.restore(),p.save(),g.forEach(function(w){return r.linkCanvasObject(w,p,r.globalScale)}),p.restore();function b(w){var C=h(w);if(!C){w.__controlPoints=null;return}var P=w.source,O=w.target;if(!(!P||!O||!P.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var R=Math.sqrt(Math.pow(O.x-P.x,2)+Math.pow(O.y-P.y,2));if(R>0){var E=Math.atan2(O.y-P.y,O.x-P.x),F=R*C,j={x:(P.x+O.x)/2+F*Math.cos(E-Math.PI/2),y:(P.y+O.y)/2+F*Math.sin(E-Math.PI/2)};w.__controlPoints=[j.x,j.y]}else{var z=C*70;w.__controlPoints=[O.x,O.y-z,O.x+z,O.y]}}}}function a(){var u=1.6,f=.2,l=G(r.linkDirectionalArrowLength),c=G(r.linkDirectionalArrowRelPos),h=G(r.linkVisibility),d=G(r.linkDirectionalArrowColor||r.linkColor),p=G(r.nodeVal),m=r.ctx;m.save(),r.graphData.links.filter(h).forEach(function(v){var _=l(v);if(!(!_||_<0)){var g=v.source,A=v.target;if(!(!g||!A||!g.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var k=Math.sqrt(Math.max(0,p(g)||1))*r.nodeRelSize,y=Math.sqrt(Math.max(0,p(A)||1))*r.nodeRelSize,x=Math.min(1,Math.max(0,c(v))),b=d(v)||"rgba(0,0,0,0.28)",w=_/u/2,C=v.__controlPoints&&Ne(B,[g.x,g.y].concat(ht(v.__controlPoints),[A.x,A.y])),P=C?function(M){return C.get(M)}:function(M){return{x:g.x+(A.x-g.x)*M||0,y:g.y+(A.y-g.y)*M||0}},O=C?C.length():Math.sqrt(Math.pow(A.x-g.x,2)+Math.pow(A.y-g.y,2)),R=k+_+(O-k-y-_)*x,E=P(R/O),F=P((R-_)/O),j=P((R-_*(1-f))/O),z=Math.atan2(E.y-F.y,E.x-F.x)-Math.PI/2;m.beginPath(),m.moveTo(E.x,E.y),m.lineTo(F.x+w*Math.cos(z),F.y+w*Math.sin(z)),m.lineTo(j.x,j.y),m.lineTo(F.x-w*Math.cos(z),F.y-w*Math.sin(z)),m.fillStyle=b,m.fill()}}}),m.restore()}function s(){var u=G(r.linkDirectionalParticles),f=G(r.linkDirectionalParticleSpeed),l=G(r.linkDirectionalParticleWidth),c=G(r.linkVisibility),h=G(r.linkDirectionalParticleColor||r.linkColor),d=r.ctx;d.save(),r.graphData.links.filter(c).forEach(function(p){var m=u(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var v=p.source,_=p.target;if(!(!v||!_||!v.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var g=f(p),A=p.__photons||[],k=Math.max(0,l(p)/2)/Math.sqrt(r.globalScale),y=h(p)||"rgba(0,0,0,0.28)";d.fillStyle=y;var x=p.__controlPoints?Ne(B,[v.x,v.y].concat(ht(p.__controlPoints),[_.x,_.y])):null,b=0,w=!1;A.forEach(function(C){var P=!!C.__singleHop;if(C.hasOwnProperty("__progressRatio")||(C.__progressRatio=P?0:b/m),!P&&b++,C.__progressRatio+=g,C.__progressRatio>=1)if(!P)C.__progressRatio=C.__progressRatio%1;else{w=!0;return}var O=C.__progressRatio,R=x?x.get(O):{x:v.x+(_.x-v.x)*O||0,y:v.y+(_.y-v.y)*O||0};d.beginPath(),d.arc(R.x,R.y,k,0,2*Math.PI,!1),d.fill()}),w&&(p.__photons=p.__photons.filter(function(C){return!C.__singleHop||C.__progressRatio<=1}))}}}),d.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Wr().force("link",Yr()).force("charge",Zr()).force("center",Gr()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r){r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&Fa(r.graphData.nodes,G(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&Fa(r.graphData.links,G(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(c){c.source=c[r.linkSource],c.target=c[r.linkTarget]}),r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var n=r.forceLayout.force("link");n&&n.id(function(c){return c[r.nodeId]}).links(r.graphData.links);var i=r.dagMode&&mc(r.graphData,function(c){return c[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),o=Math.max.apply(Math,ht(Object.values(i||[]))),a=r.dagLevelDistance||r.graphData.nodes.length/(o||1)*xc*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(r.dagMode){var s=function(h,d){return function(p){return h?(i[p[r.nodeId]]-o/2)*a*(d?-1:1):void 0}},u=s(["lr","rl"].indexOf(r.dagMode)!==-1,r.dagMode==="rl"),f=s(["td","bu"].indexOf(r.dagMode)!==-1,r.dagMode==="bu");r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(c){c.fx=u(c),c.fy=f(c)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?Qr(function(c){var h=i[c[r.nodeId]]||-1;return(r.dagMode==="radialin"?o-h:h)*a}).strength(function(c){return r.dagNodeFilter(c)?1:0}):null);for(var l=0;l<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);l++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function Ua(e,r){var n=e instanceof Array?e:[e],i=new r;return{linkProp:function(a){return{default:i[a](),onChange:function(u,f){n.forEach(function(l){return f[l][a](u)})},triggerUpdate:!1}},linkMethod:function(a){return function(s){for(var u=arguments.length,f=new Array(u>1?u-1:0),l=1;l<u;l++)f[l-1]=arguments[l];var c=[];return n.forEach(function(h){var d=s[h],p=d[a].apply(d,f);p!==d&&c.push(p)}),c.length?c[0]:this}}}}var yc=800,vc=4,Ba=Ua("forceGraph",gr),_c=Ua(["forceGraph","shadowGraph"],gr),bc=Object.assign.apply(Object,ht(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Ee({},e,Ba.linkProp(e))})).concat(ht(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Ee({},e,_c.linkProp(e))})))),wc=Object.assign.apply(Object,ht(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Ee({},e,Ba.linkMethod(e))})));function sn(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var i=window.devicePixelRatio;r/=i,n/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!r&&!n&&a.getContext("2d").scale(i,i)});var o=ot(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/o,(e.height-n)/2/o),e.needsRedraw=!0}}function Ga(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function Ha(e,r,n){e.save(),Ga(e),e.clearRect(0,0,r,n),e.restore()}var $a=Lr({props:Jt({width:{default:window.innerWidth,onChange:function(r,n){return sn(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return sn(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(i),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function i(o){var a=o.type,s=o.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var f=n.colorTracker.lookup(u.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==u}).forEach(function(u){u.__indexColor=n.colorTracker.register({type:a,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},bc),aliases:{stopAnimation:"pauseAnimation"},methods:Jt({graph2ScreenCoords:function(r,n,i){var o=ot(r.canvas);return{x:n*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(r,n,i){var o=ot(r.canvas);return{x:(n-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(r,n,i,o){if(!r.canvas)return null;if(n!==void 0||i!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return o?new Qt.Tween(s()).to(a,o).easing(Qt.Easing.Quadratic.Out).onUpdate(u).start():u(a),this}return s();function s(){var f=ot(r.canvas);return{x:(r.width/2-f.x)/f.k,y:(r.height/2-f.y)/f.k}}function u(f){var l=f.x,c=f.y;r.zoom.translateTo(r.zoom.__baseElem,l===void 0?s().x:l,c===void 0?s().y:c),r.needsRedraw=!0}},zoom:function(r,n,i){if(!r.canvas)return null;if(n!==void 0)return i?new Qt.Tween({k:o()}).to({k:n},i).easing(Qt.Easing.Quadratic.Out).onUpdate(function(s){var u=s.k;return a(u)}).start():a(n),this;return o();function o(){return ot(r.canvas).k}function a(s){r.zoom.scaleTo(r.zoom.__baseElem,s),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,a);if(u){var f={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(r.width-i*2)/(u.x[1]-u.x[0]),(r.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(f.x,f.y,n),this.zoom(l,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=G(r.nodeVal),o=function(u){return Math.sqrt(Math.max(0,i(u)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(s){return{x:s.x,y:s.y,r:o(s)}});return a.length?{x:[we(a,function(s){return s.x-s.r}),be(a,function(s){return s.x+s.r})],y:[we(a,function(s){return s.y-s.r}),be(a,function(s){return s.y+s.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},wc),stateInit:function(){return{lastSetZoom:1,zoom:Nr(),forceGraph:new gr,shadowGraph:new gr().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new jo}},init:function(r,n){var i=this;r.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",r.appendChild(o),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),o.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),s=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},f=function(){var d=null,p=window.devicePixelRatio,m=u.x>0&&u.y>0?s.getImageData(u.x*p,u.y*p,1,1):null;return m&&(d=n.colorTracker.lookup(m.data)),d};K(n.canvas).call(wr().subject(function(){if(!n.enableNodeDrag)return null;var h=f();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var d=h.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},h.active||(d.fx=d.x,d.fy=d.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var d=h.subject,p=d.__initialDragPos,m=h,v=ot(n.canvas).k,_={x:p.x+(m.x-p.x)/v-d.x,y:p.y+(m.y-p.y)/v-d.y};["x","y"].forEach(function(g){return d["f".concat(g)]=d[g]=p[g]+(m[g]-p[g])/v}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,d.__dragged=!0,n.onNodeDrag(d,_)}).on("end",function(h){var d=h.subject,p=d.__initialDragPos,m={x:d.x-p.x,y:d.y-p.y};p.fx===void 0&&(d.fx=void 0),p.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,n.onNodeDragEnd(d,m))})),n.zoom(n.zoom.__baseElem=K(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||h.type!=="wheel")&&(n.enablePanInteraction||h.type==="wheel")}).on("zoom",function(h){var d=h.transform;[a,s].forEach(function(p){Ga(p),p.translate(d.x,d.y),p.scale(d.k,d.k)}),n.onZoom&&n.onZoom(Jt(Jt({},d),i.centerAt())),n.needsRedraw=!0}).on("end",function(h){return n.onZoomEnd&&n.onZoomEnd(Jt(Jt({},h.transform),i.centerAt()))}),sn(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){ot(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=vc/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var l=document.createElement("div");l.classList.add("graph-tooltip"),o.appendChild(l),["pointermove","pointerdown"].forEach(function(h){return o.addEventListener(h,function(d){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=d),!n.isPointerDragging&&d.type==="pointermove"&&n.onBackgroundClick&&(d.pressure>0||n.isPointerPressed)&&(d.pointerType!=="touch"||d.movementX===void 0||[d.movementX,d.movementY].some(function(v){return Math.abs(v)>1}))&&(n.isPointerDragging=!0);var p=m(o);u.x=d.pageX-p.left,u.y=d.pageY-p.top,l.style.top="".concat(u.y,"px"),l.style.left="".concat(u.x,"px"),l.style.transform="translate(-".concat(u.x/n.width*100,"%, ").concat(n.height-u.y<100?"calc(-100% - 8px)":"21px",")");function m(v){var _=v.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft,A=window.pageYOffset||document.documentElement.scrollTop;return{top:_.top+A,left:_.left+g}}},{passive:!0})}),o.addEventListener("pointerup",function(h){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var d=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var p=n["on".concat(n.hoverObj.type,"Click")];p&&p.apply(void 0,[n.hoverObj.d].concat(d))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,d);if(h.button===2)if(n.hoverObj){var m=n["on".concat(n.hoverObj.type,"RightClick")];m&&m.apply(void 0,[n.hoverObj.d].concat(d))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,d)})},{passive:!0}),o.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(s);var c=(0,Na.default)(function(){Ha(s,n.width,n.height),n.shadowGraph.linkWidth(function(d){return G(n.linkWidth)(d)+n.linkHoverPrecision});var h=ot(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},yc);n.flushShadowCanvas=c.flush,(this._animationCycle=function h(){var d=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(x){return x.__photons&&x.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var p=n.isPointerDragging?null:f();if(p!==n.hoverObj){var m=n.hoverObj,v=m?m.type:null,_=p?p.type:null;if(v&&v!==_){var g=n["on".concat(v,"Hover")];g&&g(null,m.d)}if(_){var A=n["on".concat(_,"Hover")];A&&A(p.d,v===_?m.d:null)}var k=p&&G(n["".concat(p.type.toLowerCase(),"Label")])(p.d)||"";l.style.visibility=k?"visible":"hidden",l.innerHTML=k,n.canvas.classList[p&&n["on".concat(_,"Click")]||!p&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=p}d&&c()}if(d){Ha(a,n.width,n.height);var y=ot(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,y),n.forceGraph.globalScale(y).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,y)}Qt.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(r){}});console.info("Bridgetown is loaded!");window.$graph=$a;})();
//# sourceMappingURL=/_bridgetown/static/index.FFIMB2ME.js.map
