(()=>{var tl=Object.defineProperty;var il=(e,i,n)=>i in e?tl(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;var Be=(e,i,n)=>(il(e,typeof i!="symbol"?i+"":i,n),n);var M=class M extends HTMLElement{constructor(){super(),this.ready=new Promise(i=>{this.readyResolve=i})}static getParents(i,n=!1){let o=[];for(;i;){if(i.matches&&i.matches(M.tagName)){if(n&&i===n)break;Re.hasConditions(i)&&o.push(i)}i=i.parentNode}return o}static async ready(i,n){if(n||(n=M.getParents(i)),n.length===0)return;let o=await Promise.all(n.map(r=>r.wait()));if(o.length)return o[0]}forceFallback(){window.Island&&Object.assign(M.fallback,window.Island.fallback);for(let i in M.fallback){let n=Array.from(this.querySelectorAll(i)).reverse();for(let o of n){if(!o.isConnected)continue;let r=M.getParents(o);if(r.length===1){let c=M.ready(o,r);M.fallback[i](c,o,M.prefix)}}}}wait(){return this.ready}async connectedCallback(){Re.hasConditions(this)&&this.forceFallback(),await this.hydrate()}getTemplates(){return this.querySelectorAll(`template[${M.attr.template}]`)}replaceTemplates(i){for(let n of i){if(M.getParents(n,this).length>0)continue;let o=n.getAttribute(M.attr.template);if(o==="replace"){let r=Array.from(this.childNodes);for(let c of r)this.removeChild(c);this.appendChild(n.content);break}else{let r=n.innerHTML;if(o==="once"&&r){if(M.onceCache.has(r)){n.remove();return}M.onceCache.set(r,!0)}n.replaceWith(n.content)}}}async hydrate(){let i=[];this.parentNode&&i.push(M.ready(this.parentNode));let n=Re.getConditions(this);for(let o in n)Re.map[o]&&i.push(Re.map[o](n[o],this));await Promise.all(i),this.replaceTemplates(this.getTemplates());for(let o of M.onReady.values())await o.call(this,M);this.readyResolve(),this.setAttribute(M.attr.ready,""),this.querySelectorAll(`[${M.attr.defer}]`).forEach(o=>o.removeAttribute(M.attr.defer))}};Be(M,"tagName","is-land"),Be(M,"prefix","is-land--"),Be(M,"attr",{template:"data-island",ready:"ready",defer:"defer-hydration"}),Be(M,"onceCache",new Map),Be(M,"onReady",new Map),Be(M,"fallback",{":not(is-land,:defined,[defer-hydration])":(i,n,o)=>{let r=document.createElement(o+n.localName);for(let l of n.getAttributeNames())r.setAttribute(l,n.getAttribute(l));let c=n.shadowRoot;if(!c){let l=n.querySelector(":scope > template:is([shadowrootmode], [shadowroot])");if(l){let Q=l.getAttribute("shadowrootmode")||l.getAttribute("shadowroot")||"closed";c=n.attachShadow({mode:Q}),c.appendChild(l.content.cloneNode(!0))}}return c&&r.attachShadow({mode:c.mode}).append(...c.childNodes),r.append(...n.childNodes),n.replaceWith(r),i.then(()=>{r.shadowRoot&&n.shadowRoot.append(...r.shadowRoot.childNodes),n.append(...r.childNodes),r.replaceWith(n)})}});var Ae=M,Ie=class Ie{static hasConditions(i){return Object.keys(Ie.getConditions(i)).length>0}static getConditions(i){let n={};for(let o of Object.keys(Ie.map))i.hasAttribute(`on:${o}`)&&(n[o]=i.getAttribute(`on:${o}`));return n}static visible(i,n){if("IntersectionObserver"in window)return new Promise(o=>{let r=new IntersectionObserver(c=>{let[l]=c;l.isIntersecting&&(r.unobserve(l.target),o())});r.observe(n)})}static idle(){let i=new Promise(n=>{document.readyState!=="complete"?window.addEventListener("load",()=>n(),{once:!0}):n()});return"requestIdleCallback"in window?Promise.all([new Promise(n=>{requestIdleCallback(()=>{n()})}),i]):i}static interaction(i,n){let o=["click","touchstart"];return i&&(o=(i||"").split(",").map(r=>r.trim())),new Promise(r=>{function c(l){r();for(let Q of o)n.removeEventListener(Q,c)}for(let l of o)n.addEventListener(l,c,{once:!0})})}static media(i){let n={matches:!0};if(i&&"matchMedia"in window&&(n=window.matchMedia(i)),!n.matches)return new Promise(o=>{n.addListener(r=>{r.matches&&o()})})}static saveData(i){if(!(!("connection"in navigator)||navigator.connection.saveData===(i!=="false")))return new Promise(()=>{})}};Be(Ie,"map",{visible:Ie.visible,idle:Ie.idle,interaction:Ie.interaction,media:Ie.media,"save-data":Ie.saveData});var Re=Ie;"customElements"in window&&(window.customElements.define(Ae.tagName,Ae),window.Island=Ae);var Rs=Ae.ready;var ve=class{};Be(ve,"attr",{autoInitType:"autoinit",import:"import"}),Be(ve,"types",{"petite-vue":function(i){i.createApp().mount(this)},vue:function(i){i.createApp().mount(this)},svelte:function(i){new i.default({target:this})},"svelte-ssr":function(i){new i.default({target:this,hydrate:!0})},preact:function(i){i.default(this)}});Island.onReady.set("import-autoinit",async function(e){let i,n=this.getAttribute(ve.attr.import);if(n&&(i=await import(n)),i){let o=ve.types[this.getAttribute(ve.attr.autoInitType)||n];o&&await o.call(this,i)}});var Tt="http://www.w3.org/1999/xhtml",Ci={svg:"http://www.w3.org/2000/svg",xhtml:Tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ge(e){var i=e+="",n=i.indexOf(":");return n>=0&&(i=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ci.hasOwnProperty(i)?{space:Ci[i],local:e}:e}function nl(e){return function(){var i=this.ownerDocument,n=this.namespaceURI;return n===Tt&&i.documentElement.namespaceURI===Tt?i.createElement(e):i.createElementNS(n,e)}}function ol(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zt(e){var i=Ge(e);return(i.local?ol:nl)(i)}function rl(){}function De(e){return e==null?rl:function(){return this.querySelector(e)}}function Un(e){typeof e!="function"&&(e=De(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=new Array(l),b,a,f=0;f<l;++f)(b=c[f])&&(a=e.call(b,b.__data__,f,c))&&("__data__"in b&&(a.__data__=b.__data__),Q[f]=a);return new T(o,this._parents)}function Xi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cl(){return[]}function Qt(e){return e==null?cl:function(){return this.querySelectorAll(e)}}function ll(e){return function(){return Xi(e.apply(this,arguments))}}function Zn(e){typeof e=="function"?e=ll(e):e=Qt(e);for(var i=this._groups,n=i.length,o=[],r=[],c=0;c<n;++c)for(var l=i[c],Q=l.length,b,a=0;a<Q;++a)(b=l[a])&&(o.push(e.call(b,b.__data__,a,l)),r.push(b));return new T(o,r)}function bt(e){return function(){return this.matches(e)}}function _t(e){return function(i){return i.matches(e)}}var Ql=Array.prototype.find;function bl(e){return function(){return Ql.call(this.children,e)}}function al(){return this.firstElementChild}function xn(e){return this.select(e==null?al:bl(typeof e=="function"?e:_t(e)))}var sl=Array.prototype.filter;function fl(){return Array.from(this.children)}function Fl(e){return function(){return sl.call(this.children,e)}}function In(e){return this.selectAll(e==null?fl:Fl(typeof e=="function"?e:_t(e)))}function pn(e){typeof e!="function"&&(e=bt(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=[],b,a=0;a<l;++a)(b=c[a])&&e.call(b,b.__data__,a,c)&&Q.push(b);return new T(o,this._parents)}function At(e){return new Array(e.length)}function gn(){return new T(this._enter||this._groups.map(At),this._parents)}function at(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}at.prototype={constructor:at,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yn(e){return function(){return e}}function ml(e,i,n,o,r,c){for(var l=0,Q,b=i.length,a=c.length;l<a;++l)(Q=i[l])?(Q.__data__=c[l],o[l]=Q):n[l]=new at(e,c[l]);for(;l<b;++l)(Q=i[l])&&(r[l]=Q)}function Bl(e,i,n,o,r,c,l){var Q,b,a=new Map,f=i.length,s=c.length,F=new Array(f),m;for(Q=0;Q<f;++Q)(b=i[Q])&&(F[Q]=m=l.call(b,b.__data__,Q,i)+"",a.has(m)?r[Q]=b:a.set(m,b));for(Q=0;Q<s;++Q)m=l.call(e,c[Q],Q,c)+"",(b=a.get(m))?(o[Q]=b,b.__data__=c[Q],a.delete(m)):n[Q]=new at(e,c[Q]);for(Q=0;Q<f;++Q)(b=i[Q])&&a.get(F[Q])===b&&(r[Q]=b)}function ul(e){return e.__data__}function hn(e,i){if(!arguments.length)return Array.from(this,ul);var n=i?Bl:ml,o=this._parents,r=this._groups;typeof e!="function"&&(e=yn(e));for(var c=r.length,l=new Array(c),Q=new Array(c),b=new Array(c),a=0;a<c;++a){var f=o[a],s=r[a],F=s.length,m=dl(e.call(f,f&&f.__data__,a,o)),u=m.length,Z=Q[a]=new Array(u),x=l[a]=new Array(u),B=b[a]=new Array(F);n(f,s,Z,x,B,m,i);for(var y=0,h=0,d,U;y<u;++y)if(d=Z[y]){for(y>=h&&(h=y+1);!(U=x[h])&&++h<u;);d._next=U||null}}return l=new T(l,o),l._enter=Q,l._exit=b,l}function dl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gn(){return new T(this._exit||this._groups.map(At),this._parents)}function Cn(e,i,n){var o=this.enter(),r=this,c=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),i!=null&&(r=i(r),r&&(r=r.selection())),n==null?c.remove():n(c),o&&r?o.merge(r).order():r}function Xn(e){for(var i=e.selection?e.selection():e,n=this._groups,o=i._groups,r=n.length,c=o.length,l=Math.min(r,c),Q=new Array(r),b=0;b<l;++b)for(var a=n[b],f=o[b],s=a.length,F=Q[b]=new Array(s),m,u=0;u<s;++u)(m=a[u]||f[u])&&(F[u]=m);for(;b<r;++b)Q[b]=n[b];return new T(Q,this._parents)}function Jn(){for(var e=this._groups,i=-1,n=e.length;++i<n;)for(var o=e[i],r=o.length-1,c=o[r],l;--r>=0;)(l=o[r])&&(c&&l.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(l,c),c=l);return this}function Wn(e){e||(e=Ul);function i(s,F){return s&&F?e(s.__data__,F.__data__):!s-!F}for(var n=this._groups,o=n.length,r=new Array(o),c=0;c<o;++c){for(var l=n[c],Q=l.length,b=r[c]=new Array(Q),a,f=0;f<Q;++f)(a=l[f])&&(b[f]=a);b.sort(i)}return new T(r,this._parents).order()}function Ul(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function Ln(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yn(){return Array.from(this)}function Vn(){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,c=o.length;r<c;++r){var l=o[r];if(l)return l}return null}function On(){let e=0;for(let i of this)++e;return e}function wn(){return!this.node()}function jn(e){for(var i=this._groups,n=0,o=i.length;n<o;++n)for(var r=i[n],c=0,l=r.length,Q;c<l;++c)(Q=r[c])&&e.call(Q,Q.__data__,c,r);return this}function Zl(e){return function(){this.removeAttribute(e)}}function xl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Il(e,i){return function(){this.setAttribute(e,i)}}function pl(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function gl(e,i){return function(){var n=i.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yl(e,i){return function(){var n=i.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function kn(e,i){var n=Ge(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((i==null?n.local?xl:Zl:typeof i=="function"?n.local?yl:gl:n.local?pl:Il)(n,i))}function qt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hl(e){return function(){this.style.removeProperty(e)}}function Gl(e,i,n){return function(){this.style.setProperty(e,i,n)}}function Cl(e,i,n){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Nn(e,i,n){return arguments.length>1?this.each((i==null?hl:typeof i=="function"?Cl:Gl)(e,i,n??"")):Ye(this.node(),e)}function Ye(e,i){return e.style.getPropertyValue(i)||qt(e).getComputedStyle(e,null).getPropertyValue(i)}function Xl(e){return function(){delete this[e]}}function Jl(e,i){return function(){this[e]=i}}function Wl(e,i){return function(){var n=i.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Rn(e,i){return arguments.length>1?this.each((i==null?Xl:typeof i=="function"?Wl:Jl)(e,i)):this.node()[e]}function vn(e){return e.trim().split(/^|\s+/)}function Ji(e){return e.classList||new Dn(e)}function Dn(e){this._node=e,this._names=vn(e.getAttribute("class")||"")}Dn.prototype={add:function(e){var i=this._names.indexOf(e);i<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mn(e,i){for(var n=Ji(e),o=-1,r=i.length;++o<r;)n.add(i[o])}function En(e,i){for(var n=Ji(e),o=-1,r=i.length;++o<r;)n.remove(i[o])}function Ll(e){return function(){Mn(this,e)}}function Yl(e){return function(){En(this,e)}}function Vl(e,i){return function(){(i.apply(this,arguments)?Mn:En)(this,e)}}function Sn(e,i){var n=vn(e+"");if(arguments.length<2){for(var o=Ji(this.node()),r=-1,c=n.length;++r<c;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof i=="function"?Vl:i?Ll:Yl)(n,i))}function Ol(){this.textContent=""}function wl(e){return function(){this.textContent=e}}function jl(e){return function(){var i=e.apply(this,arguments);this.textContent=i??""}}function Hn(e){return arguments.length?this.each(e==null?Ol:(typeof e=="function"?jl:wl)(e)):this.node().textContent}function kl(){this.innerHTML=""}function Nl(e){return function(){this.innerHTML=e}}function Rl(e){return function(){var i=e.apply(this,arguments);this.innerHTML=i??""}}function Tn(e){return arguments.length?this.each(e==null?kl:(typeof e=="function"?Rl:Nl)(e)):this.node().innerHTML}function vl(){this.nextSibling&&this.parentNode.appendChild(this)}function zn(){return this.each(vl)}function Dl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _n(){return this.each(Dl)}function An(e){var i=typeof e=="function"?e:zt(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function Ml(){return null}function qn(e,i){var n=typeof e=="function"?e:zt(e),o=i==null?Ml:typeof i=="function"?i:De(i);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function El(){var e=this.parentNode;e&&e.removeChild(this)}function Pn(){return this.each(El)}function Sl(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Hl(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Kn(e){return this.select(e?Hl:Sl)}function $n(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Tl(e){return function(i){e.call(this,i,this.__data__)}}function zl(e){return e.trim().split(/^|\s+/).map(function(i){var n="",o=i.indexOf(".");return o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),{type:i,name:n}})}function _l(e){return function(){var i=this.__on;if(i){for(var n=0,o=-1,r=i.length,c;n<r;++n)c=i[n],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):i[++o]=c;++o?i.length=o:delete this.__on}}}function Al(e,i,n){return function(){var o=this.__on,r,c=Tl(i);if(o){for(var l=0,Q=o.length;l<Q;++l)if((r=o[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=c,r.options=n),r.value=i;return}}this.addEventListener(e.type,c,n),r={type:e.type,name:e.name,value:i,listener:c,options:n},o?o.push(r):this.__on=[r]}}function eo(e,i,n){var o=zl(e+""),r,c=o.length,l;if(arguments.length<2){var Q=this.node().__on;if(Q){for(var b=0,a=Q.length,f;b<a;++b)for(r=0,f=Q[b];r<c;++r)if((l=o[r]).type===f.type&&l.name===f.name)return f.value}return}for(Q=i?Al:_l,r=0;r<c;++r)this.each(Q(o[r],i,n));return this}function to(e,i,n){var o=qt(e),r=o.CustomEvent;typeof r=="function"?r=new r(i,n):(r=o.document.createEvent("Event"),n?(r.initEvent(i,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(i,!1,!1)),e.dispatchEvent(r)}function ql(e,i){return function(){return to(this,e,i)}}function Pl(e,i){return function(){return to(this,e,i.apply(this,arguments))}}function io(e,i){return this.each((typeof i=="function"?Pl:ql)(e,i))}function*no(){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,c=o.length,l;r<c;++r)(l=o[r])&&(yield l)}var Wi=[null];function T(e,i){this._groups=e,this._parents=i}function oo(){return new T([[document.documentElement]],Wi)}function Kl(){return this}T.prototype=oo.prototype={constructor:T,select:Un,selectAll:Zn,selectChild:xn,selectChildren:In,filter:pn,data:hn,enter:gn,exit:Gn,join:Cn,merge:Xn,selection:Kl,order:Jn,sort:Wn,call:Ln,nodes:Yn,node:Vn,size:On,empty:wn,each:jn,attr:kn,style:Nn,property:Rn,classed:Sn,text:Hn,html:Tn,raise:zn,lower:_n,append:An,insert:qn,remove:Pn,clone:Kn,datum:$n,on:eo,dispatch:io,[Symbol.iterator]:no};var Ce=oo;function K(e){return typeof e=="string"?new T([[document.querySelector(e)]],[document.documentElement]):new T([[e]],Wi)}function ro(e){let i;for(;i=e.sourceEvent;)e=i;return e}function le(e,i){if(e=ro(e),i===void 0&&(i=e.currentTarget),i){var n=i.ownerSVGElement||i;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var r=i.getBoundingClientRect();return[e.clientX-r.left-i.clientLeft,e.clientY-r.top-i.clientTop]}}return[e.pageX,e.pageY]}var $l={value:()=>{}};function lo(){for(var e=0,i=arguments.length,n={},o;e<i;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Pt(n)}function Pt(e){this._=e}function eQ(e,i){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!i.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Pt.prototype=lo.prototype={constructor:Pt,on:function(e,i){var n=this._,o=eQ(e+"",n),r,c=-1,l=o.length;if(arguments.length<2){for(;++c<l;)if((r=(e=o[c]).type)&&(r=tQ(n[r],e.name)))return r;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++c<l;)if(r=(e=o[c]).type)n[r]=co(n[r],e.name,i);else if(i==null)for(r in n)n[r]=co(n[r],e.name,null);return this},copy:function(){var e={},i=this._;for(var n in i)e[n]=i[n].slice();return new Pt(e)},call:function(e,i){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,c;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],o=0,r=c.length;o<r;++o)c[o].value.apply(i,n)},apply:function(e,i,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,c=o.length;r<c;++r)o[r].value.apply(i,n)}};function tQ(e,i){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===i)return r.value}function co(e,i,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===i){e[o]=$l,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:i,value:n}),e}var Xe=lo;var Qo={passive:!1},Me={capture:!0,passive:!1};function Kt(e){e.stopImmediatePropagation()}function Ve(e){e.preventDefault(),e.stopImmediatePropagation()}function st(e){var i=e.document.documentElement,n=K(e).on("dragstart.drag",Ve,Me);"onselectstart"in i?n.on("selectstart.drag",Ve,Me):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function ft(e,i){var n=e.document.documentElement,o=K(e).on("dragstart.drag",null);i&&(o.on("click.drag",Ve,Me),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ft=e=>()=>e;function mt(e,{sourceEvent:i,subject:n,target:o,identifier:r,active:c,x:l,y:Q,dx:b,dy:a,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:Q,enumerable:!0,configurable:!0},dx:{value:b,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:f}})}mt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function iQ(e){return!e.ctrlKey&&!e.button}function nQ(){return this.parentNode}function oQ(e,i){return i??{x:e.x,y:e.y}}function rQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function Li(){var e=iQ,i=nQ,n=oQ,o=rQ,r={},c=Xe("start","drag","end"),l=0,Q,b,a,f,s=0;function F(d){d.on("mousedown.drag",m).filter(o).on("touchstart.drag",x).on("touchmove.drag",B,Qo).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(d,U){if(!(f||!e.call(this,d,U))){var I=h(this,i.call(this,d,U),d,U,"mouse");I&&(K(d.view).on("mousemove.drag",u,Me).on("mouseup.drag",Z,Me),st(d.view),Kt(d),a=!1,Q=d.clientX,b=d.clientY,I("start",d))}}function u(d){if(Ve(d),!a){var U=d.clientX-Q,I=d.clientY-b;a=U*U+I*I>s}r.mouse("drag",d)}function Z(d){K(d.view).on("mousemove.drag mouseup.drag",null),ft(d.view,a),Ve(d),r.mouse("end",d)}function x(d,U){if(e.call(this,d,U)){var I=d.changedTouches,g=i.call(this,d,U),G=I.length,L,W;for(L=0;L<G;++L)(W=h(this,g,d,U,I[L].identifier,I[L]))&&(Kt(d),W("start",d,I[L]))}}function B(d){var U=d.changedTouches,I=U.length,g,G;for(g=0;g<I;++g)(G=r[U[g].identifier])&&(Ve(d),G("drag",d,U[g]))}function y(d){var U=d.changedTouches,I=U.length,g,G;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),g=0;g<I;++g)(G=r[U[g].identifier])&&(Kt(d),G("end",d,U[g]))}function h(d,U,I,g,G,L){var W=c.copy(),O=le(L||I,U),w,R,p;if((p=n.call(d,new mt("beforestart",{sourceEvent:I,target:F,identifier:G,active:l,x:O[0],y:O[1],dx:0,dy:0,dispatch:W}),g))!=null)return w=p.x-O[0]||0,R=p.y-O[1]||0,function J(C,Y,j){var k=O,N;switch(C){case"start":r[G]=J,N=l++;break;case"end":delete r[G],--l;case"drag":O=le(j||Y,U),N=l;break}W.call(C,d,new mt(C,{sourceEvent:Y,subject:p,target:F,identifier:G,active:N,x:O[0]+w,y:O[1]+R,dx:O[0]-k[0],dy:O[1]-k[1],dispatch:W}),g)}}return F.filter=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(!!d),F):e},F.container=function(d){return arguments.length?(i=typeof d=="function"?d:Ft(d),F):i},F.subject=function(d){return arguments.length?(n=typeof d=="function"?d:Ft(d),F):n},F.touchable=function(d){return arguments.length?(o=typeof d=="function"?d:Ft(!!d),F):o},F.on=function(){var d=c.on.apply(c,arguments);return d===c?F:d},F.clickDistance=function(d){return arguments.length?(s=(d=+d)*d,F):Math.sqrt(s)},F}function $t(e,i,n){e.prototype=i.prototype=n,n.constructor=e}function Yi(e,i){var n=Object.create(e.prototype);for(var o in i)n[o]=i[o];return n}function dt(){}var Bt=.7,ii=1/Bt,qe="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cQ=/^#([0-9a-f]{3,8})$/,lQ=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),QQ=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),bQ=new RegExp(`^rgba\\(${qe},${qe},${qe},${ut}\\)$`),aQ=new RegExp(`^rgba\\(${pe},${pe},${pe},${ut}\\)$`),sQ=new RegExp(`^hsl\\(${ut},${pe},${pe}\\)$`),fQ=new RegExp(`^hsla\\(${ut},${pe},${pe},${ut}\\)$`),bo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(dt,Oe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ao,formatHex:ao,formatHex8:FQ,formatHsl:mQ,formatRgb:so,toString:so});function ao(){return this.rgb().formatHex()}function FQ(){return this.rgb().formatHex8()}function mQ(){return Uo(this).formatHsl()}function so(){return this.rgb().formatRgb()}function Oe(e){var i,n;return e=(e+"").trim().toLowerCase(),(i=cQ.exec(e))?(n=i[1].length,i=parseInt(i[1],16),n===6?fo(i):n===3?new ne(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):n===8?ei(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):n===4?ei(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=lQ.exec(e))?new ne(i[1],i[2],i[3],1):(i=QQ.exec(e))?new ne(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=bQ.exec(e))?ei(i[1],i[2],i[3],i[4]):(i=aQ.exec(e))?ei(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=sQ.exec(e))?Bo(i[1],i[2]/100,i[3]/100,1):(i=fQ.exec(e))?Bo(i[1],i[2]/100,i[3]/100,i[4]):bo.hasOwnProperty(e)?fo(bo[e]):e==="transparent"?new ne(NaN,NaN,NaN,0):null}function fo(e){return new ne(e>>16&255,e>>8&255,e&255,1)}function ei(e,i,n,o){return o<=0&&(e=i=n=NaN),new ne(e,i,n,o)}function BQ(e){return e instanceof dt||(e=Oe(e)),e?(e=e.rgb(),new ne(e.r,e.g,e.b,e.opacity)):new ne}function Pe(e,i,n,o){return arguments.length===1?BQ(e):new ne(e,i,n,o??1)}function ne(e,i,n,o){this.r=+e,this.g=+i,this.b=+n,this.opacity=+o}$t(ne,Pe,Yi(dt,{brighter(e){return e=e==null?ii:Math.pow(ii,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bt:Math.pow(Bt,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ne(Se(this.r),Se(this.g),Se(this.b),ni(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fo,formatHex:Fo,formatHex8:uQ,formatRgb:mo,toString:mo}));function Fo(){return`#${Ee(this.r)}${Ee(this.g)}${Ee(this.b)}`}function uQ(){return`#${Ee(this.r)}${Ee(this.g)}${Ee(this.b)}${Ee((isNaN(this.opacity)?1:this.opacity)*255)}`}function mo(){let e=ni(this.opacity);return`${e===1?"rgb(":"rgba("}${Se(this.r)}, ${Se(this.g)}, ${Se(this.b)}${e===1?")":`, ${e})`}`}function ni(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Se(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ee(e){return e=Se(e),(e<16?"0":"")+e.toString(16)}function Bo(e,i,n,o){return o<=0?e=i=n=NaN:n<=0||n>=1?e=i=NaN:i<=0&&(e=NaN),new ue(e,i,n,o)}function Uo(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof dt||(e=Oe(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var i=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(i,n,o),c=Math.max(i,n,o),l=NaN,Q=c-r,b=(c+r)/2;return Q?(i===c?l=(n-o)/Q+(n<o)*6:n===c?l=(o-i)/Q+2:l=(i-n)/Q+4,Q/=b<.5?c+r:2-c-r,l*=60):Q=b>0&&b<1?0:l,new ue(l,Q,b,e.opacity)}function Zo(e,i,n,o){return arguments.length===1?Uo(e):new ue(e,i,n,o??1)}function ue(e,i,n,o){this.h=+e,this.s=+i,this.l=+n,this.opacity=+o}$t(ue,Zo,Yi(dt,{brighter(e){return e=e==null?ii:Math.pow(ii,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bt:Math.pow(Bt,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*i,r=2*n-o;return new ne(Vi(e>=240?e-240:e+120,r,o),Vi(e,r,o),Vi(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ue(uo(this.h),ti(this.s),ti(this.l),ni(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ni(this.opacity);return`${e===1?"hsl(":"hsla("}${uo(this.h)}, ${ti(this.s)*100}%, ${ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uo(e){return e=(e||0)%360,e<0?e+360:e}function ti(e){return Math.max(0,Math.min(1,e||0))}function Vi(e,i,n){return(e<60?i+(n-i)*e/60:e<180?n:e<240?i+(n-i)*(240-e)/60:i)*255}function Oi(e,i,n,o,r){var c=e*e,l=c*e;return((1-3*e+3*c-l)*i+(4-6*c+3*l)*n+(1+3*e+3*c-3*l)*o+l*r)/6}function xo(e){var i=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,i-1):Math.floor(n*i),r=e[o],c=e[o+1],l=o>0?e[o-1]:2*r-c,Q=o<i-1?e[o+2]:2*c-r;return Oi((n-o/i)*i,l,r,c,Q)}}function Io(e){var i=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*i),r=e[(o+i-1)%i],c=e[o%i],l=e[(o+1)%i],Q=e[(o+2)%i];return Oi((n-o/i)*i,r,c,l,Q)}}var wi=e=>()=>e;function dQ(e,i){return function(n){return e+n*i}}function UQ(e,i,n){return e=Math.pow(e,n),i=Math.pow(i,n)-e,n=1/n,function(o){return Math.pow(e+o*i,n)}}function po(e){return(e=+e)==1?oi:function(i,n){return n-i?UQ(i,n,e):wi(isNaN(i)?n:i)}}function oi(e,i){var n=i-e;return n?dQ(e,n):wi(isNaN(e)?i:e)}var ri=function e(i){var n=po(i);function o(r,c){var l=n((r=Pe(r)).r,(c=Pe(c)).r),Q=n(r.g,c.g),b=n(r.b,c.b),a=oi(r.opacity,c.opacity);return function(f){return r.r=l(f),r.g=Q(f),r.b=b(f),r.opacity=a(f),r+""}}return o.gamma=e,o}(1);function go(e){return function(i){var n=i.length,o=new Array(n),r=new Array(n),c=new Array(n),l,Q;for(l=0;l<n;++l)Q=Pe(i[l]),o[l]=Q.r||0,r[l]=Q.g||0,c[l]=Q.b||0;return o=e(o),r=e(r),c=e(c),Q.opacity=1,function(b){return Q.r=o(b),Q.g=r(b),Q.b=c(b),Q+""}}}var ZQ=go(xo),xQ=go(Io);function Qe(e,i){return e=+e,i=+i,function(n){return e*(1-n)+i*n}}var ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ji=new RegExp(ki.source,"g");function IQ(e){return function(){return e}}function pQ(e){return function(i){return e(i)+""}}function Ni(e,i){var n=ki.lastIndex=ji.lastIndex=0,o,r,c,l=-1,Q=[],b=[];for(e=e+"",i=i+"";(o=ki.exec(e))&&(r=ji.exec(i));)(c=r.index)>n&&(c=i.slice(n,c),Q[l]?Q[l]+=c:Q[++l]=c),(o=o[0])===(r=r[0])?Q[l]?Q[l]+=r:Q[++l]=r:(Q[++l]=null,b.push({i:l,x:Qe(o,r)})),n=ji.lastIndex;return n<i.length&&(c=i.slice(n),Q[l]?Q[l]+=c:Q[++l]=c),Q.length<2?b[0]?pQ(b[0].x):IQ(i):(i=b.length,function(a){for(var f=0,s;f<i;++f)Q[(s=b[f]).i]=s.x(a);return Q.join("")})}var yo=180/Math.PI,ci={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ri(e,i,n,o,r,c){var l,Q,b;return(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l),(b=e*n+i*o)&&(n-=e*b,o-=i*b),(Q=Math.sqrt(n*n+o*o))&&(n/=Q,o/=Q,b/=Q),e*o<i*n&&(e=-e,i=-i,b=-b,l=-l),{translateX:r,translateY:c,rotate:Math.atan2(i,e)*yo,skewX:Math.atan(b)*yo,scaleX:l,scaleY:Q}}var li;function ho(e){let i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?ci:Ri(i.a,i.b,i.c,i.d,i.e,i.f)}function Go(e){return e==null?ci:(li||(li=document.createElementNS("http://www.w3.org/2000/svg","g")),li.setAttribute("transform",e),(e=li.transform.baseVal.consolidate())?(e=e.matrix,Ri(e.a,e.b,e.c,e.d,e.e,e.f)):ci)}function Co(e,i,n,o){function r(a){return a.length?a.pop()+" ":""}function c(a,f,s,F,m,u){if(a!==s||f!==F){var Z=m.push("translate(",null,i,null,n);u.push({i:Z-4,x:Qe(a,s)},{i:Z-2,x:Qe(f,F)})}else(s||F)&&m.push("translate("+s+i+F+n)}function l(a,f,s,F){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),F.push({i:s.push(r(s)+"rotate(",null,o)-2,x:Qe(a,f)})):f&&s.push(r(s)+"rotate("+f+o)}function Q(a,f,s,F){a!==f?F.push({i:s.push(r(s)+"skewX(",null,o)-2,x:Qe(a,f)}):f&&s.push(r(s)+"skewX("+f+o)}function b(a,f,s,F,m,u){if(a!==s||f!==F){var Z=m.push(r(m)+"scale(",null,",",null,")");u.push({i:Z-4,x:Qe(a,s)},{i:Z-2,x:Qe(f,F)})}else(s!==1||F!==1)&&m.push(r(m)+"scale("+s+","+F+")")}return function(a,f){var s=[],F=[];return a=e(a),f=e(f),c(a.translateX,a.translateY,f.translateX,f.translateY,s,F),l(a.rotate,f.rotate,s,F),Q(a.skewX,f.skewX,s,F),b(a.scaleX,a.scaleY,f.scaleX,f.scaleY,s,F),a=f=null,function(m){for(var u=-1,Z=F.length,x;++u<Z;)s[(x=F[u]).i]=x.x(m);return s.join("")}}}var vi=Co(ho,"px, ","px)","deg)"),Di=Co(Go,", ",")",")");var gQ=1e-12;function Xo(e){return((e=Math.exp(e))+1/e)/2}function yQ(e){return((e=Math.exp(e))-1/e)/2}function hQ(e){return((e=Math.exp(2*e))-1)/(e+1)}var Mi=function e(i,n,o){function r(c,l){var Q=c[0],b=c[1],a=c[2],f=l[0],s=l[1],F=l[2],m=f-Q,u=s-b,Z=m*m+u*u,x,B;if(Z<gQ)B=Math.log(F/a)/i,x=function(g){return[Q+g*m,b+g*u,a*Math.exp(i*g*B)]};else{var y=Math.sqrt(Z),h=(F*F-a*a+o*Z)/(2*a*n*y),d=(F*F-a*a-o*Z)/(2*F*n*y),U=Math.log(Math.sqrt(h*h+1)-h),I=Math.log(Math.sqrt(d*d+1)-d);B=(I-U)/i,x=function(g){var G=g*B,L=Xo(U),W=a/(n*y)*(L*hQ(i*G+U)-yQ(U));return[Q+W*m,b+W*u,a*L/Xo(i*G+U)]}}return x.duration=B*1e3*i/Math.SQRT2,x}return r.rho=function(c){var l=Math.max(.001,+c),Q=l*l,b=Q*Q;return e(l,Q,b)},r}(Math.SQRT2,2,4);var Ke=0,Zt=0,Ut=0,Wo=1e3,Qi,xt,bi=0,He=0,ai=0,It=typeof performance=="object"&&performance.now?performance:Date,Lo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gt(){return He||(Lo(GQ),He=It.now()+ai)}function GQ(){He=0}function pt(){this._call=this._time=this._next=null}pt.prototype=$e.prototype={constructor:pt,restart:function(e,i,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gt():+n)+(i==null?0:+i),!this._next&&xt!==this&&(xt?xt._next=this:Qi=this,xt=this),this._call=e,this._time=n,Ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ei())}};function $e(e,i,n){var o=new pt;return o.restart(e,i,n),o}function Yo(){gt(),++Ke;for(var e=Qi,i;e;)(i=He-e._time)>=0&&e._call.call(void 0,i),e=e._next;--Ke}function Jo(){He=(bi=It.now())+ai,Ke=Zt=0;try{Yo()}finally{Ke=0,XQ(),He=0}}function CQ(){var e=It.now(),i=e-bi;i>Wo&&(ai-=i,bi=e)}function XQ(){for(var e,i=Qi,n,o=1/0;i;)i._call?(o>i._time&&(o=i._time),e=i,i=i._next):(n=i._next,i._next=null,i=e?e._next=n:Qi=n);xt=e,Ei(o)}function Ei(e){if(!Ke){Zt&&(Zt=clearTimeout(Zt));var i=e-He;i>24?(e<1/0&&(Zt=setTimeout(Jo,e-It.now()-ai)),Ut&&(Ut=clearInterval(Ut))):(Ut||(bi=It.now(),Ut=setInterval(CQ,Wo)),Ke=1,Lo(Jo))}}function si(e,i,n){var o=new pt;return i=i==null?0:+i,o.restart(r=>{o.stop(),e(r+i)},i,n),o}var JQ=Xe("start","end","cancel","interrupt"),WQ=[],wo=0,Vo=1,Fi=2,fi=3,Oo=4,mi=5,yt=6;function we(e,i,n,o,r,c){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;LQ(e,n,{name:i,index:o,group:r,on:JQ,tween:WQ,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:wo})}function ht(e,i){var n=_(e,i);if(n.state>wo)throw new Error("too late; already scheduled");return n}function P(e,i){var n=_(e,i);if(n.state>fi)throw new Error("too late; already running");return n}function _(e,i){var n=e.__transition;if(!n||!(n=n[i]))throw new Error("transition not found");return n}function LQ(e,i,n){var o=e.__transition,r;o[i]=n,n.timer=$e(c,0,n.time);function c(a){n.state=Vo,n.timer.restart(l,n.delay,n.time),n.delay<=a&&l(a-n.delay)}function l(a){var f,s,F,m;if(n.state!==Vo)return b();for(f in o)if(m=o[f],m.name===n.name){if(m.state===fi)return si(l);m.state===Oo?(m.state=yt,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete o[f]):+f<i&&(m.state=yt,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete o[f])}if(si(function(){n.state===fi&&(n.state=Oo,n.timer.restart(Q,n.delay,n.time),Q(a))}),n.state=Fi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fi){for(n.state=fi,r=new Array(F=n.tween.length),f=0,s=-1;f<F;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++s]=m);r.length=s+1}}function Q(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(b),n.state=mi,1),s=-1,F=r.length;++s<F;)r[s].call(e,f);n.state===mi&&(n.on.call("end",e,e.__data__,n.index,n.group),b())}function b(){n.state=yt,n.timer.stop(),delete o[i];for(var a in o)return;delete e.__transition}}function Te(e,i){var n=e.__transition,o,r,c=!0,l;if(n){i=i==null?null:i+"";for(l in n){if((o=n[l]).name!==i){c=!1;continue}r=o.state>Fi&&o.state<mi,o.state=yt,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[l]}c&&delete e.__transition}}function jo(e){return this.each(function(){Te(this,e)})}function YQ(e,i){var n,o;return function(){var r=P(this,e),c=r.tween;if(c!==n){o=n=c;for(var l=0,Q=o.length;l<Q;++l)if(o[l].name===i){o=o.slice(),o.splice(l,1);break}}r.tween=o}}function VQ(e,i,n){var o,r;if(typeof n!="function")throw new Error;return function(){var c=P(this,e),l=c.tween;if(l!==o){r=(o=l).slice();for(var Q={name:i,value:n},b=0,a=r.length;b<a;++b)if(r[b].name===i){r[b]=Q;break}b===a&&r.push(Q)}c.tween=r}}function ko(e,i){var n=this._id;if(e+="",arguments.length<2){for(var o=_(this.node(),n).tween,r=0,c=o.length,l;r<c;++r)if((l=o[r]).name===e)return l.value;return null}return this.each((i==null?YQ:VQ)(n,e,i))}function et(e,i,n){var o=e._id;return e.each(function(){var r=P(this,o);(r.value||(r.value={}))[i]=n.apply(this,arguments)}),function(r){return _(r,o).value[i]}}function Bi(e,i){var n;return(typeof i=="number"?Qe:i instanceof Oe?ri:(n=Oe(i))?(i=n,ri):Ni)(e,i)}function OQ(e){return function(){this.removeAttribute(e)}}function wQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jQ(e,i,n){var o,r=n+"",c;return function(){var l=this.getAttribute(e);return l===r?null:l===o?c:c=i(o=l,n)}}function kQ(e,i,n){var o,r=n+"",c;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===o?c:c=i(o=l,n)}}function NQ(e,i,n){var o,r,c;return function(){var l,Q=n(this),b;return Q==null?void this.removeAttribute(e):(l=this.getAttribute(e),b=Q+"",l===b?null:l===o&&b===r?c:(r=b,c=i(o=l,Q)))}}function RQ(e,i,n){var o,r,c;return function(){var l,Q=n(this),b;return Q==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),b=Q+"",l===b?null:l===o&&b===r?c:(r=b,c=i(o=l,Q)))}}function No(e,i){var n=Ge(e),o=n==="transform"?Di:Bi;return this.attrTween(e,typeof i=="function"?(n.local?RQ:NQ)(n,o,et(this,"attr."+e,i)):i==null?(n.local?wQ:OQ)(n):(n.local?kQ:jQ)(n,o,i))}function vQ(e,i){return function(n){this.setAttribute(e,i.call(this,n))}}function DQ(e,i){return function(n){this.setAttributeNS(e.space,e.local,i.call(this,n))}}function MQ(e,i){var n,o;function r(){var c=i.apply(this,arguments);return c!==o&&(n=(o=c)&&DQ(e,c)),n}return r._value=i,r}function EQ(e,i){var n,o;function r(){var c=i.apply(this,arguments);return c!==o&&(n=(o=c)&&vQ(e,c)),n}return r._value=i,r}function Ro(e,i){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(i==null)return this.tween(n,null);if(typeof i!="function")throw new Error;var o=Ge(e);return this.tween(n,(o.local?MQ:EQ)(o,i))}function SQ(e,i){return function(){ht(this,e).delay=+i.apply(this,arguments)}}function HQ(e,i){return i=+i,function(){ht(this,e).delay=i}}function vo(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?SQ:HQ)(i,e)):_(this.node(),i).delay}function TQ(e,i){return function(){P(this,e).duration=+i.apply(this,arguments)}}function zQ(e,i){return i=+i,function(){P(this,e).duration=i}}function Do(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?TQ:zQ)(i,e)):_(this.node(),i).duration}function _Q(e,i){if(typeof i!="function")throw new Error;return function(){P(this,e).ease=i}}function Mo(e){var i=this._id;return arguments.length?this.each(_Q(i,e)):_(this.node(),i).ease}function AQ(e,i){return function(){var n=i.apply(this,arguments);if(typeof n!="function")throw new Error;P(this,e).ease=n}}function Eo(e){if(typeof e!="function")throw new Error;return this.each(AQ(this._id,e))}function So(e){typeof e!="function"&&(e=bt(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=[],b,a=0;a<l;++a)(b=c[a])&&e.call(b,b.__data__,a,c)&&Q.push(b);return new te(o,this._parents,this._name,this._id)}function Ho(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,n=e._groups,o=i.length,r=n.length,c=Math.min(o,r),l=new Array(o),Q=0;Q<c;++Q)for(var b=i[Q],a=n[Q],f=b.length,s=l[Q]=new Array(f),F,m=0;m<f;++m)(F=b[m]||a[m])&&(s[m]=F);for(;Q<o;++Q)l[Q]=i[Q];return new te(l,this._parents,this._name,this._id)}function qQ(e){return(e+"").trim().split(/^|\s+/).every(function(i){var n=i.indexOf(".");return n>=0&&(i=i.slice(0,n)),!i||i==="start"})}function PQ(e,i,n){var o,r,c=qQ(i)?ht:P;return function(){var l=c(this,e),Q=l.on;Q!==o&&(r=(o=Q).copy()).on(i,n),l.on=r}}function To(e,i){var n=this._id;return arguments.length<2?_(this.node(),n).on.on(e):this.each(PQ(n,e,i))}function KQ(e){return function(){var i=this.parentNode;for(var n in this.__transition)if(+n!==e)return;i&&i.removeChild(this)}}function zo(){return this.on("end.remove",KQ(this._id))}function _o(e){var i=this._name,n=this._id;typeof e!="function"&&(e=De(e));for(var o=this._groups,r=o.length,c=new Array(r),l=0;l<r;++l)for(var Q=o[l],b=Q.length,a=c[l]=new Array(b),f,s,F=0;F<b;++F)(f=Q[F])&&(s=e.call(f,f.__data__,F,Q))&&("__data__"in f&&(s.__data__=f.__data__),a[F]=s,we(a[F],i,n,F,a,_(f,n)));return new te(c,this._parents,i,n)}function Ao(e){var i=this._name,n=this._id;typeof e!="function"&&(e=Qt(e));for(var o=this._groups,r=o.length,c=[],l=[],Q=0;Q<r;++Q)for(var b=o[Q],a=b.length,f,s=0;s<a;++s)if(f=b[s]){for(var F=e.call(f,f.__data__,s,b),m,u=_(f,n),Z=0,x=F.length;Z<x;++Z)(m=F[Z])&&we(m,i,n,Z,F,u);c.push(F),l.push(f)}return new te(c,l,i,n)}var $Q=Ce.prototype.constructor;function qo(){return new $Q(this._groups,this._parents)}function eb(e,i){var n,o,r;return function(){var c=Ye(this,e),l=(this.style.removeProperty(e),Ye(this,e));return c===l?null:c===n&&l===o?r:r=i(n=c,o=l)}}function Po(e){return function(){this.style.removeProperty(e)}}function tb(e,i,n){var o,r=n+"",c;return function(){var l=Ye(this,e);return l===r?null:l===o?c:c=i(o=l,n)}}function ib(e,i,n){var o,r,c;return function(){var l=Ye(this,e),Q=n(this),b=Q+"";return Q==null&&(b=Q=(this.style.removeProperty(e),Ye(this,e))),l===b?null:l===o&&b===r?c:(r=b,c=i(o=l,Q))}}function nb(e,i){var n,o,r,c="style."+i,l="end."+c,Q;return function(){var b=P(this,e),a=b.on,f=b.value[c]==null?Q||(Q=Po(i)):void 0;(a!==n||r!==f)&&(o=(n=a).copy()).on(l,r=f),b.on=o}}function Ko(e,i,n){var o=(e+="")=="transform"?vi:Bi;return i==null?this.styleTween(e,eb(e,o)).on("end.style."+e,Po(e)):typeof i=="function"?this.styleTween(e,ib(e,o,et(this,"style."+e,i))).each(nb(this._id,e)):this.styleTween(e,tb(e,o,i),n).on("end.style."+e,null)}function ob(e,i,n){return function(o){this.style.setProperty(e,i.call(this,o),n)}}function rb(e,i,n){var o,r;function c(){var l=i.apply(this,arguments);return l!==r&&(o=(r=l)&&ob(e,l,n)),o}return c._value=i,c}function $o(e,i,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,rb(e,i,n??""))}function cb(e){return function(){this.textContent=e}}function lb(e){return function(){var i=e(this);this.textContent=i??""}}function er(e){return this.tween("text",typeof e=="function"?lb(et(this,"text",e)):cb(e==null?"":e+""))}function Qb(e){return function(i){this.textContent=e.call(this,i)}}function bb(e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&Qb(r)),i}return o._value=e,o}function tr(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,bb(e))}function ir(){for(var e=this._name,i=this._id,n=ui(),o=this._groups,r=o.length,c=0;c<r;++c)for(var l=o[c],Q=l.length,b,a=0;a<Q;++a)if(b=l[a]){var f=_(b,i);we(b,e,n,a,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new te(o,this._parents,e,n)}function nr(){var e,i,n=this,o=n._id,r=n.size();return new Promise(function(c,l){var Q={value:l},b={value:function(){--r===0&&c()}};n.each(function(){var a=P(this,o),f=a.on;f!==e&&(i=(e=f).copy(),i._.cancel.push(Q),i._.interrupt.push(Q),i._.end.push(b)),a.on=i}),r===0&&c()})}var ab=0;function te(e,i,n,o){this._groups=e,this._parents=i,this._name=n,this._id=o}function or(e){return Ce().transition(e)}function ui(){return++ab}var Je=Ce.prototype;te.prototype=or.prototype={constructor:te,select:_o,selectAll:Ao,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:So,merge:Ho,selection:qo,transition:ir,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:To,attr:No,attrTween:Ro,style:Ko,styleTween:$o,text:er,textTween:tr,remove:zo,tween:ko,delay:vo,duration:Do,ease:Mo,easeVarying:Eo,end:nr,[Symbol.iterator]:Je[Symbol.iterator]};function di(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sb={time:null,delay:0,duration:250,ease:di};function fb(e,i){for(var n;!(n=e.__transition)||!(n=n[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return n}function rr(e){var i,n;e instanceof te?(i=e._id,e=e._name):(i=ui(),(n=sb).time=gt(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,c=0;c<r;++c)for(var l=o[c],Q=l.length,b,a=0;a<Q;++a)(b=l[a])&&we(b,e,i,a,l,n||fb(b,i));return new te(o,this._parents,e,i)}Ce.prototype.interrupt=jo;Ce.prototype.transition=rr;var Gt=e=>()=>e;function Si(e,{sourceEvent:i,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function de(e,i,n){this.k=e,this.x=i,this.y=n}de.prototype={constructor:de,scale:function(e){return e===1?this:new de(this.k*e,this.x,this.y)},translate:function(e,i){return e===0&i===0?this:new de(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ct=new de(1,0,0);re.prototype=de.prototype;function re(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ct;return e.__zoom}function Ui(e){e.stopImmediatePropagation()}function tt(e){e.preventDefault(),e.stopImmediatePropagation()}function Fb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function cr(){return this.__zoom||Ct}function Bb(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ub(){return navigator.maxTouchPoints||"ontouchstart"in this}function db(e,i,n){var o=e.invertX(i[0][0])-n[0][0],r=e.invertX(i[1][0])-n[1][0],c=e.invertY(i[0][1])-n[0][1],l=e.invertY(i[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),l>c?(c+l)/2:Math.min(0,c)||Math.max(0,l))}function Hi(){var e=Fb,i=mb,n=db,o=Bb,r=ub,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],Q=250,b=Mi,a=Xe("start","zoom","end"),f,s,F,m=500,u=150,Z=0,x=10;function B(p){p.property("__zoom",cr).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",W).filter(r).on("touchstart.zoom",O).on("touchmove.zoom",w).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}B.transform=function(p,J,C,Y){var j=p.selection?p.selection():p;j.property("__zoom",cr),p!==j?U(p,J,C,Y):j.interrupt().each(function(){I(this,arguments).event(Y).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},B.scaleBy=function(p,J,C,Y){B.scaleTo(p,function(){var j=this.__zoom.k,k=typeof J=="function"?J.apply(this,arguments):J;return j*k},C,Y)},B.scaleTo=function(p,J,C,Y){B.transform(p,function(){var j=i.apply(this,arguments),k=this.__zoom,N=C==null?d(j):typeof C=="function"?C.apply(this,arguments):C,v=k.invert(N),S=typeof J=="function"?J.apply(this,arguments):J;return n(h(y(k,S),N,v),j,l)},C,Y)},B.translateBy=function(p,J,C,Y){B.transform(p,function(){return n(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof C=="function"?C.apply(this,arguments):C),i.apply(this,arguments),l)},null,Y)},B.translateTo=function(p,J,C,Y,j){B.transform(p,function(){var k=i.apply(this,arguments),N=this.__zoom,v=Y==null?d(k):typeof Y=="function"?Y.apply(this,arguments):Y;return n(Ct.translate(v[0],v[1]).scale(N.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof C=="function"?-C.apply(this,arguments):-C),k,l)},Y,j)};function y(p,J){return J=Math.max(c[0],Math.min(c[1],J)),J===p.k?p:new de(J,p.x,p.y)}function h(p,J,C){var Y=J[0]-C[0]*p.k,j=J[1]-C[1]*p.k;return Y===p.x&&j===p.y?p:new de(p.k,Y,j)}function d(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function U(p,J,C,Y){p.on("start.zoom",function(){I(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(Y).end()}).tween("zoom",function(){var j=this,k=arguments,N=I(j,k).event(Y),v=i.apply(j,k),S=C==null?d(v):typeof C=="function"?C.apply(j,k):C,q=Math.max(v[1][0]-v[0][0],v[1][1]-v[0][1]),z=j.__zoom,Fe=typeof J=="function"?J.apply(j,k):J,ye=b(z.invert(S).concat(q/z.k),Fe.invert(S).concat(q/Fe.k));return function(me){if(me===1)me=Fe;else{var he=ye(me),Gi=q/he[2];me=new de(Gi,S[0]-he[0]*Gi,S[1]-he[1]*Gi)}N.zoom(null,me)}})}function I(p,J,C){return!C&&p.__zooming||new g(p,J)}function g(p,J){this.that=p,this.args=J,this.active=0,this.sourceEvent=null,this.extent=i.apply(p,J),this.taps=0}g.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,J){return this.mouse&&p!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var J=K(this.that).datum();a.call(p,this.that,new Si(p,{sourceEvent:this.sourceEvent,target:B,type:p,transform:this.that.__zoom,dispatch:a}),J)}};function G(p,...J){if(!e.apply(this,arguments))return;var C=I(this,J).event(p),Y=this.__zoom,j=Math.max(c[0],Math.min(c[1],Y.k*Math.pow(2,o.apply(this,arguments)))),k=le(p);if(C.wheel)(C.mouse[0][0]!==k[0]||C.mouse[0][1]!==k[1])&&(C.mouse[1]=Y.invert(C.mouse[0]=k)),clearTimeout(C.wheel);else{if(Y.k===j)return;C.mouse=[k,Y.invert(k)],Te(this),C.start()}tt(p),C.wheel=setTimeout(N,u),C.zoom("mouse",n(h(y(Y,j),C.mouse[0],C.mouse[1]),C.extent,l));function N(){C.wheel=null,C.end()}}function L(p,...J){if(F||!e.apply(this,arguments))return;var C=p.currentTarget,Y=I(this,J,!0).event(p),j=K(p.view).on("mousemove.zoom",S,!0).on("mouseup.zoom",q,!0),k=le(p,C),N=p.clientX,v=p.clientY;st(p.view),Ui(p),Y.mouse=[k,this.__zoom.invert(k)],Te(this),Y.start();function S(z){if(tt(z),!Y.moved){var Fe=z.clientX-N,ye=z.clientY-v;Y.moved=Fe*Fe+ye*ye>Z}Y.event(z).zoom("mouse",n(h(Y.that.__zoom,Y.mouse[0]=le(z,C),Y.mouse[1]),Y.extent,l))}function q(z){j.on("mousemove.zoom mouseup.zoom",null),ft(z.view,Y.moved),tt(z),Y.event(z).end()}}function W(p,...J){if(e.apply(this,arguments)){var C=this.__zoom,Y=le(p.changedTouches?p.changedTouches[0]:p,this),j=C.invert(Y),k=C.k*(p.shiftKey?.5:2),N=n(h(y(C,k),Y,j),i.apply(this,J),l);tt(p),Q>0?K(this).transition().duration(Q).call(U,N,Y,p):K(this).call(B.transform,N,Y,p)}}function O(p,...J){if(e.apply(this,arguments)){var C=p.touches,Y=C.length,j=I(this,J,p.changedTouches.length===Y).event(p),k,N,v,S;for(Ui(p),N=0;N<Y;++N)v=C[N],S=le(v,this),S=[S,this.__zoom.invert(S),v.identifier],j.touch0?!j.touch1&&j.touch0[2]!==S[2]&&(j.touch1=S,j.taps=0):(j.touch0=S,k=!0,j.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(j.taps<2&&(s=S[0],f=setTimeout(function(){f=null},m)),Te(this),j.start())}}function w(p,...J){if(this.__zooming){var C=I(this,J).event(p),Y=p.changedTouches,j=Y.length,k,N,v,S;for(tt(p),k=0;k<j;++k)N=Y[k],v=le(N,this),C.touch0&&C.touch0[2]===N.identifier?C.touch0[0]=v:C.touch1&&C.touch1[2]===N.identifier&&(C.touch1[0]=v);if(N=C.that.__zoom,C.touch1){var q=C.touch0[0],z=C.touch0[1],Fe=C.touch1[0],ye=C.touch1[1],me=(me=Fe[0]-q[0])*me+(me=Fe[1]-q[1])*me,he=(he=ye[0]-z[0])*he+(he=ye[1]-z[1])*he;N=y(N,Math.sqrt(me/he)),v=[(q[0]+Fe[0])/2,(q[1]+Fe[1])/2],S=[(z[0]+ye[0])/2,(z[1]+ye[1])/2]}else if(C.touch0)v=C.touch0[0],S=C.touch0[1];else return;C.zoom("touch",n(h(N,v,S),C.extent,l))}}function R(p,...J){if(this.__zooming){var C=I(this,J).event(p),Y=p.changedTouches,j=Y.length,k,N;for(Ui(p),F&&clearTimeout(F),F=setTimeout(function(){F=null},m),k=0;k<j;++k)N=Y[k],C.touch0&&C.touch0[2]===N.identifier?delete C.touch0:C.touch1&&C.touch1[2]===N.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(N=le(N,this),Math.hypot(s[0]-N[0],s[1]-N[1])<x)){var v=K(this).on("dblclick.zoom");v&&v.apply(this,arguments)}}}return B.wheelDelta=function(p){return arguments.length?(o=typeof p=="function"?p:Gt(+p),B):o},B.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Gt(!!p),B):e},B.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Gt(!!p),B):r},B.extent=function(p){return arguments.length?(i=typeof p=="function"?p:Gt([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),B):i},B.scaleExtent=function(p){return arguments.length?(c[0]=+p[0],c[1]=+p[1],B):[c[0],c[1]]},B.translateExtent=function(p){return arguments.length?(l[0][0]=+p[0][0],l[1][0]=+p[1][0],l[0][1]=+p[0][1],l[1][1]=+p[1][1],B):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},B.constrain=function(p){return arguments.length?(n=p,B):n},B.duration=function(p){return arguments.length?(Q=+p,B):Q},B.interpolate=function(p){return arguments.length?(b=p,B):b},B.on=function(){var p=a.on.apply(a,arguments);return p===a?B:p},B.clickDistance=function(p){return arguments.length?(Z=(p=+p)*p,B):Math.sqrt(Z)},B.tapDistance=function(p){return arguments.length?(x=+p,B):x},B}var it=class extends Map{constructor(i,n=xb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),i!=null)for(let[o,r]of i)this.set(o,r)}get(i){return super.get(lr(this,i))}has(i){return super.has(lr(this,i))}set(i,n){return super.set(Ub(this,i),n)}delete(i){return super.delete(Zb(this,i))}};function lr({_intern:e,_key:i},n){let o=i(n);return e.has(o)?e.get(o):n}function Ub({_intern:e,_key:i},n){let o=i(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function Zb({_intern:e,_key:i},n){let o=i(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function xb(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xt(e,i){let n;if(i===void 0)for(let o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=i(r,++o,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Jt(e,i){let n;if(i===void 0)for(let o of e)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=i(r,++o,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}var Ib=typeof global=="object"&&global&&global.Object===Object&&global,Qr=Ib;var pb=typeof self=="object"&&self&&self.Object===Object&&self,gb=Qr||pb||Function("return this")(),Zi=gb;var yb=Zi.Symbol,nt=yb;var br=Object.prototype,hb=br.hasOwnProperty,Gb=br.toString,Wt=nt?nt.toStringTag:void 0;function Cb(e){var i=hb.call(e,Wt),n=e[Wt];try{e[Wt]=void 0;var o=!0}catch{}var r=Gb.call(e);return o&&(i?e[Wt]=n:delete e[Wt]),r}var ar=Cb;var Xb=Object.prototype,Jb=Xb.toString;function Wb(e){return Jb.call(e)}var sr=Wb;var Lb="[object Null]",Yb="[object Undefined]",fr=nt?nt.toStringTag:void 0;function Vb(e){return e==null?e===void 0?Yb:Lb:fr&&fr in Object(e)?ar(e):sr(e)}var Fr=Vb;function Ob(e){return e!=null&&typeof e=="object"}var mr=Ob;var wb="[object Symbol]";function jb(e){return typeof e=="symbol"||mr(e)&&Fr(e)==wb}var Br=jb;var kb=/\s/;function Nb(e){for(var i=e.length;i--&&kb.test(e.charAt(i)););return i}var ur=Nb;var Rb=/^\s+/;function vb(e){return e&&e.slice(0,ur(e)+1).replace(Rb,"")}var dr=vb;function Db(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}var ze=Db;var Ur=0/0,Mb=/^[-+]0x[0-9a-f]+$/i,Eb=/^0b[01]+$/i,Sb=/^0o[0-7]+$/i,Hb=parseInt;function Tb(e){if(typeof e=="number")return e;if(Br(e))return Ur;if(ze(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=ze(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=dr(e);var n=Eb.test(e);return n||Sb.test(e)?Hb(e.slice(2),n?2:8):Mb.test(e)?Ur:+e}var Ti=Tb;var zb=function(){return Zi.Date.now()},xi=zb;var _b="Expected a function",Ab=Math.max,qb=Math.min;function Pb(e,i,n){var o,r,c,l,Q,b,a=0,f=!1,s=!1,F=!0;if(typeof e!="function")throw new TypeError(_b);i=Ti(i)||0,ze(n)&&(f=!!n.leading,s="maxWait"in n,c=s?Ab(Ti(n.maxWait)||0,i):c,F="trailing"in n?!!n.trailing:F);function m(I){var g=o,G=r;return o=r=void 0,a=I,l=e.apply(G,g),l}function u(I){return a=I,Q=setTimeout(B,i),f?m(I):l}function Z(I){var g=I-b,G=I-a,L=i-g;return s?qb(L,c-G):L}function x(I){var g=I-b,G=I-a;return b===void 0||g>=i||g<0||s&&G>=c}function B(){var I=xi();if(x(I))return y(I);Q=setTimeout(B,Z(I))}function y(I){return Q=void 0,F&&o?m(I):(o=r=void 0,l)}function h(){Q!==void 0&&clearTimeout(Q),a=0,o=b=r=Q=void 0}function d(){return Q===void 0?l:y(xi())}function U(){var I=xi(),g=x(I);if(o=arguments,r=this,b=I,g){if(Q===void 0)return u(b);if(s)return clearTimeout(Q),Q=setTimeout(B,i),m(b)}return Q===void 0&&(Q=setTimeout(B,i)),l}return U.cancel=h,U.flush=d,U}var Lt=Pb;var Kb="Expected a function";function $b(e,i,n){var o=!0,r=!0;if(typeof e!="function")throw new TypeError(Kb);return ze(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Lt(e,i,{leading:o,maxWait:i,trailing:r})}var zi=$b;var je=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var i=1.70158;return e===1?1:e*e*((i+1)*e-i)},Out:function(e){var i=1.70158;return e===0?0:--e*e*((i+1)*e+i)+1},InOut:function(e){var i=2.5949095;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)}}),Bounce:Object.freeze({In:function(e){return 1-je.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?je.Bounce.In(e*2)*.5:je.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(i){return Math.pow(i,e)},Out:function(i){return 1-Math.pow(1-i,e)},InOut:function(i){return i<.5?Math.pow(i*2,e)/2:(1-Math.pow(2-i*2,e))/2+.5}}}}),Yt=function(){return performance.now()},ea=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var i=this;return Object.keys(this._tweens).map(function(n){return i._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(i){this._tweens[i.getId()]=i,this._tweensAddedDuringUpdate[i.getId()]=i},e.prototype.remove=function(i){delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]},e.prototype.update=function(i,n){i===void 0&&(i=Yt()),n===void 0&&(n=!1);var o=Object.keys(this._tweens);if(o.length===0)return!1;for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<o.length;r++){var c=this._tweens[o[r]],l=!n;c&&c.update(i,l)===!1&&!n&&delete this._tweens[o[r]]}o=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ot={Linear:function(e,i){var n=e.length-1,o=n*i,r=Math.floor(o),c=ot.Utils.Linear;return i<0?c(e[0],e[1],o):i>1?c(e[n],e[n-1],n-o):c(e[r],e[r+1>n?n:r+1],o-r)},Bezier:function(e,i){for(var n=0,o=e.length-1,r=Math.pow,c=ot.Utils.Bernstein,l=0;l<=o;l++)n+=r(1-i,o-l)*r(i,l)*e[l]*c(o,l);return n},CatmullRom:function(e,i){var n=e.length-1,o=n*i,r=Math.floor(o),c=ot.Utils.CatmullRom;return e[0]===e[n]?(i<0&&(r=Math.floor(o=n*(1+i))),c(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],o-r)):i<0?e[0]-(c(e[0],e[0],e[1],e[1],-o)-e[0]):i>1?e[n]-(c(e[n],e[n],e[n-1],e[n-1],o-n)-e[n]):c(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],o-r)},Utils:{Linear:function(e,i,n){return(i-e)*n+e},Bernstein:function(e,i){var n=ot.Utils.Factorial;return n(e)/n(i)/n(e-i)},Factorial:function(){var e=[1];return function(i){var n=1;if(e[i])return e[i];for(var o=i;o>1;o--)n*=o;return e[i]=n,n}}(),CatmullRom:function(e,i,n,o,r){var c=(n-e)*.5,l=(o-i)*.5,Q=r*r,b=r*Q;return(2*i-2*n+c+l)*b+(-3*i+3*n-2*c-l)*Q+c*r+i}}},Zr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),_i=new ea,Ai=function(){function e(i,n){n===void 0&&(n=_i),this._object=i,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=je.Linear.None,this._interpolationFunction=ot.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Zr.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(i,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=i,this._propertiesAreSetUp=!1,this._duration=n,this},e.prototype.duration=function(i){return i===void 0&&(i=1e3),this._duration=i,this},e.prototype.dynamic=function(i){return i===void 0&&(i=!1),this._isDynamic=i,this},e.prototype.start=function(i,n){if(i===void 0&&(i=Yt()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=i,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var c in this._valuesEnd)r[c]=this._valuesEnd[c];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(i){return this.start(i,!0)},e.prototype._setupProperties=function(i,n,o,r,c){for(var l in o){var Q=i[l],b=Array.isArray(Q),a=b?"array":typeof Q,f=!b&&Array.isArray(o[l]);if(!(a==="undefined"||a==="function")){if(f){var s=o[l];if(s.length===0)continue;for(var F=[Q],m=0,u=s.length;m<u;m+=1){var Z=this._handleRelativeValue(Q,s[m]);if(isNaN(Z)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}F.push(Z)}f&&(o[l]=F)}if((a==="object"||b)&&Q&&!f){n[l]=b?[]:{};var x=Q;for(var B in x)n[l][B]=x[B];r[l]=b?[]:{};var s=o[l];if(!this._isDynamic){var y={};for(var B in s)y[B]=s[B];o[l]=s=y}this._setupProperties(x,n[l],s,r[l],c)}else(typeof n[l]>"u"||c)&&(n[l]=Q),b||(n[l]*=1),f?r[l]=o[l].slice().reverse():r[l]=n[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(i){return i===void 0&&(i=Yt()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=i,this._group&&this._group.remove(this),this)},e.prototype.resume=function(i){return i===void 0&&(i=Yt()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=i-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var i=0,n=this._chainedTweens.length;i<n;i++)this._chainedTweens[i].stop();return this},e.prototype.group=function(i){return i===void 0&&(i=_i),this._group=i,this},e.prototype.delay=function(i){return i===void 0&&(i=0),this._delayTime=i,this},e.prototype.repeat=function(i){return i===void 0&&(i=0),this._initialRepeat=i,this._repeat=i,this},e.prototype.repeatDelay=function(i){return this._repeatDelayTime=i,this},e.prototype.yoyo=function(i){return i===void 0&&(i=!1),this._yoyo=i,this},e.prototype.easing=function(i){return i===void 0&&(i=je.Linear.None),this._easingFunction=i,this},e.prototype.interpolation=function(i){return i===void 0&&(i=ot.Linear),this._interpolationFunction=i,this},e.prototype.chain=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return this._chainedTweens=i,this},e.prototype.onStart=function(i){return this._onStartCallback=i,this},e.prototype.onEveryStart=function(i){return this._onEveryStartCallback=i,this},e.prototype.onUpdate=function(i){return this._onUpdateCallback=i,this},e.prototype.onRepeat=function(i){return this._onRepeatCallback=i,this},e.prototype.onComplete=function(i){return this._onCompleteCallback=i,this},e.prototype.onStop=function(i){return this._onStopCallback=i,this},e.prototype.update=function(i,n){if(i===void 0&&(i=Yt()),n===void 0&&(n=!0),this._isPaused)return!0;var o,r,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(i>c)return!1;n&&this.start(i,!0)}if(this._goToEnd=!1,i<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(i-this._startTime)/this._duration,r=this._duration===0||r>1?1:r;var l=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),r===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=i+this._repeatDelayTime:this._startTime=i+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var Q=0,b=this._chainedTweens.length;Q<b;Q++)this._chainedTweens[Q].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(i,n,o,r){for(var c in o)if(n[c]!==void 0){var l=n[c]||0,Q=o[c],b=Array.isArray(i[c]),a=Array.isArray(Q),f=!b&&a;f?i[c]=this._interpolationFunction(Q,r):typeof Q=="object"&&Q?this._updateProperties(i[c],l,Q,r):(Q=this._handleRelativeValue(l,Q),typeof Q=="number"&&(i[c]=l+(Q-l)*r))}},e.prototype._handleRelativeValue=function(i,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?i+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(i){var n=this._valuesStartRepeat[i],o=this._valuesEnd[i];typeof o=="string"?this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(o):this._valuesStartRepeat[i]=this._valuesEnd[i],this._valuesEnd[i]=n},e}();var nU=Zr.nextId,ge=_i,oU=ge.getAll.bind(ge),rU=ge.removeAll.bind(ge),cU=ge.add.bind(ge),lU=ge.remove.bind(ge),xr=ge.update.bind(ge);function ia(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],b=!0,a=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;b=!1}else for(;!(b=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);b=!0);}catch(f){a=!0,r=f}finally{try{if(!b&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(a)throw r}}return Q}}function na(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Ir(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,aa(o.key),o)}}function oa(e,i,n){return i&&Ir(e.prototype,i),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ra(e,i){return ca(e)||ia(e,i)||la(e,i)||Qa()}function ca(e){if(Array.isArray(e))return e}function la(e,i){if(e){if(typeof e=="string")return pr(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(e,i)}}function pr(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function Qa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function aa(e){var i=ba(e,"string");return typeof i=="symbol"?i:String(i)}var sa=oa(function e(i,n){var o=n.default,r=o===void 0?null:o,c=n.triggerUpdate,l=c===void 0?!0:c,Q=n.onChange,b=Q===void 0?function(a,f){}:Q;na(this,e),this.name=i,this.defaultVal=r,this.triggerUpdate=l,this.onChange=b});function qi(e){var i=e.stateInit,n=i===void 0?function(){return{}}:i,o=e.props,r=o===void 0?{}:o,c=e.methods,l=c===void 0?{}:c,Q=e.aliases,b=Q===void 0?{}:Q,a=e.init,f=a===void 0?function(){}:a,s=e.update,F=s===void 0?function(){}:s,m=Object.keys(r).map(function(u){return new sa(u,r[u])});return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=Object.assign({},n instanceof Function?n(u):n,{initialised:!1}),x={};function B(d){return y(d,u),h(),B}var y=function(U,I){f.call(B,U,Z,I),Z.initialised=!0},h=Lt(function(){Z.initialised&&(F.call(B,Z,x),x={})},1);return m.forEach(function(d){B[d.name]=U(d);function U(I){var g=I.name,G=I.triggerUpdate,L=G===void 0?!1:G,W=I.onChange,O=W===void 0?function(p,J){}:W,w=I.defaultVal,R=w===void 0?null:w;return function(p){var J=Z[g];if(!arguments.length)return J;var C=p===void 0?R:p;return Z[g]=C,O.call(B,C,Z,J),!x.hasOwnProperty(g)&&(x[g]=J),L&&h(),B}}}),Object.keys(l).forEach(function(d){B[d]=function(){for(var U,I=arguments.length,g=new Array(I),G=0;G<I;G++)g[G]=arguments[G];return(U=l[d]).call.apply(U,[B,Z].concat(g))}}),Object.entries(b).forEach(function(d){var U=ra(d,2),I=U[0],g=U[1];return B[I]=B[g]}),B.resetProps=function(){return m.forEach(function(d){B[d.name](d.defaultVal)}),B},B.resetProps(),Z._rerender=h,B}}var E=function(e){return typeof e=="function"?e:typeof e=="string"?function(i){return i[e]}:function(i){return e}};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ii(e)}var fa=/^\s+/,Fa=/\s+$/;function V(e,i){if(e=e||"",i=i||{},e instanceof V)return e;if(!(this instanceof V))return new V(e,i);var n=ma(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}V.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var i=this.toRgb();return(i.r*299+i.g*587+i.b*114)/1e3},getLuminance:function(){var i=this.toRgb(),n,o,r,c,l,Q;return n=i.r/255,o=i.g/255,r=i.b/255,n<=.03928?c=n/12.92:c=Math.pow((n+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),r<=.03928?Q=r/12.92:Q=Math.pow((r+.055)/1.055,2.4),.2126*c+.7152*l+.0722*Q},setAlpha:function(i){return this._a=Jr(i),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var i=yr(this._r,this._g,this._b);return{h:i.h*360,s:i.s,v:i.v,a:this._a}},toHsvString:function(){var i=yr(this._r,this._g,this._b),n=Math.round(i.h*360),o=Math.round(i.s*100),r=Math.round(i.v*100);return this._a==1?"hsv("+n+", "+o+"%, "+r+"%)":"hsva("+n+", "+o+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var i=gr(this._r,this._g,this._b);return{h:i.h*360,s:i.s,l:i.l,a:this._a}},toHslString:function(){var i=gr(this._r,this._g,this._b),n=Math.round(i.h*360),o=Math.round(i.s*100),r=Math.round(i.l*100);return this._a==1?"hsl("+n+", "+o+"%, "+r+"%)":"hsla("+n+", "+o+"%, "+r+"%, "+this._roundA+")"},toHex:function(i){return hr(this._r,this._g,this._b,i)},toHexString:function(i){return"#"+this.toHex(i)},toHex8:function(i){return Ua(this._r,this._g,this._b,this._a,i)},toHex8String:function(i){return"#"+this.toHex8(i)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(H(this._r,255)*100)+"%",g:Math.round(H(this._g,255)*100)+"%",b:Math.round(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%)":"rgba("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Wa[hr(this._r,this._g,this._b,!0)]||!1},toFilter:function(i){var n="#"+Gr(this._r,this._g,this._b,this._a),o=n,r=this._gradientType?"GradientType = 1, ":"";if(i){var c=V(i);o="#"+Gr(c._r,c._g,c._b,c._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+o+")"},toString:function(i){var n=!!i;i=i||this._format;var o=!1,r=this._a<1&&this._a>=0,c=!n&&r&&(i==="hex"||i==="hex6"||i==="hex3"||i==="hex4"||i==="hex8"||i==="name");return c?i==="name"&&this._a===0?this.toName():this.toRgbString():(i==="rgb"&&(o=this.toRgbString()),i==="prgb"&&(o=this.toPercentageRgbString()),(i==="hex"||i==="hex6")&&(o=this.toHexString()),i==="hex3"&&(o=this.toHexString(!0)),i==="hex4"&&(o=this.toHex8String(!0)),i==="hex8"&&(o=this.toHex8String()),i==="name"&&(o=this.toName()),i==="hsl"&&(o=this.toHslString()),i==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return V(this.toString())},_applyModification:function(i,n){var o=i.apply(null,[this].concat([].slice.call(n)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(pa,arguments)},brighten:function(){return this._applyModification(ga,arguments)},darken:function(){return this._applyModification(ya,arguments)},desaturate:function(){return this._applyModification(Za,arguments)},saturate:function(){return this._applyModification(xa,arguments)},greyscale:function(){return this._applyModification(Ia,arguments)},spin:function(){return this._applyModification(ha,arguments)},_applyCombination:function(i,n){return i.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Xa,arguments)},complement:function(){return this._applyCombination(Ga,arguments)},monochromatic:function(){return this._applyCombination(Ja,arguments)},splitcomplement:function(){return this._applyCombination(Ca,arguments)},triad:function(){return this._applyCombination(Cr,[3])},tetrad:function(){return this._applyCombination(Cr,[4])}};V.fromRatio=function(e,i){if(Ii(e)=="object"){var n={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?n[o]=e[o]:n[o]=Vt(e[o]));e=n}return V(e,i)};function ma(e){var i={r:0,g:0,b:0},n=1,o=null,r=null,c=null,l=!1,Q=!1;return typeof e=="string"&&(e=Oa(e)),Ii(e)=="object"&&(We(e.r)&&We(e.g)&&We(e.b)?(i=Ba(e.r,e.g,e.b),l=!0,Q=String(e.r).substr(-1)==="%"?"prgb":"rgb"):We(e.h)&&We(e.s)&&We(e.v)?(o=Vt(e.s),r=Vt(e.v),i=da(e.h,o,r),l=!0,Q="hsv"):We(e.h)&&We(e.s)&&We(e.l)&&(o=Vt(e.s),c=Vt(e.l),i=ua(e.h,o,c),l=!0,Q="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Jr(n),{ok:l,format:e.format||Q,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:n}}function Ba(e,i,n){return{r:H(e,255)*255,g:H(i,255)*255,b:H(n,255)*255}}function gr(e,i,n){e=H(e,255),i=H(i,255),n=H(n,255);var o=Math.max(e,i,n),r=Math.min(e,i,n),c,l,Q=(o+r)/2;if(o==r)c=l=0;else{var b=o-r;switch(l=Q>.5?b/(2-o-r):b/(o+r),o){case e:c=(i-n)/b+(i<n?6:0);break;case i:c=(n-e)/b+2;break;case n:c=(e-i)/b+4;break}c/=6}return{h:c,s:l,l:Q}}function ua(e,i,n){var o,r,c;e=H(e,360),i=H(i,100),n=H(n,100);function l(a,f,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(f-a)*6*s:s<1/2?f:s<2/3?a+(f-a)*(2/3-s)*6:a}if(i===0)o=r=c=n;else{var Q=n<.5?n*(1+i):n+i-n*i,b=2*n-Q;o=l(b,Q,e+1/3),r=l(b,Q,e),c=l(b,Q,e-1/3)}return{r:o*255,g:r*255,b:c*255}}function yr(e,i,n){e=H(e,255),i=H(i,255),n=H(n,255);var o=Math.max(e,i,n),r=Math.min(e,i,n),c,l,Q=o,b=o-r;if(l=o===0?0:b/o,o==r)c=0;else{switch(o){case e:c=(i-n)/b+(i<n?6:0);break;case i:c=(n-e)/b+2;break;case n:c=(e-i)/b+4;break}c/=6}return{h:c,s:l,v:Q}}function da(e,i,n){e=H(e,360)*6,i=H(i,100),n=H(n,100);var o=Math.floor(e),r=e-o,c=n*(1-i),l=n*(1-r*i),Q=n*(1-(1-r)*i),b=o%6,a=[n,l,c,c,Q,n][b],f=[Q,n,n,l,c,c][b],s=[c,c,Q,n,n,l][b];return{r:a*255,g:f*255,b:s*255}}function hr(e,i,n,o){var r=[Ze(Math.round(e).toString(16)),Ze(Math.round(i).toString(16)),Ze(Math.round(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Ua(e,i,n,o,r){var c=[Ze(Math.round(e).toString(16)),Ze(Math.round(i).toString(16)),Ze(Math.round(n).toString(16)),Ze(Wr(o))];return r&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}function Gr(e,i,n,o){var r=[Ze(Wr(o)),Ze(Math.round(e).toString(16)),Ze(Math.round(i).toString(16)),Ze(Math.round(n).toString(16))];return r.join("")}V.equals=function(e,i){return!e||!i?!1:V(e).toRgbString()==V(i).toRgbString()};V.random=function(){return V.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Za(e,i){i=i===0?0:i||10;var n=V(e).toHsl();return n.s-=i/100,n.s=pi(n.s),V(n)}function xa(e,i){i=i===0?0:i||10;var n=V(e).toHsl();return n.s+=i/100,n.s=pi(n.s),V(n)}function Ia(e){return V(e).desaturate(100)}function pa(e,i){i=i===0?0:i||10;var n=V(e).toHsl();return n.l+=i/100,n.l=pi(n.l),V(n)}function ga(e,i){i=i===0?0:i||10;var n=V(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(i/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(i/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(i/100)))),V(n)}function ya(e,i){i=i===0?0:i||10;var n=V(e).toHsl();return n.l-=i/100,n.l=pi(n.l),V(n)}function ha(e,i){var n=V(e).toHsl(),o=(n.h+i)%360;return n.h=o<0?360+o:o,V(n)}function Ga(e){var i=V(e).toHsl();return i.h=(i.h+180)%360,V(i)}function Cr(e,i){if(isNaN(i)||i<=0)throw new Error("Argument to polyad must be a positive number");for(var n=V(e).toHsl(),o=[V(e)],r=360/i,c=1;c<i;c++)o.push(V({h:(n.h+c*r)%360,s:n.s,l:n.l}));return o}function Ca(e){var i=V(e).toHsl(),n=i.h;return[V(e),V({h:(n+72)%360,s:i.s,l:i.l}),V({h:(n+216)%360,s:i.s,l:i.l})]}function Xa(e,i,n){i=i||6,n=n||30;var o=V(e).toHsl(),r=360/n,c=[V(e)];for(o.h=(o.h-(r*i>>1)+720)%360;--i;)o.h=(o.h+r)%360,c.push(V(o));return c}function Ja(e,i){i=i||6;for(var n=V(e).toHsv(),o=n.h,r=n.s,c=n.v,l=[],Q=1/i;i--;)l.push(V({h:o,s:r,v:c})),c=(c+Q)%1;return l}V.mix=function(e,i,n){n=n===0?0:n||50;var o=V(e).toRgb(),r=V(i).toRgb(),c=n/100,l={r:(r.r-o.r)*c+o.r,g:(r.g-o.g)*c+o.g,b:(r.b-o.b)*c+o.b,a:(r.a-o.a)*c+o.a};return V(l)};V.readability=function(e,i){var n=V(e),o=V(i);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)};V.isReadable=function(e,i,n){var o=V.readability(e,i),r,c;switch(c=!1,r=wa(n),r.level+r.size){case"AAsmall":case"AAAlarge":c=o>=4.5;break;case"AAlarge":c=o>=3;break;case"AAAsmall":c=o>=7;break}return c};V.mostReadable=function(e,i,n){var o=null,r=0,c,l,Q,b;n=n||{},l=n.includeFallbackColors,Q=n.level,b=n.size;for(var a=0;a<i.length;a++)c=V.readability(e,i[a]),c>r&&(r=c,o=V(i[a]));return V.isReadable(e,o,{level:Q,size:b})||!l?o:(n.includeFallbackColors=!1,V.mostReadable(e,["#fff","#000"],n))};var Pi=V.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Wa=V.hexNames=La(Pi);function La(e){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[e[n]]=n);return i}function Jr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function H(e,i){Ya(e)&&(e="100%");var n=Va(e);return e=Math.min(i,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*i,10)/100),Math.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function pi(e){return Math.min(1,Math.max(0,e))}function ce(e){return parseInt(e,16)}function Ya(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Va(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ze(e){return e.length==1?"0"+e:""+e}function Vt(e){return e<=1&&(e=e*100+"%"),e}function Wr(e){return Math.round(parseFloat(e)*255).toString(16)}function Xr(e){return ce(e)/255}var Ue=function(){var e="[-\\+]?\\d+%?",i="[-\\+]?\\d*\\.\\d+%?",n="(?:"+i+")|(?:"+e+")",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function We(e){return!!Ue.CSS_UNIT.exec(e)}function Oa(e){e=e.replace(fa,"").replace(Fa,"").toLowerCase();var i=!1;if(Pi[e])e=Pi[e],i=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ue.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ue.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ue.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ue.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ue.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ue.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ue.hex8.exec(e))?{r:ce(n[1]),g:ce(n[2]),b:ce(n[3]),a:Xr(n[4]),format:i?"name":"hex8"}:(n=Ue.hex6.exec(e))?{r:ce(n[1]),g:ce(n[2]),b:ce(n[3]),format:i?"name":"hex"}:(n=Ue.hex4.exec(e))?{r:ce(n[1]+""+n[1]),g:ce(n[2]+""+n[2]),b:ce(n[3]+""+n[3]),a:Xr(n[4]+""+n[4]),format:i?"name":"hex8"}:(n=Ue.hex3.exec(e))?{r:ce(n[1]+""+n[1]),g:ce(n[2]+""+n[2]),b:ce(n[3]+""+n[3]),format:i?"name":"hex"}:!1}function wa(e){var i,n;return e=e||{level:"AA",size:"small"},i=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),i!=="AA"&&i!=="AAA"&&(i="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:i,size:n}}function ja(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Lr(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Sa(o.key),o)}}function ka(e,i,n){return i&&Lr(e.prototype,i),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Na(e){return Ra(e)||va(e)||Da(e)||Ma()}function Ra(e){if(Array.isArray(e))return Ki(e)}function va(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Da(e,i){if(e){if(typeof e=="string")return Ki(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,i)}}function Ki(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function Ma(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ea(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function Sa(e){var i=Ea(e,"string");return typeof i=="symbol"?i:String(i)}var Ha=123,Ta=function(i){return"#".concat(Math.min(i,Math.pow(2,24)).toString(16).padStart(6,"0"))},Vr=function(i,n,o){return(i<<16)+(n<<8)+o},za=function(i){var n=V(i).toRgb(),o=n.r,r=n.g,c=n.b;return Vr(o,r,c)},Yr=function(i,n){return i*Ha%Math.pow(2,n)},Or=function(){function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;ja(this,e),this.csBits=i,this.registry=["__reserved for background__"]}return ka(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var o=this.registry.length,r=Yr(o,this.csBits),c=Ta(o+(r<<24-this.csBits));return this.registry.push(n),c}},{key:"lookup",value:function(n){var o=typeof n=="string"?za(n):Vr.apply(void 0,Na(n));if(!o)return null;var r=o&Math.pow(2,24-this.csBits)-1,c=o>>24-this.csBits&Math.pow(2,this.csBits)-1;return Yr(r,this.csBits)!==c||r>=this.registry.length?null:this.registry[r]}}]),e}();function $i(e,i,n){var o,r=1;e==null&&(e=0),i==null&&(i=0),n==null&&(n=0);function c(){var l,Q=o.length,b,a=0,f=0,s=0;for(l=0;l<Q;++l)b=o[l],a+=b.x||0,f+=b.y||0,s+=b.z||0;for(a=(a/Q-e)*r,f=(f/Q-i)*r,s=(s/Q-n)*r,l=0;l<Q;++l)b=o[l],a&&(b.x-=a),f&&(b.y-=f),s&&(b.z-=s)}return c.initialize=function(l){o=l},c.x=function(l){return arguments.length?(e=+l,c):e},c.y=function(l){return arguments.length?(i=+l,c):i},c.z=function(l){return arguments.length?(n=+l,c):n},c.strength=function(l){return arguments.length?(r=+l,c):r},c}function wr(e){let i=+this._x.call(null,e);return jr(this.cover(i),i,e)}function jr(e,i,n){if(isNaN(i))return e;var o,r=e._root,c={data:n},l=e._x0,Q=e._x1,b,a,f,s,F;if(!r)return e._root=c,e;for(;r.length;)if((f=i>=(b=(l+Q)/2))?l=b:Q=b,o=r,!(r=r[s=+f]))return o[s]=c,e;if(a=+e._x.call(null,r.data),i===a)return c.next=r,o?o[s]=c:e._root=c,e;do o=o?o[s]=new Array(2):e._root=new Array(2),(f=i>=(b=(l+Q)/2))?l=b:Q=b;while((s=+f)==(F=+(a>=b)));return o[F]=r,o[s]=c,e}function kr(e){Array.isArray(e)||(e=Array.from(e));let i=e.length,n=new Float64Array(i),o=1/0,r=-1/0;for(let c=0,l;c<i;++c)isNaN(l=+this._x.call(null,e[c]))||(n[c]=l,l<o&&(o=l),l>r&&(r=l));if(o>r)return this;this.cover(o).cover(r);for(let c=0;c<i;++c)jr(this,n[c],e[c]);return this}function Nr(e){if(isNaN(e=+e))return this;var i=this._x0,n=this._x1;if(isNaN(i))n=(i=Math.floor(e))+1;else{for(var o=n-i||1,r=this._root,c,l;i>e||e>=n;)switch(l=+(e<i),c=new Array(2),c[l]=r,r=c,o*=2,l){case 0:n=i+o;break;case 1:i=n-o;break}this._root&&this._root.length&&(this._root=r)}return this._x0=i,this._x1=n,this}function Rr(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function vr(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function be(e,i,n){this.node=e,this.x0=i,this.x1=n}function Dr(e,i){var n,o=this._x0,r,c,l=this._x1,Q=[],b=this._root,a,f;for(b&&Q.push(new be(b,o,l)),i==null?i=1/0:(o=e-i,l=e+i);a=Q.pop();)if(!(!(b=a.node)||(r=a.x0)>l||(c=a.x1)<o))if(b.length){var s=(r+c)/2;Q.push(new be(b[1],s,c),new be(b[0],r,s)),(f=+(e>=s))&&(a=Q[Q.length-1],Q[Q.length-1]=Q[Q.length-1-f],Q[Q.length-1-f]=a)}else{var F=Math.abs(e-+this._x.call(null,b.data));F<i&&(i=F,o=e-F,l=e+F,n=b.data)}return n}function Mr(e){if(isNaN(b=+this._x.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._x1,b,a,f,s,F;if(!n)return this;if(n.length)for(;;){if((f=b>=(a=(l+Q)/2))?l=a:Q=a,i=n,!(n=n[s=+f]))return this;if(!n.length)break;i[s+1&1]&&(o=i,F=s)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[s]=c:delete i[s],(n=i[0]||i[1])&&n===(i[1]||i[0])&&!n.length&&(o?o[F]=n:this._root=n),this):(this._root=c,this)}function Er(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function Sr(){return this._root}function Hr(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function Tr(e){var i=[],n,o=this._root,r,c,l;for(o&&i.push(new be(o,this._x0,this._x1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.x1)&&o.length){var Q=(c+l)/2;(r=o[1])&&i.push(new be(r,Q,l)),(r=o[0])&&i.push(new be(r,c,Q))}return this}function zr(e){var i=[],n=[],o;for(this._root&&i.push(new be(this._root,this._x0,this._x1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.x1,b=(l+Q)/2;(c=r[0])&&i.push(new be(c,l,b)),(c=r[1])&&i.push(new be(c,b,Q))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.x1);return this}function _r(e){return e[0]}function Ar(e){return arguments.length?(this._x=e,this):this._x}function Ot(e,i){var n=new en(i??_r,NaN,NaN);return e==null?n:n.addAll(e)}function en(e,i,n){this._x=e,this._x0=i,this._x1=n,this._root=void 0}function qr(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var oe=Ot.prototype=en.prototype;oe.copy=function(){var e=new en(this._x,this._x0,this._x1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=qr(i),e;for(n=[{source:i,target:e._root=new Array(2)}];i=n.pop();)for(var r=0;r<2;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(2)}):i.target[r]=qr(o));return e};oe.add=wr;oe.addAll=kr;oe.cover=Nr;oe.data=Rr;oe.extent=vr;oe.find=Dr;oe.remove=Mr;oe.removeAll=Er;oe.root=Sr;oe.size=Hr;oe.visit=Tr;oe.visitAfter=zr;oe.x=Ar;function Pr(e){let i=+this._x.call(null,e),n=+this._y.call(null,e);return Kr(this.cover(i,n),i,n,e)}function Kr(e,i,n,o){if(isNaN(i)||isNaN(n))return e;var r,c=e._root,l={data:o},Q=e._x0,b=e._y0,a=e._x1,f=e._y1,s,F,m,u,Z,x,B,y;if(!c)return e._root=l,e;for(;c.length;)if((Z=i>=(s=(Q+a)/2))?Q=s:a=s,(x=n>=(F=(b+f)/2))?b=F:f=F,r=c,!(c=c[B=x<<1|Z]))return r[B]=l,e;if(m=+e._x.call(null,c.data),u=+e._y.call(null,c.data),i===m&&n===u)return l.next=c,r?r[B]=l:e._root=l,e;do r=r?r[B]=new Array(4):e._root=new Array(4),(Z=i>=(s=(Q+a)/2))?Q=s:a=s,(x=n>=(F=(b+f)/2))?b=F:f=F;while((B=x<<1|Z)===(y=(u>=F)<<1|m>=s));return r[y]=c,r[B]=l,e}function $r(e){var i,n,o=e.length,r,c,l=new Array(o),Q=new Array(o),b=1/0,a=1/0,f=-1/0,s=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,i=e[n]))||isNaN(c=+this._y.call(null,i))||(l[n]=r,Q[n]=c,r<b&&(b=r),r>f&&(f=r),c<a&&(a=c),c>s&&(s=c));if(b>f||a>s)return this;for(this.cover(b,a).cover(f,s),n=0;n<o;++n)Kr(this,l[n],Q[n],e[n]);return this}function ec(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var n=this._x0,o=this._y0,r=this._x1,c=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,c=(o=Math.floor(i))+1;else{for(var l=r-n||1,Q=this._root,b,a;n>e||e>=r||o>i||i>=c;)switch(a=(i<o)<<1|e<n,b=new Array(4),b[a]=Q,Q=b,l*=2,a){case 0:r=n+l,c=o+l;break;case 1:n=r-l,c=o+l;break;case 2:r=n+l,o=c-l;break;case 3:n=r-l,o=c-l;break}this._root&&this._root.length&&(this._root=Q)}return this._x0=n,this._y0=o,this._x1=r,this._y1=c,this}function tc(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function ic(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function A(e,i,n,o,r){this.node=e,this.x0=i,this.y0=n,this.x1=o,this.y1=r}function nc(e,i,n){var o,r=this._x0,c=this._y0,l,Q,b,a,f=this._x1,s=this._y1,F=[],m=this._root,u,Z;for(m&&F.push(new A(m,r,c,f,s)),n==null?n=1/0:(r=e-n,c=i-n,f=e+n,s=i+n,n*=n);u=F.pop();)if(!(!(m=u.node)||(l=u.x0)>f||(Q=u.y0)>s||(b=u.x1)<r||(a=u.y1)<c))if(m.length){var x=(l+b)/2,B=(Q+a)/2;F.push(new A(m[3],x,B,b,a),new A(m[2],l,B,x,a),new A(m[1],x,Q,b,B),new A(m[0],l,Q,x,B)),(Z=(i>=B)<<1|e>=x)&&(u=F[F.length-1],F[F.length-1]=F[F.length-1-Z],F[F.length-1-Z]=u)}else{var y=e-+this._x.call(null,m.data),h=i-+this._y.call(null,m.data),d=y*y+h*h;if(d<n){var U=Math.sqrt(n=d);r=e-U,c=i-U,f=e+U,s=i+U,o=m.data}}return o}function oc(e){if(isNaN(f=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._y0,b=this._x1,a=this._y1,f,s,F,m,u,Z,x,B;if(!n)return this;if(n.length)for(;;){if((u=f>=(F=(l+b)/2))?l=F:b=F,(Z=s>=(m=(Q+a)/2))?Q=m:a=m,i=n,!(n=n[x=Z<<1|u]))return this;if(!n.length)break;(i[x+1&3]||i[x+2&3]||i[x+3&3])&&(o=i,B=x)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[x]=c:delete i[x],(n=i[0]||i[1]||i[2]||i[3])&&n===(i[3]||i[2]||i[1]||i[0])&&!n.length&&(o?o[B]=n:this._root=n),this):(this._root=c,this)}function rc(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function cc(){return this._root}function lc(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function Qc(e){var i=[],n,o=this._root,r,c,l,Q,b;for(o&&i.push(new A(o,this._x0,this._y0,this._x1,this._y1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.y0,Q=n.x1,b=n.y1)&&o.length){var a=(c+Q)/2,f=(l+b)/2;(r=o[3])&&i.push(new A(r,a,f,Q,b)),(r=o[2])&&i.push(new A(r,c,f,a,b)),(r=o[1])&&i.push(new A(r,a,l,Q,f)),(r=o[0])&&i.push(new A(r,c,l,a,f))}return this}function bc(e){var i=[],n=[],o;for(this._root&&i.push(new A(this._root,this._x0,this._y0,this._x1,this._y1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.y0,b=o.x1,a=o.y1,f=(l+b)/2,s=(Q+a)/2;(c=r[0])&&i.push(new A(c,l,Q,f,s)),(c=r[1])&&i.push(new A(c,f,Q,b,s)),(c=r[2])&&i.push(new A(c,l,s,f,a)),(c=r[3])&&i.push(new A(c,f,s,b,a))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function ac(e){return e[0]}function sc(e){return arguments.length?(this._x=e,this):this._x}function fc(e){return e[1]}function Fc(e){return arguments.length?(this._y=e,this):this._y}function wt(e,i,n){var o=new tn(i??ac,n??fc,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function tn(e,i,n,o,r,c){this._x=e,this._y=i,this._x0=n,this._y0=o,this._x1=r,this._y1=c,this._root=void 0}function mc(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var ie=wt.prototype=tn.prototype;ie.copy=function(){var e=new tn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=mc(i),e;for(n=[{source:i,target:e._root=new Array(4)}];i=n.pop();)for(var r=0;r<4;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(4)}):i.target[r]=mc(o));return e};ie.add=Pr;ie.addAll=$r;ie.cover=ec;ie.data=tc;ie.extent=ic;ie.find=nc;ie.remove=oc;ie.removeAll=rc;ie.root=cc;ie.size=lc;ie.visit=Qc;ie.visitAfter=bc;ie.x=sc;ie.y=Fc;function Bc(e){let i=+this._x.call(null,e),n=+this._y.call(null,e),o=+this._z.call(null,e);return uc(this.cover(i,n,o),i,n,o,e)}function uc(e,i,n,o,r){if(isNaN(i)||isNaN(n)||isNaN(o))return e;var c,l=e._root,Q={data:r},b=e._x0,a=e._y0,f=e._z0,s=e._x1,F=e._y1,m=e._z1,u,Z,x,B,y,h,d,U,I,g,G;if(!l)return e._root=Q,e;for(;l.length;)if((d=i>=(u=(b+s)/2))?b=u:s=u,(U=n>=(Z=(a+F)/2))?a=Z:F=Z,(I=o>=(x=(f+m)/2))?f=x:m=x,c=l,!(l=l[g=I<<2|U<<1|d]))return c[g]=Q,e;if(B=+e._x.call(null,l.data),y=+e._y.call(null,l.data),h=+e._z.call(null,l.data),i===B&&n===y&&o===h)return Q.next=l,c?c[g]=Q:e._root=Q,e;do c=c?c[g]=new Array(8):e._root=new Array(8),(d=i>=(u=(b+s)/2))?b=u:s=u,(U=n>=(Z=(a+F)/2))?a=Z:F=Z,(I=o>=(x=(f+m)/2))?f=x:m=x;while((g=I<<2|U<<1|d)===(G=(h>=x)<<2|(y>=Z)<<1|B>=u));return c[G]=l,c[g]=Q,e}function dc(e){Array.isArray(e)||(e=Array.from(e));let i=e.length,n=new Float64Array(i),o=new Float64Array(i),r=new Float64Array(i),c=1/0,l=1/0,Q=1/0,b=-1/0,a=-1/0,f=-1/0;for(let s=0,F,m,u,Z;s<i;++s)isNaN(m=+this._x.call(null,F=e[s]))||isNaN(u=+this._y.call(null,F))||isNaN(Z=+this._z.call(null,F))||(n[s]=m,o[s]=u,r[s]=Z,m<c&&(c=m),m>b&&(b=m),u<l&&(l=u),u>a&&(a=u),Z<Q&&(Q=Z),Z>f&&(f=Z));if(c>b||l>a||Q>f)return this;this.cover(c,l,Q).cover(b,a,f);for(let s=0;s<i;++s)uc(this,n[s],o[s],r[s],e[s]);return this}function Uc(e,i,n){if(isNaN(e=+e)||isNaN(i=+i)||isNaN(n=+n))return this;var o=this._x0,r=this._y0,c=this._z0,l=this._x1,Q=this._y1,b=this._z1;if(isNaN(o))l=(o=Math.floor(e))+1,Q=(r=Math.floor(i))+1,b=(c=Math.floor(n))+1;else{for(var a=l-o||1,f=this._root,s,F;o>e||e>=l||r>i||i>=Q||c>n||n>=b;)switch(F=(n<c)<<2|(i<r)<<1|e<o,s=new Array(8),s[F]=f,f=s,a*=2,F){case 0:l=o+a,Q=r+a,b=c+a;break;case 1:o=l-a,Q=r+a,b=c+a;break;case 2:l=o+a,r=Q-a,b=c+a;break;case 3:o=l-a,r=Q-a,b=c+a;break;case 4:l=o+a,Q=r+a,c=b-a;break;case 5:o=l-a,Q=r+a,c=b-a;break;case 6:l=o+a,r=Q-a,c=b-a;break;case 7:o=l-a,r=Q-a,c=b-a;break}this._root&&this._root.length&&(this._root=f)}return this._x0=o,this._y0=r,this._z0=c,this._x1=l,this._y1=Q,this._z1=b,this}function Zc(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function xc(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function D(e,i,n,o,r,c,l){this.node=e,this.x0=i,this.y0=n,this.z0=o,this.x1=r,this.y1=c,this.z1=l}function Ic(e,i,n,o){var r,c=this._x0,l=this._y0,Q=this._z0,b,a,f,s,F,m,u=this._x1,Z=this._y1,x=this._z1,B=[],y=this._root,h,d;for(y&&B.push(new D(y,c,l,Q,u,Z,x)),o==null?o=1/0:(c=e-o,l=i-o,Q=n-o,u=e+o,Z=i+o,x=n+o,o*=o);h=B.pop();)if(!(!(y=h.node)||(b=h.x0)>u||(a=h.y0)>Z||(f=h.z0)>x||(s=h.x1)<c||(F=h.y1)<l||(m=h.z1)<Q))if(y.length){var U=(b+s)/2,I=(a+F)/2,g=(f+m)/2;B.push(new D(y[7],U,I,g,s,F,m),new D(y[6],b,I,g,U,F,m),new D(y[5],U,a,g,s,I,m),new D(y[4],b,a,g,U,I,m),new D(y[3],U,I,f,s,F,g),new D(y[2],b,I,f,U,F,g),new D(y[1],U,a,f,s,I,g),new D(y[0],b,a,f,U,I,g)),(d=(n>=g)<<2|(i>=I)<<1|e>=U)&&(h=B[B.length-1],B[B.length-1]=B[B.length-1-d],B[B.length-1-d]=h)}else{var G=e-+this._x.call(null,y.data),L=i-+this._y.call(null,y.data),W=n-+this._z.call(null,y.data),O=G*G+L*L+W*W;if(O<o){var w=Math.sqrt(o=O);c=e-w,l=i-w,Q=n-w,u=e+w,Z=i+w,x=n+w,r=y.data}}return r}function pc(e){if(isNaN(F=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e))||isNaN(u=+this._z.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._y0,b=this._z0,a=this._x1,f=this._y1,s=this._z1,F,m,u,Z,x,B,y,h,d,U,I;if(!n)return this;if(n.length)for(;;){if((y=F>=(Z=(l+a)/2))?l=Z:a=Z,(h=m>=(x=(Q+f)/2))?Q=x:f=x,(d=u>=(B=(b+s)/2))?b=B:s=B,i=n,!(n=n[U=d<<2|h<<1|y]))return this;if(!n.length)break;(i[U+1&7]||i[U+2&7]||i[U+3&7]||i[U+4&7]||i[U+5&7]||i[U+6&7]||i[U+7&7])&&(o=i,I=U)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[U]=c:delete i[U],(n=i[0]||i[1]||i[2]||i[3]||i[4]||i[5]||i[6]||i[7])&&n===(i[7]||i[6]||i[5]||i[4]||i[3]||i[2]||i[1]||i[0])&&!n.length&&(o?o[I]=n:this._root=n),this):(this._root=c,this)}function gc(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function yc(){return this._root}function hc(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function Gc(e){var i=[],n,o=this._root,r,c,l,Q,b,a,f;for(o&&i.push(new D(o,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.y0,Q=n.z0,b=n.x1,a=n.y1,f=n.z1)&&o.length){var s=(c+b)/2,F=(l+a)/2,m=(Q+f)/2;(r=o[7])&&i.push(new D(r,s,F,m,b,a,f)),(r=o[6])&&i.push(new D(r,c,F,m,s,a,f)),(r=o[5])&&i.push(new D(r,s,l,m,b,F,f)),(r=o[4])&&i.push(new D(r,c,l,m,s,F,f)),(r=o[3])&&i.push(new D(r,s,F,Q,b,a,m)),(r=o[2])&&i.push(new D(r,c,F,Q,s,a,m)),(r=o[1])&&i.push(new D(r,s,l,Q,b,F,m)),(r=o[0])&&i.push(new D(r,c,l,Q,s,F,m))}return this}function Cc(e){var i=[],n=[],o;for(this._root&&i.push(new D(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.y0,b=o.z0,a=o.x1,f=o.y1,s=o.z1,F=(l+a)/2,m=(Q+f)/2,u=(b+s)/2;(c=r[0])&&i.push(new D(c,l,Q,b,F,m,u)),(c=r[1])&&i.push(new D(c,F,Q,b,a,m,u)),(c=r[2])&&i.push(new D(c,l,m,b,F,f,u)),(c=r[3])&&i.push(new D(c,F,m,b,a,f,u)),(c=r[4])&&i.push(new D(c,l,Q,u,F,m,s)),(c=r[5])&&i.push(new D(c,F,Q,u,a,m,s)),(c=r[6])&&i.push(new D(c,l,m,u,F,f,s)),(c=r[7])&&i.push(new D(c,F,m,u,a,f,s))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.z0,o.x1,o.y1,o.z1);return this}function Xc(e){return e[0]}function Jc(e){return arguments.length?(this._x=e,this):this._x}function Wc(e){return e[1]}function Lc(e){return arguments.length?(this._y=e,this):this._y}function Yc(e){return e[2]}function Vc(e){return arguments.length?(this._z=e,this):this._z}function jt(e,i,n,o){var r=new nn(i??Xc,n??Wc,o??Yc,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function nn(e,i,n,o,r,c,l,Q,b){this._x=e,this._y=i,this._z=n,this._x0=o,this._y0=r,this._z0=c,this._x1=l,this._y1=Q,this._z1=b,this._root=void 0}function Oc(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var $=jt.prototype=nn.prototype;$.copy=function(){var e=new nn(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=Oc(i),e;for(n=[{source:i,target:e._root=new Array(8)}];i=n.pop();)for(var r=0;r<8;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(8)}):i.target[r]=Oc(o));return e};$.add=Bc;$.addAll=dc;$.cover=Uc;$.data=Zc;$.extent=xc;$.find=Ic;$.remove=pc;$.removeAll=gc;$.root=yc;$.size=hc;$.visit=Gc;$.visitAfter=Cc;$.x=Jc;$.y=Lc;$.z=Vc;function ae(e){return function(){return e}}function xe(e){return(e()-.5)*1e-6}function _a(e){return e.index}function wc(e,i){var n=e.get(i);if(!n)throw new Error("node not found: "+i);return n}function on(e){var i=_a,n=F,o,r=ae(30),c,l,Q,b,a,f,s=1;e==null&&(e=[]);function F(B){return 1/Math.min(b[B.source.index],b[B.target.index])}function m(B){for(var y=0,h=e.length;y<s;++y)for(var d=0,U,I,g,G=0,L=0,W=0,O,w;d<h;++d)U=e[d],I=U.source,g=U.target,G=g.x+g.vx-I.x-I.vx||xe(f),Q>1&&(L=g.y+g.vy-I.y-I.vy||xe(f)),Q>2&&(W=g.z+g.vz-I.z-I.vz||xe(f)),O=Math.sqrt(G*G+L*L+W*W),O=(O-c[d])/O*B*o[d],G*=O,L*=O,W*=O,g.vx-=G*(w=a[d]),Q>1&&(g.vy-=L*w),Q>2&&(g.vz-=W*w),I.vx+=G*(w=1-w),Q>1&&(I.vy+=L*w),Q>2&&(I.vz+=W*w)}function u(){if(l){var B,y=l.length,h=e.length,d=new Map(l.map((I,g)=>[i(I,g,l),I])),U;for(B=0,b=new Array(y);B<h;++B)U=e[B],U.index=B,typeof U.source!="object"&&(U.source=wc(d,U.source)),typeof U.target!="object"&&(U.target=wc(d,U.target)),b[U.source.index]=(b[U.source.index]||0)+1,b[U.target.index]=(b[U.target.index]||0)+1;for(B=0,a=new Array(h);B<h;++B)U=e[B],a[B]=b[U.source.index]/(b[U.source.index]+b[U.target.index]);o=new Array(h),Z(),c=new Array(h),x()}}function Z(){if(l)for(var B=0,y=e.length;B<y;++B)o[B]=+n(e[B],B,e)}function x(){if(l)for(var B=0,y=e.length;B<y;++B)c[B]=+r(e[B],B,e)}return m.initialize=function(B,...y){l=B,f=y.find(h=>typeof h=="function")||Math.random,Q=y.find(h=>[1,2,3].includes(h))||2,u()},m.links=function(B){return arguments.length?(e=B,u(),m):e},m.id=function(B){return arguments.length?(i=B,m):i},m.iterations=function(B){return arguments.length?(s=+B,m):s},m.strength=function(B){return arguments.length?(n=typeof B=="function"?B:ae(+B),Z(),m):n},m.distance=function(B){return arguments.length?(r=typeof B=="function"?B:ae(+B),x(),m):r},m}function jc(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}var kc=3;function gi(e){return e.x}function rn(e){return e.y}function Nc(e){return e.z}var Aa=10,qa=Math.PI*(3-Math.sqrt(5)),Pa=Math.PI*20/(9+Math.sqrt(221));function cn(e,i){i=i||2;var n=Math.min(kc,Math.max(1,Math.round(i))),o,r=1,c=.001,l=1-Math.pow(c,1/300),Q=0,b=.6,a=new Map,f=$e(m),s=Xe("tick","end"),F=jc();e==null&&(e=[]);function m(){u(),s.call("tick",o),r<c&&(f.stop(),s.call("end",o))}function u(B){var y,h=e.length,d;B===void 0&&(B=1);for(var U=0;U<B;++U)for(r+=(Q-r)*l,a.forEach(function(I){I(r)}),y=0;y<h;++y)d=e[y],d.fx==null?d.x+=d.vx*=b:(d.x=d.fx,d.vx=0),n>1&&(d.fy==null?d.y+=d.vy*=b:(d.y=d.fy,d.vy=0)),n>2&&(d.fz==null?d.z+=d.vz*=b:(d.z=d.fz,d.vz=0));return o}function Z(){for(var B=0,y=e.length,h;B<y;++B){if(h=e[B],h.index=B,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),h.fz!=null&&(h.z=h.fz),isNaN(h.x)||n>1&&isNaN(h.y)||n>2&&isNaN(h.z)){var d=Aa*(n>2?Math.cbrt(.5+B):n>1?Math.sqrt(.5+B):B),U=B*qa,I=B*Pa;n===1?h.x=d:n===2?(h.x=d*Math.cos(U),h.y=d*Math.sin(U)):(h.x=d*Math.sin(U)*Math.cos(I),h.y=d*Math.cos(U),h.z=d*Math.sin(U)*Math.sin(I))}(isNaN(h.vx)||n>1&&isNaN(h.vy)||n>2&&isNaN(h.vz))&&(h.vx=0,n>1&&(h.vy=0),n>2&&(h.vz=0))}}function x(B){return B.initialize&&B.initialize(e,F,n),B}return Z(),o={tick:u,restart:function(){return f.restart(m),o},stop:function(){return f.stop(),o},numDimensions:function(B){return arguments.length?(n=Math.min(kc,Math.max(1,Math.round(B))),a.forEach(x),o):n},nodes:function(B){return arguments.length?(e=B,Z(),a.forEach(x),o):e},alpha:function(B){return arguments.length?(r=+B,o):r},alphaMin:function(B){return arguments.length?(c=+B,o):c},alphaDecay:function(B){return arguments.length?(l=+B,o):+l},alphaTarget:function(B){return arguments.length?(Q=+B,o):Q},velocityDecay:function(B){return arguments.length?(b=1-B,o):1-b},randomSource:function(B){return arguments.length?(F=B,a.forEach(x),o):F},force:function(B,y){return arguments.length>1?(y==null?a.delete(B):a.set(B,x(y)),o):a.get(B)},find:function(){var B=Array.prototype.slice.call(arguments),y=B.shift()||0,h=(n>1?B.shift():null)||0,d=(n>2?B.shift():null)||0,U=B.shift()||1/0,I=0,g=e.length,G,L,W,O,w,R;for(U*=U,I=0;I<g;++I)w=e[I],G=y-w.x,L=h-(w.y||0),W=d-(w.z||0),O=G*G+L*L+W*W,O<U&&(R=w,U=O);return R},on:function(B,y){return arguments.length>1?(s.on(B,y),o):s.on(B)}}}function ln(){var e,i,n,o,r,c=ae(-30),l,Q=1,b=1/0,a=.81;function f(u){var Z,x=e.length,B=(i===1?Ot(e,gi):i===2?wt(e,gi,rn):i===3?jt(e,gi,rn,Nc):null).visitAfter(F);for(r=u,Z=0;Z<x;++Z)n=e[Z],B.visit(m)}function s(){if(e){var u,Z=e.length,x;for(l=new Array(Z),u=0;u<Z;++u)x=e[u],l[x.index]=+c(x,u,e)}}function F(u){var Z=0,x,B,y=0,h,d,U,I,g=u.length;if(g){for(h=d=U=I=0;I<g;++I)(x=u[I])&&(B=Math.abs(x.value))&&(Z+=x.value,y+=B,h+=B*(x.x||0),d+=B*(x.y||0),U+=B*(x.z||0));Z*=Math.sqrt(4/g),u.x=h/y,i>1&&(u.y=d/y),i>2&&(u.z=U/y)}else{x=u,x.x=x.data.x,i>1&&(x.y=x.data.y),i>2&&(x.z=x.data.z);do Z+=l[x.data.index];while(x=x.next)}u.value=Z}function m(u,Z,x,B,y){if(!u.value)return!0;var h=[x,B,y][i-1],d=u.x-n.x,U=i>1?u.y-n.y:0,I=i>2?u.z-n.z:0,g=h-Z,G=d*d+U*U+I*I;if(g*g/a<G)return G<b&&(d===0&&(d=xe(o),G+=d*d),i>1&&U===0&&(U=xe(o),G+=U*U),i>2&&I===0&&(I=xe(o),G+=I*I),G<Q&&(G=Math.sqrt(Q*G)),n.vx+=d*u.value*r/G,i>1&&(n.vy+=U*u.value*r/G),i>2&&(n.vz+=I*u.value*r/G)),!0;if(u.length||G>=b)return;(u.data!==n||u.next)&&(d===0&&(d=xe(o),G+=d*d),i>1&&U===0&&(U=xe(o),G+=U*U),i>2&&I===0&&(I=xe(o),G+=I*I),G<Q&&(G=Math.sqrt(Q*G)));do u.data!==n&&(g=l[u.data.index]*r/G,n.vx+=d*g,i>1&&(n.vy+=U*g),i>2&&(n.vz+=I*g));while(u=u.next)}return f.initialize=function(u,...Z){e=u,o=Z.find(x=>typeof x=="function")||Math.random,i=Z.find(x=>[1,2,3].includes(x))||2,s()},f.strength=function(u){return arguments.length?(c=typeof u=="function"?u:ae(+u),s(),f):c},f.distanceMin=function(u){return arguments.length?(Q=u*u,f):Math.sqrt(Q)},f.distanceMax=function(u){return arguments.length?(b=u*u,f):Math.sqrt(b)},f.theta=function(u){return arguments.length?(a=u*u,f):Math.sqrt(a)},f}function Qn(e,i,n,o){var r,c,l=ae(.1),Q,b;typeof e!="function"&&(e=ae(+e)),i==null&&(i=0),n==null&&(n=0),o==null&&(o=0);function a(s){for(var F=0,m=r.length;F<m;++F){var u=r[F],Z=u.x-i||1e-6,x=(u.y||0)-n||1e-6,B=(u.z||0)-o||1e-6,y=Math.sqrt(Z*Z+x*x+B*B),h=(b[F]-y)*Q[F]*s/y;u.vx+=Z*h,c>1&&(u.vy+=x*h),c>2&&(u.vz+=B*h)}}function f(){if(r){var s,F=r.length;for(Q=new Array(F),b=new Array(F),s=0;s<F;++s)b[s]=+e(r[s],s,r),Q[s]=isNaN(b[s])?0:+l(r[s],s,r)}}return a.initialize=function(s,...F){r=s,c=F.find(m=>[1,2,3].includes(m))||2,f()},a.strength=function(s){return arguments.length?(l=typeof s=="function"?s:ae(+s),f(),a):l},a.radius=function(s){return arguments.length?(e=typeof s=="function"?s:ae(+s),f(),a):e},a.x=function(s){return arguments.length?(i=+s,a):i},a.y=function(s){return arguments.length?(n=+s,a):n},a.z=function(s){return arguments.length?(o=+s,a):o},a}var{abs:kt,cos:Le,sin:rt,acos:Ka,atan2:Nt,sqrt:ke,pow:se}=Math;function Rt(e){return e<0?-se(-e,1/3):se(e,1/3)}var Rc=Math.PI,yi=2*Rc,Ne=Rc/2,$a=1e-6,bn=Number.MAX_SAFE_INTEGER||9007199254740991,an=Number.MIN_SAFE_INTEGER||-9007199254740991,es={x:0,y:0,z:0},X={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,i){let n=i(e),o=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(o+=n.z*n.z),ke(o)},compute:function(e,i,n){if(e===0)return i[0].t=0,i[0];let o=i.length-1;if(e===1)return i[o].t=1,i[o];let r=1-e,c=i;if(o===0)return i[0].t=e,i[0];if(o===1){let Q={x:r*c[0].x+e*c[1].x,y:r*c[0].y+e*c[1].y,t:e};return n&&(Q.z=r*c[0].z+e*c[1].z),Q}if(o<4){let Q=r*r,b=e*e,a,f,s,F=0;o===2?(c=[c[0],c[1],c[2],es],a=Q,f=r*e*2,s=b):o===3&&(a=Q*r,f=Q*e*3,s=r*b*3,F=e*b);let m={x:a*c[0].x+f*c[1].x+s*c[2].x+F*c[3].x,y:a*c[0].y+f*c[1].y+s*c[2].y+F*c[3].y,t:e};return n&&(m.z=a*c[0].z+f*c[1].z+s*c[2].z+F*c[3].z),m}let l=JSON.parse(JSON.stringify(i));for(;l.length>1;){for(let Q=0;Q<l.length-1;Q++)l[Q]={x:l[Q].x+(l[Q+1].x-l[Q].x)*e,y:l[Q].y+(l[Q+1].y-l[Q].y)*e},typeof l[Q].z<"u"&&(l[Q].z=l[Q].z+(l[Q+1].z-l[Q].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,i,n,o){let r=1-e,c=n,l=i,Q=c[0],b=c[1],a=c[2],f=c[3],s;if(Q*=r,b*=e,l.length===2)return s=Q+b,{x:(Q*l[0].x+b*l[1].x)/s,y:(Q*l[0].y+b*l[1].y)/s,z:o?(Q*l[0].z+b*l[1].z)/s:!1,t:e};if(Q*=r,b*=2*r,a*=e*e,l.length===3)return s=Q+b+a,{x:(Q*l[0].x+b*l[1].x+a*l[2].x)/s,y:(Q*l[0].y+b*l[1].y+a*l[2].y)/s,z:o?(Q*l[0].z+b*l[1].z+a*l[2].z)/s:!1,t:e};if(Q*=r,b*=1.5*r,a*=3*r,f*=e*e*e,l.length===4)return s=Q+b+a+f,{x:(Q*l[0].x+b*l[1].x+a*l[2].x+f*l[3].x)/s,y:(Q*l[0].y+b*l[1].y+a*l[2].y+f*l[3].y)/s,z:o?(Q*l[0].z+b*l[1].z+a*l[2].z+f*l[3].z)/s:!1,t:e}},derive:function(e,i){let n=[];for(let o=e,r=o.length,c=r-1;r>1;r--,c--){let l=[];for(let Q=0,b;Q<c;Q++)b={x:c*(o[Q+1].x-o[Q].x),y:c*(o[Q+1].y-o[Q].y)},i&&(b.z=c*(o[Q+1].z-o[Q].z)),l.push(b);n.push(l),o=l}return n},between:function(e,i,n){return i<=e&&e<=n||X.approximately(e,i)||X.approximately(e,n)},approximately:function(e,i,n){return kt(e-i)<=(n||$a)},length:function(e){let n=X.Tvalues.length,o=0;for(let r=0,c;r<n;r++)c=.5*X.Tvalues[r]+.5,o+=X.Cvalues[r]*X.arcfn(c,e);return .5*o},map:function(e,i,n,o,r){let c=n-i,l=r-o,Q=e-i,b=Q/c;return o+l*b},lerp:function(e,i,n){let o={x:i.x+e*(n.x-i.x),y:i.y+e*(n.y-i.y)};return i.z!==void 0&&n.z!==void 0&&(o.z=i.z+e*(n.z-i.z)),o},pointToString:function(e){let i=e.x+"/"+e.y;return typeof e.z<"u"&&(i+="/"+e.z),i},pointsToString:function(e){return"["+e.map(X.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,i,n){let o=i.x-e.x,r=i.y-e.y,c=n.x-e.x,l=n.y-e.y,Q=o*l-r*c,b=o*c+r*l;return Nt(Q,b)},round:function(e,i){let n=""+e,o=n.indexOf(".");return parseFloat(n.substring(0,o+1+i))},dist:function(e,i){let n=e.x-i.x,o=e.y-i.y;return ke(n*n+o*o)},closest:function(e,i){let n=se(2,63),o,r;return e.forEach(function(c,l){r=X.dist(i,c),r<n&&(n=r,o=l)}),{mdist:n,mpos:o}},abcratio:function(e,i){if(i!==2&&i!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=se(e,i)+se(1-e,i),o=n-1;return kt(o/n)},projectionratio:function(e,i){if(i!==2&&i!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=se(1-e,i),o=se(e,i)+n;return n/o},lli8:function(e,i,n,o,r,c,l,Q){let b=(e*o-i*n)*(r-l)-(e-n)*(r*Q-c*l),a=(e*o-i*n)*(c-Q)-(i-o)*(r*Q-c*l),f=(e-n)*(c-Q)-(i-o)*(r-l);return f==0?!1:{x:b/f,y:a/f}},lli4:function(e,i,n,o){let r=e.x,c=e.y,l=i.x,Q=i.y,b=n.x,a=n.y,f=o.x,s=o.y;return X.lli8(r,c,l,Q,b,a,f,s)},lli:function(e,i){return X.lli4(e,e.c,i,i.c)},makeline:function(e,i){return new _e(e.x,e.y,(e.x+i.x)/2,(e.y+i.y)/2,i.x,i.y)},findbbox:function(e){let i=bn,n=bn,o=an,r=an;return e.forEach(function(c){let l=c.bbox();i>l.x.min&&(i=l.x.min),n>l.y.min&&(n=l.y.min),o<l.x.max&&(o=l.x.max),r<l.y.max&&(r=l.y.max)}),{x:{min:i,mid:(i+o)/2,max:o,size:o-i},y:{min:n,mid:(n+r)/2,max:r,size:r-n}}},shapeintersections:function(e,i,n,o,r){if(!X.bboxoverlap(i,o))return[];let c=[],l=[e.startcap,e.forward,e.back,e.endcap],Q=[n.startcap,n.forward,n.back,n.endcap];return l.forEach(function(b){b.virtual||Q.forEach(function(a){if(a.virtual)return;let f=b.intersects(a,r);f.length>0&&(f.c1=b,f.c2=a,f.s1=e,f.s2=n,c.push(f))})}),c},makeshape:function(e,i,n){let o=i.points.length,r=e.points.length,c=X.makeline(i.points[o-1],e.points[0]),l=X.makeline(e.points[r-1],i.points[0]),Q={startcap:c,forward:e,back:i,endcap:l,bbox:X.findbbox([c,e,i,l])};return Q.intersections=function(b){return X.shapeintersections(Q,Q.bbox,b,b.bbox,n)},Q},getminmax:function(e,i,n){if(!n)return{min:0,max:0};let o=bn,r=an,c,l;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let Q=0,b=n.length;Q<b;Q++)c=n[Q],l=e.get(c),l[i]<o&&(o=l[i]),l[i]>r&&(r=l[i]);return{min:o,mid:(o+r)/2,max:r,size:r-o}},align:function(e,i){let n=i.p1.x,o=i.p1.y,r=-Nt(i.p2.y-o,i.p2.x-n),c=function(l){return{x:(l.x-n)*Le(r)-(l.y-o)*rt(r),y:(l.x-n)*rt(r)+(l.y-o)*Le(r)}};return e.map(c)},roots:function(e,i){i=i||{p1:{x:0,y:0},p2:{x:1,y:0}};let n=e.length-1,o=X.align(e,i),r=function(g){return 0<=g&&g<=1};if(n===2){let g=o[0].y,G=o[1].y,L=o[2].y,W=g-2*G+L;if(W!==0){let O=-ke(G*G-g*L),w=-g+G,R=-(O+w)/W,p=-(-O+w)/W;return[R,p].filter(r)}else if(G!==L&&W===0)return[(2*G-L)/(2*G-2*L)].filter(r);return[]}let c=o[0].y,l=o[1].y,Q=o[2].y,b=o[3].y,a=-c+3*l-3*Q+b,f=3*c-6*l+3*Q,s=-3*c+3*l,F=c;if(X.approximately(a,0)){if(X.approximately(f,0))return X.approximately(s,0)?[]:[-F/s].filter(r);let g=ke(s*s-4*f*F),G=2*f;return[(g-s)/G,(-s-g)/G].filter(r)}f/=a,s/=a,F/=a;let m=(3*s-f*f)/3,u=m/3,Z=(2*f*f*f-9*f*s+27*F)/27,x=Z/2,B=x*x+u*u*u,y,h,d,U,I;if(B<0){let g=-m/3,G=g*g*g,L=ke(G),W=-Z/(2*L),O=W<-1?-1:W>1?1:W,w=Ka(O),R=Rt(L),p=2*R;return d=p*Le(w/3)-f/3,U=p*Le((w+yi)/3)-f/3,I=p*Le((w+2*yi)/3)-f/3,[d,U,I].filter(r)}else{if(B===0)return y=x<0?Rt(-x):-Rt(x),d=2*y-f/3,U=-y-f/3,[d,U].filter(r);{let g=ke(B);return y=Rt(-x+g),h=Rt(x+g),[y-h-f/3].filter(r)}}},droots:function(e){if(e.length===3){let i=e[0],n=e[1],o=e[2],r=i-2*n+o;if(r!==0){let c=-ke(n*n-i*o),l=-i+n,Q=-(c+l)/r,b=-(-c+l)/r;return[Q,b]}else if(n!==o&&r===0)return[(2*n-o)/(2*(n-o))];return[]}if(e.length===2){let i=e[0],n=e[1];return i!==n?[i/(i-n)]:[]}return[]},curvature:function(e,i,n,o,r){let c,l,Q,b,a=0,f=0,s=X.compute(e,i),F=X.compute(e,n),m=s.x*s.x+s.y*s.y;if(o?(c=ke(se(s.y*F.z-F.y*s.z,2)+se(s.z*F.x-F.z*s.x,2)+se(s.x*F.y-F.x*s.y,2)),l=se(m+s.z*s.z,3/2)):(c=s.x*F.y-s.y*F.x,l=se(m,3/2)),c===0||l===0)return{k:0,r:0};if(a=c/l,f=l/c,!r){let u=X.curvature(e-.001,i,n,o,!0).k,Z=X.curvature(e+.001,i,n,o,!0).k;b=(Z-a+(a-u))/2,Q=(kt(Z-a)+kt(a-u))/2}return{k:a,r:f,dk:b,adk:Q}},inflections:function(e){if(e.length<4)return[];let i=X.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=i[2].x*i[1].y,o=i[3].x*i[1].y,r=i[1].x*i[2].y,c=i[3].x*i[2].y,l=18*(-3*n+2*o+3*r-c),Q=18*(3*n-o-3*r),b=18*(r-n);if(X.approximately(l,0)){if(!X.approximately(Q,0)){let F=-b/Q;if(0<=F&&F<=1)return[F]}return[]}let a=2*l;if(X.approximately(a,0))return[];let f=Q*Q-4*l*b;if(f<0)return[];let s=Math.sqrt(f);return[(s-Q)/a,-(Q+s)/a].filter(function(F){return 0<=F&&F<=1})},bboxoverlap:function(e,i){let n=["x","y"],o=n.length;for(let r=0,c,l,Q,b;r<o;r++)if(c=n[r],l=e[c].mid,Q=i[c].mid,b=(e[c].size+i[c].size)/2,kt(l-Q)>=b)return!1;return!0},expandbox:function(e,i){i.x.min<e.x.min&&(e.x.min=i.x.min),i.y.min<e.y.min&&(e.y.min=i.y.min),i.z&&i.z.min<e.z.min&&(e.z.min=i.z.min),i.x.max>e.x.max&&(e.x.max=i.x.max),i.y.max>e.y.max&&(e.y.max=i.y.max),i.z&&i.z.max>e.z.max&&(e.z.max=i.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,i,n){let o=e.bbox(),r=i.bbox(),c=1e5,l=n||.5;if(o.x.size+o.y.size<l&&r.x.size+r.y.size<l)return[(c*(e._t1+e._t2)/2|0)/c+"/"+(c*(i._t1+i._t2)/2|0)/c];let Q=e.split(.5),b=i.split(.5),a=[{left:Q.left,right:b.left},{left:Q.left,right:b.right},{left:Q.right,right:b.right},{left:Q.right,right:b.left}];a=a.filter(function(s){return X.bboxoverlap(s.left.bbox(),s.right.bbox())});let f=[];return a.length===0||(a.forEach(function(s){f=f.concat(X.pairiteration(s.left,s.right,l))}),f=f.filter(function(s,F){return f.indexOf(s)===F})),f},getccenter:function(e,i,n){let o=i.x-e.x,r=i.y-e.y,c=n.x-i.x,l=n.y-i.y,Q=o*Le(Ne)-r*rt(Ne),b=o*rt(Ne)+r*Le(Ne),a=c*Le(Ne)-l*rt(Ne),f=c*rt(Ne)+l*Le(Ne),s=(e.x+i.x)/2,F=(e.y+i.y)/2,m=(i.x+n.x)/2,u=(i.y+n.y)/2,Z=s+Q,x=F+b,B=m+a,y=u+f,h=X.lli8(s,F,Z,x,m,u,B,y),d=X.dist(h,e),U=Nt(e.y-h.y,e.x-h.x),I=Nt(i.y-h.y,i.x-h.x),g=Nt(n.y-h.y,n.x-h.x),G;return U<g?((U>I||I>g)&&(U+=yi),U>g&&(G=g,g=U,U=G)):g<I&&I<U?(G=g,g=U,U=G):g+=yi,h.s=U,h.e=g,h.r=d,h},numberSort:function(e,i){return e-i}};var ct=class e{constructor(i){this.curves=[],this._3d=!1,i&&(this.curves=i,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(i){return X.pointsToString(i.points)}).join(", ")+"]"}addCurve(i){this.curves.push(i),this._3d=this._3d||i._3d}length(){return this.curves.map(function(i){return i.length()}).reduce(function(i,n){return i+n})}curve(i){return this.curves[i]}bbox(){let i=this.curves;for(var n=i[0].bbox(),o=1;o<i.length;o++)X.expandbox(n,i[o].bbox());return n}offset(i){let n=[];return this.curves.forEach(function(o){n.push(...o.offset(i))}),new e(n)}};var{abs:vt,min:vc,max:Dc,cos:ts,sin:is,acos:ns,sqrt:Dt}=Math,os=Math.PI;var _e=class e{constructor(i){let n=i&&i.forEach?i:Array.from(arguments).slice(),o=!1;if(typeof n[0]=="object"){o=n.length;let m=[];n.forEach(function(u){["x","y","z"].forEach(function(Z){typeof u[Z]<"u"&&m.push(u[Z])})}),n=m}let r=!1,c=n.length;if(o){if(o>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(c!==6&&c!==8&&c!==9&&c!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let l=this._3d=!r&&(c===9||c===12)||i&&i[0]&&typeof i[0].z<"u",Q=this.points=[];for(let m=0,u=l?3:2;m<c;m+=u){var b={x:n[m],y:n[m+1]};l&&(b.z=n[m+2]),Q.push(b)}let a=this.order=Q.length-1,f=this.dims=["x","y"];l&&f.push("z"),this.dimlen=f.length;let s=X.align(Q,{p1:Q[0],p2:Q[a]}),F=X.dist(Q[0],Q[a]);this._linear=s.reduce((m,u)=>m+vt(u.y),0)<F/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(i,n,o,r){if(typeof r>"u"&&(r=.5),r===0)return new e(n,n,o);if(r===1)return new e(i,n,n);let c=e.getABC(2,i,n,o,r);return new e(i,c.A,o)}static cubicFromPoints(i,n,o,r,c){typeof r>"u"&&(r=.5);let l=e.getABC(3,i,n,o,r);typeof c>"u"&&(c=X.dist(n,l.C));let Q=c*(1-r)/r,b=X.dist(i,o),a=(o.x-i.x)/b,f=(o.y-i.y)/b,s=c*a,F=c*f,m=Q*a,u=Q*f,Z={x:n.x-s,y:n.y-F},x={x:n.x+m,y:n.y+u},B=l.A,y={x:B.x+(Z.x-B.x)/(1-r),y:B.y+(Z.y-B.y)/(1-r)},h={x:B.x+(x.x-B.x)/r,y:B.y+(x.y-B.y)/r},d={x:i.x+(y.x-i.x)/r,y:i.y+(y.y-i.y)/r},U={x:o.x+(h.x-o.x)/(1-r),y:o.y+(h.y-o.y)/(1-r)};return new e(i,d,U,o)}static getUtils(){return X}getUtils(){return e.getUtils()}static get PolyBezier(){return ct}valueOf(){return this.toString()}toString(){return X.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let i=this.points,n=i[0].x,o=i[0].y,r=["M",n,o,this.order===2?"Q":"C"];for(let c=1,l=i.length;c<l;c++)r.push(i[c].x),r.push(i[c].y);return r.join(" ")}setRatios(i){if(i.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=i,this._lut=[]}verify(){let i=this.coordDigest();i!==this._print&&(this._print=i,this.update())}coordDigest(){return this.points.map(function(i,n){return""+n+i.x+i.y+(i.z?i.z:0)}).join("")}update(){this._lut=[],this.dpoints=X.derive(this.points,this._3d),this.computedirection()}computedirection(){let i=this.points,n=X.angle(i[0],i[this.order],i[1]);this.clockwise=n>0}length(){return X.length(this.derivative.bind(this))}static getABC(i=2,n,o,r,c=.5){let l=X.projectionratio(c,i),Q=1-l,b={x:l*n.x+Q*r.x,y:l*n.y+Q*r.y},a=X.abcratio(c,i);return{A:{x:o.x+(o.x-b.x)/a,y:o.y+(o.y-b.y)/a},B:o,C:b,S:n,E:r}}getABC(i,n){n=n||this.get(i);let o=this.points[0],r=this.points[this.order];return e.getABC(this.order,o,n,r,i)}getLUT(i){if(this.verify(),i=i||100,this._lut.length===i+1)return this._lut;this._lut=[],i++,this._lut=[];for(let n=0,o,r;n<i;n++)r=n/(i-1),o=this.compute(r),o.t=r,this._lut.push(o);return this._lut}on(i,n){n=n||5;let o=this.getLUT(),r=[];for(let c=0,l,Q=0;c<o.length;c++)l=o[c],X.dist(l,i)<n&&(r.push(l),Q+=c/o.length);return r.length?t/=r.length:!1}project(i){let n=this.getLUT(),o=n.length-1,r=X.closest(n,i),c=r.mpos,l=(c-1)/o,Q=(c+1)/o,b=.1/o,a=r.mdist,f=l,s=f,F;a+=1;for(let m;f<Q+b;f+=b)F=this.compute(f),m=X.dist(i,F),m<a&&(a=m,s=f);return s=s<0?0:s>1?1:s,F=this.compute(s),F.t=s,F.d=a,F}get(i){return this.compute(i)}point(i){return this.points[i]}compute(i){return this.ratios?X.computeWithRatios(i,this.points,this.ratios,this._3d):X.compute(i,this.points,this._3d,this.ratios)}raise(){let i=this.points,n=[i[0]],o=i.length;for(let r=1,c,l;r<o;r++)c=i[r],l=i[r-1],n[r]={x:(o-r)/o*c.x+r/o*l.x,y:(o-r)/o*c.y+r/o*l.y};return n[o]=i[o-1],new e(n)}derivative(i){return X.compute(i,this.dpoints[0],this._3d)}dderivative(i){return X.compute(i,this.dpoints[1],this._3d)}align(){let i=this.points;return new e(X.align(i,{p1:i[0],p2:i[i.length-1]}))}curvature(i){return X.curvature(i,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return X.inflections(this.points)}normal(i){return this._3d?this.__normal3(i):this.__normal2(i)}__normal2(i){let n=this.derivative(i),o=Dt(n.x*n.x+n.y*n.y);return{t:i,x:-n.y/o,y:n.x/o}}__normal3(i){let n=this.derivative(i),o=this.derivative(i+.01),r=Dt(n.x*n.x+n.y*n.y+n.z*n.z),c=Dt(o.x*o.x+o.y*o.y+o.z*o.z);n.x/=r,n.y/=r,n.z/=r,o.x/=c,o.y/=c,o.z/=c;let l={x:o.y*n.z-o.z*n.y,y:o.z*n.x-o.x*n.z,z:o.x*n.y-o.y*n.x},Q=Dt(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=Q,l.y/=Q,l.z/=Q;let b=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:i,x:b[0]*n.x+b[1]*n.y+b[2]*n.z,y:b[3]*n.x+b[4]*n.y+b[5]*n.z,z:b[6]*n.x+b[7]*n.y+b[8]*n.z}}hull(i){let n=this.points,o=[],r=[],c=0;for(r[c++]=n[0],r[c++]=n[1],r[c++]=n[2],this.order===3&&(r[c++]=n[3]);n.length>1;){o=[];for(let l=0,Q,b=n.length-1;l<b;l++)Q=X.lerp(i,n[l],n[l+1]),r[c++]=Q,o.push(Q);n=o}return r}split(i,n){if(i===0&&n)return this.split(n).left;if(n===1)return this.split(i).right;let o=this.hull(i),r={left:this.order===2?new e([o[0],o[3],o[5]]):new e([o[0],o[4],o[7],o[9]]),right:this.order===2?new e([o[5],o[4],o[2]]):new e([o[9],o[8],o[6],o[3]]),span:o};return r.left._t1=X.map(0,0,1,this._t1,this._t2),r.left._t2=X.map(i,0,1,this._t1,this._t2),r.right._t1=X.map(i,0,1,this._t1,this._t2),r.right._t2=X.map(1,0,1,this._t1,this._t2),n?(n=X.map(n,i,1,0,1),r.right.split(n).left):r}extrema(){let i={},n=[];return this.dims.forEach(function(o){let r=function(l){return l[o]},c=this.dpoints[0].map(r);i[o]=X.droots(c),this.order===3&&(c=this.dpoints[1].map(r),i[o]=i[o].concat(X.droots(c))),i[o]=i[o].filter(function(l){return l>=0&&l<=1}),n=n.concat(i[o].sort(X.numberSort))}.bind(this)),i.values=n.sort(X.numberSort).filter(function(o,r){return n.indexOf(o)===r}),i}bbox(){let i=this.extrema(),n={};return this.dims.forEach(function(o){n[o]=X.getminmax(this,o,i[o])}.bind(this)),n}overlaps(i){let n=this.bbox(),o=i.bbox();return X.bboxoverlap(n,o)}offset(i,n){if(typeof n<"u"){let o=this.get(i),r=this.normal(i),c={c:o,n:r,x:o.x+r.x*n,y:o.y+r.y*n};return this._3d&&(c.z=o.z+r.z*n),c}if(this._linear){let o=this.normal(0),r=this.points.map(function(c){let l={x:c.x+i*o.x,y:c.y+i*o.y};return c.z&&o.z&&(l.z=c.z+i*o.z),l});return[new e(r)]}return this.reduce().map(function(o){return o._linear?o.offset(i)[0]:o.scale(i)})}simple(){if(this.order===3){let r=X.angle(this.points[0],this.points[3],this.points[1]),c=X.angle(this.points[0],this.points[3],this.points[2]);if(r>0&&c<0||r<0&&c>0)return!1}let i=this.normal(0),n=this.normal(1),o=i.x*n.x+i.y*n.y;return this._3d&&(o+=i.z*n.z),vt(ns(o))<os/3}reduce(){let i,n=0,o=0,r=.01,c,l=[],Q=[],b=this.extrema().values;for(b.indexOf(0)===-1&&(b=[0].concat(b)),b.indexOf(1)===-1&&b.push(1),n=b[0],i=1;i<b.length;i++)o=b[i],c=this.split(n,o),c._t1=n,c._t2=o,l.push(c),n=o;return l.forEach(function(a){for(n=0,o=0;o<=1;)for(o=n+r;o<=1+r;o+=r)if(c=a.split(n,o),!c.simple()){if(o-=r,vt(n-o)<r)return[];c=a.split(n,o),c._t1=X.map(n,0,1,a._t1,a._t2),c._t2=X.map(o,0,1,a._t1,a._t2),Q.push(c),n=o;break}n<1&&(c=a.split(n,1),c._t1=X.map(n,0,1,a._t1,a._t2),c._t2=a._t2,Q.push(c))}),Q}translate(i,n,o){o=typeof o=="number"?o:n;let r=this.order,c=this.points.map((l,Q)=>(1-Q/r)*n+Q/r*o);return new e(this.points.map((l,Q)=>({x:l.x+i.x*c[Q],y:l.y+i.y*c[Q]})))}scale(i){let n=this.order,o=!1;if(typeof i=="function"&&(o=i),o&&n===2)return this.raise().scale(o);let r=this.clockwise,c=this.points;if(this._linear)return this.translate(this.normal(0),o?o(0):i,o?o(1):i);let l=o?o(0):i,Q=o?o(1):i,b=[this.offset(0,10),this.offset(1,10)],a=[],f=X.lli4(b[0],b[0].c,b[1],b[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(s){let F=a[s*n]=X.copy(c[s*n]);F.x+=(s?Q:l)*b[s].n.x,F.y+=(s?Q:l)*b[s].n.y}),o?([0,1].forEach(function(s){if(!(n===2&&s)){var F=c[s+1],m={x:F.x-f.x,y:F.y-f.y},u=o?o((s+1)/n):i;o&&!r&&(u=-u);var Z=Dt(m.x*m.x+m.y*m.y);m.x/=Z,m.y/=Z,a[s+1]={x:F.x+u*m.x,y:F.y+u*m.y}}}),new e(a)):([0,1].forEach(s=>{if(n===2&&s)return;let F=a[s*n],m=this.derivative(s),u={x:F.x+m.x,y:F.y+m.y};a[s+1]=X.lli4(F,u,f,c[s+1])}),new e(a))}outline(i,n,o,r){if(n=n===void 0?i:n,this._linear){let U=this.normal(0),I=this.points[0],g=this.points[this.points.length-1],G,L,W;o===void 0&&(o=i,r=n),G={x:I.x+U.x*i,y:I.y+U.y*i},W={x:g.x+U.x*o,y:g.y+U.y*o},L={x:(G.x+W.x)/2,y:(G.y+W.y)/2};let O=[G,L,W];G={x:I.x-U.x*n,y:I.y-U.y*n},W={x:g.x-U.x*r,y:g.y-U.y*r},L={x:(G.x+W.x)/2,y:(G.y+W.y)/2};let w=[W,L,G],R=X.makeline(w[2],O[0]),p=X.makeline(O[2],w[0]),J=[R,new e(O),p,new e(w)];return new ct(J)}let c=this.reduce(),l=c.length,Q=[],b=[],a,f=0,s=this.length(),F=typeof o<"u"&&typeof r<"u";function m(U,I,g,G,L){return function(W){let O=G/g,w=(G+L)/g,R=I-U;return X.map(W,0,1,U+O*R,U+w*R)}}c.forEach(function(U){let I=U.length();F?(Q.push(U.scale(m(i,o,s,f,I))),b.push(U.scale(m(-n,-r,s,f,I)))):(Q.push(U.scale(i)),b.push(U.scale(-n))),f+=I}),b=b.map(function(U){return a=U.points,a[3]?U.points=[a[3],a[2],a[1],a[0]]:U.points=[a[2],a[1],a[0]],U}).reverse();let u=Q[0].points[0],Z=Q[l-1].points[Q[l-1].points.length-1],x=b[l-1].points[b[l-1].points.length-1],B=b[0].points[0],y=X.makeline(x,u),h=X.makeline(Z,B),d=[y].concat(Q).concat([h]).concat(b);return new ct(d)}outlineshapes(i,n,o){n=n||i;let r=this.outline(i,n).curves,c=[];for(let l=1,Q=r.length;l<Q/2;l++){let b=X.makeshape(r[l],r[Q-l],o);b.startcap.virtual=l>1,b.endcap.virtual=l<Q/2-1,c.push(b)}return c}intersects(i,n){return i?i.p1&&i.p2?this.lineIntersects(i):(i instanceof e&&(i=i.reduce()),this.curveintersects(this.reduce(),i,n)):this.selfintersects(n)}lineIntersects(i){let n=vc(i.p1.x,i.p2.x),o=vc(i.p1.y,i.p2.y),r=Dc(i.p1.x,i.p2.x),c=Dc(i.p1.y,i.p2.y);return X.roots(this.points,i).filter(l=>{var Q=this.get(l);return X.between(Q.x,n,r)&&X.between(Q.y,o,c)})}selfintersects(i){let n=this.reduce(),o=n.length-2,r=[];for(let c=0,l,Q,b;c<o;c++)Q=n.slice(c,c+1),b=n.slice(c+2),l=this.curveintersects(Q,b,i),r.push(...l);return r}curveintersects(i,n,o){let r=[];i.forEach(function(l){n.forEach(function(Q){l.overlaps(Q)&&r.push({left:l,right:Q})})});let c=[];return r.forEach(function(l){let Q=X.pairiteration(l.left,l.right,o);Q.length>0&&(c=c.concat(Q))}),c}arcs(i){return i=i||.5,this._iterate(i,[])}_error(i,n,o,r){let c=(r-o)/4,l=this.get(o+c),Q=this.get(r-c),b=X.dist(i,n),a=X.dist(i,l),f=X.dist(i,Q);return vt(a-b)+vt(f-b)}_iterate(i,n){let o=0,r=1,c;do{c=0,r=1;let l=this.get(o),Q,b,a,f,s=!1,F=!1,m,u=r,Z=1,x=0;do if(F=s,f=a,u=(o+r)/2,x++,Q=this.get(u),b=this.get(r),a=X.getccenter(l,Q,b),a.interval={start:o,end:r},s=this._error(a,l,o,r)<=i,m=F&&!s,m||(Z=r),s){if(r>=1){if(a.interval.end=Z=1,f=a,r>1){let y={x:a.x+a.r*ts(a.e),y:a.y+a.r*is(a.e)};a.e+=X.angle({x:a.x,y:a.y},y,this.get(1))}break}r=r+(r-o)/2}else r=u;while(!m&&c++<100);if(c>=100)break;f=f||a,n.push(f),o=Z}while(r<1);return n}};function rs(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],b=!0,a=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;b=!1}else for(;!(b=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);b=!0);}catch(f){a=!0,r=f}finally{try{if(!b&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(a)throw r}}return Q}}function cs(e,i){if(e==null)return{};var n={},o=Object.keys(e),r,c;for(c=0;c<o.length;c++)r=o[c],!(i.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ls(e,i){if(e==null)return{};var n=cs(e,i),o,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)o=c[r],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Qs(e,i){return ss(e)||rs(e,i)||Mc(e,i)||ms()}function bs(e){return as(e)||fs(e)||Mc(e)||Fs()}function as(e){if(Array.isArray(e))return sn(e)}function ss(e){if(Array.isArray(e))return e}function fs(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mc(e,i){if(e){if(typeof e=="string")return sn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,i)}}function sn(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function Fs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ms(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bs(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function us(e){var i=Bs(e,"string");return typeof i=="symbol"?i:String(i)}var Ec=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=(i instanceof Array?i.length?i:[void 0]:[i]).map(function(Q){return{keyAccessor:Q,isProp:!(Q instanceof Function)}}),c=e.reduce(function(Q,b){var a=Q,f=b;return r.forEach(function(s,F){var m=s.keyAccessor,u=s.isProp,Z;if(u){var x=f,B=x[m],y=ls(x,[m].map(us));Z=B,f=y}else Z=m(f,F);F+1<r.length?(a.hasOwnProperty(Z)||(a[Z]={}),a=a[Z]):n?(a.hasOwnProperty(Z)||(a[Z]=[]),a[Z].push(f)):a[Z]=f}),Q},{});n instanceof Function&&function Q(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;a===r.length?Object.keys(b).forEach(function(f){return b[f]=n(b[f])}):Object.values(b).forEach(function(f){return Q(f,a+1)})}(c);var l=c;return o&&(l=[],function Q(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===r.length?l.push({keys:a,vals:b}):Object.entries(b).forEach(function(f){var s=Qs(f,2),F=s[0],m=s[1];return Q(m,[].concat(bs(a),[F]))})}(c),i instanceof Array&&i.length===0&&l.length===1&&(l[0].keys=[])),l};function Sc(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e);break}return this}var fn=Symbol("implicit");function Mt(){var e=new it,i=[],n=[],o=fn;function r(c){let l=e.get(c);if(l===void 0){if(o!==fn)return o;e.set(c,l=i.push(c)-1)}return n[l%n.length]}return r.domain=function(c){if(!arguments.length)return i.slice();i=[],e=new it;for(let l of c)e.has(l)||e.set(l,i.push(l)-1);return r},r.range=function(c){return arguments.length?(n=Array.from(c),r):n.slice()},r.unknown=function(c){return arguments.length?(o=c,r):o},r.copy=function(){return Mt(i,n).unknown(o)},Sc.apply(r,arguments),r}function Hc(e){for(var i=e.length/6|0,n=new Array(i),o=0;o<i;)n[o]="#"+e.slice(o*6,++o*6);return n}var Fn=Hc("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function ds(e,i){i===void 0&&(i={});var n=i.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Us=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;ds(Us);function Zs(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],b=!0,a=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;b=!1}else for(;!(b=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);b=!0);}catch(f){a=!0,r=f}finally{try{if(!b&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(a)throw r}}return Q}}function Tc(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function lt(e){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Tc(Object(n),!0).forEach(function(o){Ht(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Bn(e)}function Ht(e,i,n){return i=Cs(i),i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function un(e,i){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},un(e,i)}function xs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(e,i,n){return xs()?Et=Reflect.construct.bind():Et=function(r,c,l){var Q=[null];Q.push.apply(Q,c);var b=Function.bind.apply(r,Q),a=new b;return l&&un(a,l.prototype),a},Et.apply(null,arguments)}function St(e,i){return ps(e)||Zs(e,i)||qc(e,i)||hs()}function fe(e){return Is(e)||gs(e)||qc(e)||ys()}function Is(e){if(Array.isArray(e))return dn(e)}function ps(e){if(Array.isArray(e))return e}function gs(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qc(e,i){if(e){if(typeof e=="string")return dn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,i)}}function dn(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function ys(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gs(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function Cs(e){var i=Gs(e,"string");return typeof i=="symbol"?i:String(i)}var Xs=Mt(Fn);function zc(e,i,n){!i||typeof n!="string"||e.filter(function(o){return!o[n]}).forEach(function(o){o[n]=Xs(i(o))})}function Js(e,i){var n=e.nodes,o=e.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=r.nodeFilter,l=c===void 0?function(){return!0}:c,Q=r.onLoopError,b=Q===void 0?function(m){throw"Invalid DAG structure! Found cycle in node path: ".concat(m.join(" -> "),".")}:Q,a={};n.forEach(function(m){return a[i(m)]={data:m,out:[],depth:-1,skip:!l(m)}}),o.forEach(function(m){var u=m.source,Z=m.target,x=d(u),B=d(Z);if(!a.hasOwnProperty(x))throw"Missing source node with id: ".concat(x);if(!a.hasOwnProperty(B))throw"Missing target node with id: ".concat(B);var y=a[x],h=a[B];y.out.push(h);function d(U){return Bn(U)==="object"?i(U):U}});var f=[];F(Object.values(a));var s=Object.assign.apply(Object,[{}].concat(fe(Object.entries(a).filter(function(m){var u=St(m,2),Z=u[1];return!Z.skip}).map(function(m){var u=St(m,2),Z=u[0],x=u[1];return Ht({},Z,x.depth)}))));return s;function F(m){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=function(){var d=m[B];if(u.indexOf(d)!==-1){var U=[].concat(fe(u.slice(u.indexOf(d))),[d]).map(function(I){return i(I.data)});return f.some(function(I){return I.length===U.length&&I.every(function(g,G){return g===U[G]})})||(f.push(U),b(U)),1}Z>d.depth&&(d.depth=Z,F(d.out,[].concat(fe(u),[d]),Z+(d.skip?0:1)))},B=0,y=m.length;B<y;B++)x()}}var Ws=2,ee=function(i,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},_c=function(i,n){if(!n.isShadow){var o=E(n.linkDirectionalParticles);n.graphData.links.forEach(function(r){var c=Math.round(Math.abs(o(r)));c?r.__photons=fe(Array(c)).map(function(){return{}}):delete r.__photons})}},hi=qi({props:{graphData:{default:{nodes:[],links:[]},onChange:function(i,n){n.engineRunning=!1,_c(i,n)}},dagMode:{onChange:function(i,n){!i&&(n.graphData.nodes||[]).forEach(function(o){return o.fx=o.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(i){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:ee},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:ee},nodeColor:{default:"color",triggerUpdate:!1,onChange:ee},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:ee},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ee},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:ee},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:ee},linkColor:{default:"color",triggerUpdate:!1,onChange:ee},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:ee},linkWidth:{default:1,triggerUpdate:!1,onChange:ee},linkCurvature:{default:0,triggerUpdate:!1,onChange:ee},linkCanvasObject:{triggerUpdate:!1,onChange:ee},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ee},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:ee},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:ee},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:ee},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:_c},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.alphaDecay(i)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.alphaTarget(i)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.velocityDecay(i)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(i,n,o){return o===void 0?i.forceLayout.force(n):(i.forceLayout.force(n,o),this)},d3ReheatSimulation:function(i){return i.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(i){return i.cntTicks=0,i.startTickTime=new Date,i.engineRunning=!0,this},isEngineRunning:function(i){return!!i.engineRunning},tickFrame:function(i){return!i.isShadow&&n(),r(),!i.isShadow&&c(),!i.isShadow&&l(),o(),this;function n(){i.engineRunning&&(++i.cntTicks>i.cooldownTicks||new Date-i.startTickTime>i.cooldownTime||i.d3AlphaMin>0&&i.forceLayout.alpha()<i.d3AlphaMin?(i.engineRunning=!1,i.onEngineStop()):(i.forceLayout.tick(),i.onEngineTick()))}function o(){var Q=E(i.nodeVisibility),b=E(i.nodeVal),a=E(i.nodeColor),f=E(i.nodeCanvasObjectMode),s=i.ctx,F=i.isShadow/i.globalScale,m=i.graphData.nodes.filter(Q);s.save(),m.forEach(function(u){var Z=f(u);if(i.nodeCanvasObject&&(Z==="before"||Z==="replace")&&(i.nodeCanvasObject(u,s,i.globalScale),Z==="replace")){s.restore();return}var x=Math.sqrt(Math.max(0,b(u)||1))*i.nodeRelSize+F;s.beginPath(),s.arc(u.x,u.y,x,0,2*Math.PI,!1),s.fillStyle=a(u)||"rgba(31, 120, 180, 0.92)",s.fill(),i.nodeCanvasObject&&Z==="after"&&i.nodeCanvasObject(u,i.ctx,i.globalScale)}),s.restore()}function r(){var Q=E(i.linkVisibility),b=E(i.linkColor),a=E(i.linkWidth),f=E(i.linkLineDash),s=E(i.linkCurvature),F=E(i.linkCanvasObjectMode),m=i.ctx,u=i.isShadow*2,Z=i.graphData.links.filter(Q);Z.forEach(I);var x=[],B=[],y=Z;if(i.linkCanvasObject){var h=[],d=[];Z.forEach(function(g){return({before:x,after:B,replace:h}[F(g)]||d).push(g)}),y=[].concat(fe(x),B,d),x=x.concat(h)}m.save(),x.forEach(function(g){return i.linkCanvasObject(g,m,i.globalScale)}),m.restore();var U=Ec(y,[b,a,f]);m.save(),Object.entries(U).forEach(function(g){var G=St(g,2),L=G[0],W=G[1],O=!L||L==="undefined"?"rgba(0,0,0,0.15)":L;Object.entries(W).forEach(function(w){var R=St(w,2),p=R[0],J=R[1],C=(p||1)/i.globalScale+u;Object.entries(J).forEach(function(Y){var j=St(Y,2);j[0];var k=j[1],N=f(k[0]);m.beginPath(),k.forEach(function(v){var S=v.source,q=v.target;if(!(!S||!q||!S.hasOwnProperty("x")||!q.hasOwnProperty("x"))){m.moveTo(S.x,S.y);var z=v.__controlPoints;z?m[z.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(m,fe(z).concat([q.x,q.y])):m.lineTo(q.x,q.y)}}),m.strokeStyle=O,m.lineWidth=C,m.setLineDash(N||[]),m.stroke()})})}),m.restore(),m.save(),B.forEach(function(g){return i.linkCanvasObject(g,m,i.globalScale)}),m.restore();function I(g){var G=s(g);if(!G){g.__controlPoints=null;return}var L=g.source,W=g.target;if(!(!L||!W||!L.hasOwnProperty("x")||!W.hasOwnProperty("x"))){var O=Math.sqrt(Math.pow(W.x-L.x,2)+Math.pow(W.y-L.y,2));if(O>0){var w=Math.atan2(W.y-L.y,W.x-L.x),R=O*G,p={x:(L.x+W.x)/2+R*Math.cos(w-Math.PI/2),y:(L.y+W.y)/2+R*Math.sin(w-Math.PI/2)};g.__controlPoints=[p.x,p.y]}else{var J=G*70;g.__controlPoints=[W.x,W.y-J,W.x+J,W.y]}}}}function c(){var Q=1.6,b=.2,a=E(i.linkDirectionalArrowLength),f=E(i.linkDirectionalArrowRelPos),s=E(i.linkVisibility),F=E(i.linkDirectionalArrowColor||i.linkColor),m=E(i.nodeVal),u=i.ctx;u.save(),i.graphData.links.filter(s).forEach(function(Z){var x=a(Z);if(!(!x||x<0)){var B=Z.source,y=Z.target;if(!(!B||!y||!B.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var h=Math.sqrt(Math.max(0,m(B)||1))*i.nodeRelSize,d=Math.sqrt(Math.max(0,m(y)||1))*i.nodeRelSize,U=Math.min(1,Math.max(0,f(Z))),I=F(Z)||"rgba(0,0,0,0.28)",g=x/Q/2,G=Z.__controlPoints&&Et(_e,[B.x,B.y].concat(fe(Z.__controlPoints),[y.x,y.y])),L=G?function(C){return G.get(C)}:function(C){return{x:B.x+(y.x-B.x)*C||0,y:B.y+(y.y-B.y)*C||0}},W=G?G.length():Math.sqrt(Math.pow(y.x-B.x,2)+Math.pow(y.y-B.y,2)),O=h+x+(W-h-d-x)*U,w=L(O/W),R=L((O-x)/W),p=L((O-x*(1-b))/W),J=Math.atan2(w.y-R.y,w.x-R.x)-Math.PI/2;u.beginPath(),u.moveTo(w.x,w.y),u.lineTo(R.x+g*Math.cos(J),R.y+g*Math.sin(J)),u.lineTo(p.x,p.y),u.lineTo(R.x-g*Math.cos(J),R.y-g*Math.sin(J)),u.fillStyle=I,u.fill()}}}),u.restore()}function l(){var Q=E(i.linkDirectionalParticles),b=E(i.linkDirectionalParticleSpeed),a=E(i.linkDirectionalParticleWidth),f=E(i.linkVisibility),s=E(i.linkDirectionalParticleColor||i.linkColor),F=i.ctx;F.save(),i.graphData.links.filter(f).forEach(function(m){var u=Q(m);if(!(!m.hasOwnProperty("__photons")||!m.__photons.length)){var Z=m.source,x=m.target;if(!(!Z||!x||!Z.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var B=b(m),y=m.__photons||[],h=Math.max(0,a(m)/2)/Math.sqrt(i.globalScale),d=s(m)||"rgba(0,0,0,0.28)";F.fillStyle=d;var U=m.__controlPoints?Et(_e,[Z.x,Z.y].concat(fe(m.__controlPoints),[x.x,x.y])):null,I=0,g=!1;y.forEach(function(G){var L=!!G.__singleHop;if(G.hasOwnProperty("__progressRatio")||(G.__progressRatio=L?0:I/u),!L&&I++,G.__progressRatio+=B,G.__progressRatio>=1)if(!L)G.__progressRatio=G.__progressRatio%1;else{g=!0;return}var W=G.__progressRatio,O=U?U.get(W):{x:Z.x+(x.x-Z.x)*W||0,y:Z.y+(x.y-Z.y)*W||0};F.beginPath(),F.arc(O.x,O.y,h,0,2*Math.PI,!1),F.fill()}),g&&(m.__photons=m.__photons.filter(function(G){return!G.__singleHop||G.__progressRatio<=1}))}}}),F.restore()}},emitParticle:function(i,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:cn().force("link",on()).force("charge",ln()).force("center",$i()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(i,n){n.ctx=i},update:function(i){i.engineRunning=!1,i.onUpdate(),i.nodeAutoColorBy!==null&&zc(i.graphData.nodes,E(i.nodeAutoColorBy),i.nodeColor),i.linkAutoColorBy!==null&&zc(i.graphData.links,E(i.linkAutoColorBy),i.linkColor),i.graphData.links.forEach(function(f){f.source=f[i.linkSource],f.target=f[i.linkTarget]}),i.forceLayout.stop().alpha(1).nodes(i.graphData.nodes);var n=i.forceLayout.force("link");n&&n.id(function(f){return f[i.nodeId]}).links(i.graphData.links);var o=i.dagMode&&Js(i.graphData,function(f){return f[i.nodeId]},{nodeFilter:i.dagNodeFilter,onLoopError:i.onDagError||void 0}),r=Math.max.apply(Math,fe(Object.values(o||[]))),c=i.dagLevelDistance||i.graphData.nodes.length/(r||1)*Ws*(["radialin","radialout"].indexOf(i.dagMode)!==-1?.7:1);if(i.dagMode){var l=function(s,F){return function(m){return s?(o[m[i.nodeId]]-r/2)*c*(F?-1:1):void 0}},Q=l(["lr","rl"].indexOf(i.dagMode)!==-1,i.dagMode==="rl"),b=l(["td","bu"].indexOf(i.dagMode)!==-1,i.dagMode==="bu");i.graphData.nodes.filter(i.dagNodeFilter).forEach(function(f){f.fx=Q(f),f.fy=b(f)})}i.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(i.dagMode)!==-1?Qn(function(f){var s=o[f[i.nodeId]]||-1;return(i.dagMode==="radialin"?r-s:s)*c}).strength(function(f){return i.dagNodeFilter(f)?1:0}):null);for(var a=0;a<i.warmupTicks&&!(i.d3AlphaMin>0&&i.forceLayout.alpha()<i.d3AlphaMin);a++)i.forceLayout.tick();this.resetCountdown(),i.onFinishUpdate()}});function Pc(e,i){var n=e instanceof Array?e:[e],o=new i;return o._destructor&&o._destructor(),{linkProp:function(c){return{default:o[c](),onChange:function(Q,b){n.forEach(function(a){return b[a][c](Q)})},triggerUpdate:!1}},linkMethod:function(c){return function(l){for(var Q=arguments.length,b=new Array(Q>1?Q-1:0),a=1;a<Q;a++)b[a-1]=arguments[a];var f=[];return n.forEach(function(s){var F=l[s],m=F[c].apply(F,b);m!==F&&f.push(m)}),f.length?f[0]:this}}}}var Ls=800,Ys=4,Kc=Pc("forceGraph",hi),Vs=Pc(["forceGraph","shadowGraph"],hi),Os=Object.assign.apply(Object,fe(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Ht({},e,Kc.linkProp(e))})).concat(fe(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Ht({},e,Vs.linkProp(e))})))),ws=Object.assign.apply(Object,fe(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Ht({},e,Kc.linkMethod(e))})));function mn(e){if(e.canvas){var i=e.canvas.width,n=e.canvas.height;i===300&&n===150&&(i=n=0);var o=window.devicePixelRatio;i/=o,n/=o,[e.canvas,e.shadowCanvas].forEach(function(c){c.style.width="".concat(e.width,"px"),c.style.height="".concat(e.height,"px"),c.width=e.width*o,c.height=e.height*o,!i&&!n&&c.getContext("2d").scale(o,o)});var r=re(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-i)/2/r,(e.height-n)/2/r),e.needsRedraw=!0}}function $c(e){var i=window.devicePixelRatio;e.setTransform(i,0,0,i,0,0)}function Ac(e,i,n){e.save(),$c(e),e.clearRect(0,0,i,n),e.restore()}var el=qi({props:lt({width:{default:window.innerWidth,onChange:function(i,n){return mn(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(i,n){return mn(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(i,n){[{type:"Node",objs:i.nodes},{type:"Link",objs:i.links}].forEach(o),n.forceGraph.graphData(i),n.shadowGraph.graphData(i);function o(r){var c=r.type,l=r.objs;l.filter(function(Q){if(!Q.hasOwnProperty("__indexColor"))return!0;var b=n.colorTracker.lookup(Q.__indexColor);return!b||!b.hasOwnProperty("d")||b.d!==Q}).forEach(function(Q){Q.__indexColor=n.colorTracker.register({type:c,d:Q})})}},triggerUpdate:!1},backgroundColor:{onChange:function(i,n){n.canvas&&i&&(n.canvas.style.background=i)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(i,n){n.shadowGraph.nodeCanvasObject(i?function(o,r,c){return i(o,o.__indexColor,r,c)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(i,n){n.shadowGraph.linkCanvasObject(i?function(o,r,c){return i(o,o.__indexColor,r,c)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(i,n){n.zoom.scaleExtent([i,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(i,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],i])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(i,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Os),aliases:{stopAnimation:"pauseAnimation"},methods:lt({graph2ScreenCoords:function(i,n,o){var r=re(i.canvas);return{x:n*r.k+r.x,y:o*r.k+r.y}},screen2GraphCoords:function(i,n,o){var r=re(i.canvas);return{x:(n-r.x)/r.k,y:(o-r.y)/r.k}},centerAt:function(i,n,o,r){if(!i.canvas)return null;if(n!==void 0||o!==void 0){var c=Object.assign({},n!==void 0?{x:n}:{},o!==void 0?{y:o}:{});return r?new Ai(l()).to(c,r).easing(je.Quadratic.Out).onUpdate(Q).start():Q(c),this}return l();function l(){var b=re(i.canvas);return{x:(i.width/2-b.x)/b.k,y:(i.height/2-b.y)/b.k}}function Q(b){var a=b.x,f=b.y;i.zoom.translateTo(i.zoom.__baseElem,a===void 0?l().x:a,f===void 0?l().y:f),i.needsRedraw=!0}},zoom:function(i,n,o){if(!i.canvas)return null;if(n!==void 0)return o?new Ai({k:r()}).to({k:n},o).easing(je.Quadratic.Out).onUpdate(function(l){var Q=l.k;return c(Q)}).start():c(n),this;return r();function r(){return re(i.canvas).k}function c(l){i.zoom.scaleTo(i.zoom.__baseElem,l),i.needsRedraw=!0}},zoomToFit:function(i){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length,c=new Array(r>3?r-3:0),l=3;l<r;l++)c[l-3]=arguments[l];var Q=this.getGraphBbox.apply(this,c);if(Q){var b={x:(Q.x[0]+Q.x[1])/2,y:(Q.y[0]+Q.y[1])/2},a=Math.max(1e-12,Math.min(1e12,(i.width-o*2)/(Q.x[1]-Q.x[0]),(i.height-o*2)/(Q.y[1]-Q.y[0])));this.centerAt(b.x,b.y,n),this.zoom(a,n)}return this},getGraphBbox:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=E(i.nodeVal),r=function(Q){return Math.sqrt(Math.max(0,o(Q)||1))*i.nodeRelSize},c=i.graphData.nodes.filter(n).map(function(l){return{x:l.x,y:l.y,r:r(l)}});return c.length?{x:[Jt(c,function(l){return l.x-l.r}),Xt(c,function(l){return l.x+l.r})],y:[Jt(c,function(l){return l.y-l.r}),Xt(c,function(l){return l.y+l.r})]}:null},pauseAnimation:function(i){return i.animationFrameRequestId&&(cancelAnimationFrame(i.animationFrameRequestId),i.animationFrameRequestId=null),this},resumeAnimation:function(i){return i.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},ws),stateInit:function(){return{lastSetZoom:1,zoom:Hi(),forceGraph:new hi,shadowGraph:new hi().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Or}},init:function(i,n){var o=this;i.innerHTML="";var r=document.createElement("div");r.classList.add("force-graph-container"),r.style.position="relative",i.appendChild(r),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),r.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var c=n.canvas.getContext("2d"),l=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),Q={x:-1e12,y:-1e12},b=function(){var F=null,m=window.devicePixelRatio,u=Q.x>0&&Q.y>0?l.getImageData(Q.x*m,Q.y*m,1,1):null;return u&&(F=n.colorTracker.lookup(u.data)),F};K(n.canvas).call(Li().subject(function(){if(!n.enableNodeDrag)return null;var s=b();return s&&s.type==="Node"?s.d:null}).on("start",function(s){var F=s.subject;F.__initialDragPos={x:F.x,y:F.y,fx:F.fx,fy:F.fy},s.active||(F.fx=F.x,F.fy=F.y),n.canvas.classList.add("grabbable")}).on("drag",function(s){var F=s.subject,m=F.__initialDragPos,u=s,Z=re(n.canvas).k,x={x:m.x+(u.x-m.x)/Z-F.x,y:m.y+(u.y-m.y)/Z-F.y};["x","y"].forEach(function(B){return F["f".concat(B)]=F[B]=m[B]+(u[B]-m[B])/Z}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,F.__dragged=!0,n.onNodeDrag(F,x)}).on("end",function(s){var F=s.subject,m=F.__initialDragPos,u={x:F.x-m.x,y:F.y-m.y};m.fx===void 0&&(F.fx=void 0),m.fy===void 0&&(F.fy=void 0),delete F.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,F.__dragged&&(delete F.__dragged,n.onNodeDragEnd(F,u))})),n.zoom(n.zoom.__baseElem=K(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(s){return!s.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||s.type!=="wheel")&&(n.enablePanInteraction||s.type==="wheel")}).on("zoom",function(s){var F=s.transform;[c,l].forEach(function(m){$c(m),m.translate(F.x,F.y),m.scale(F.k,F.k)}),n.onZoom&&n.onZoom(lt(lt({},F),o.centerAt())),n.needsRedraw=!0}).on("end",function(s){return n.onZoomEnd&&n.onZoomEnd(lt(lt({},s.transform),o.centerAt()))}),mn(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){re(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=Ys/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var a=document.createElement("div");a.classList.add("graph-tooltip"),r.appendChild(a),["pointermove","pointerdown"].forEach(function(s){return r.addEventListener(s,function(F){s==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=F),!n.isPointerDragging&&F.type==="pointermove"&&n.onBackgroundClick&&(F.pressure>0||n.isPointerPressed)&&(F.pointerType!=="touch"||F.movementX===void 0||[F.movementX,F.movementY].some(function(Z){return Math.abs(Z)>1}))&&(n.isPointerDragging=!0);var m=u(r);Q.x=F.pageX-m.left,Q.y=F.pageY-m.top,a.style.top="".concat(Q.y,"px"),a.style.left="".concat(Q.x,"px"),a.style.transform="translate(-".concat(Q.x/n.width*100,"%, ").concat(n.height-Q.y<100?"calc(-100% - 8px)":"21px",")");function u(Z){var x=Z.getBoundingClientRect(),B=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop;return{top:x.top+y,left:x.left+B}}},{passive:!0})}),r.addEventListener("pointerup",function(s){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var F=[s,n.pointerDownEvent];requestAnimationFrame(function(){if(s.button===0)if(n.hoverObj){var m=n["on".concat(n.hoverObj.type,"Click")];m&&m.apply(void 0,[n.hoverObj.d].concat(F))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,F);if(s.button===2)if(n.hoverObj){var u=n["on".concat(n.hoverObj.type,"RightClick")];u&&u.apply(void 0,[n.hoverObj.d].concat(F))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,F)})},{passive:!0}),r.addEventListener("contextmenu",function(s){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(s.preventDefault(),!1)}),n.forceGraph(c),n.shadowGraph(l);var f=zi(function(){Ac(l,n.width,n.height),n.shadowGraph.linkWidth(function(F){return E(n.linkWidth)(F)+n.linkHoverPrecision});var s=re(n.canvas);n.shadowGraph.globalScale(s.k).tickFrame()},Ls);n.flushShadowCanvas=f.flush,(this._animationCycle=function s(){var F=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(U){return U.__photons&&U.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var m=n.isPointerDragging?null:b();if(m!==n.hoverObj){var u=n.hoverObj,Z=u?u.type:null,x=m?m.type:null;if(Z&&Z!==x){var B=n["on".concat(Z,"Hover")];B&&B(null,u.d)}if(x){var y=n["on".concat(x,"Hover")];y&&y(m.d,Z===x?u.d:null)}var h=m&&E(n["".concat(m.type.toLowerCase(),"Label")])(m.d)||"";a.style.visibility=h?"visible":"hidden",a.innerHTML=h,n.canvas.classList[m&&n["on".concat(x,"Click")]||!m&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=m}F&&f()}if(F){Ac(c,n.width,n.height);var d=re(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(c,d),n.forceGraph.globalScale(d).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(c,d)}xr(),n.animationFrameRequestId=requestAnimationFrame(s)})()},update:function(i){}});console.info("Bridgetown is loaded!");window.$graph=el;})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=/_bridgetown/static/frontend/javascript/index.RG5NBR6J.js.map
