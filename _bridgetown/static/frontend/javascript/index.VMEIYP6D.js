(()=>{var tl=Object.defineProperty;var il=(e,i,n)=>i in e?tl(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;var Be=(e,i,n)=>(il(e,typeof i!="symbol"?i+"":i,n),n);var M=class M extends HTMLElement{constructor(){super(),this.ready=new Promise(i=>{this.readyResolve=i})}static getParents(i,n=!1){let o=[];for(;i;){if(i.matches&&i.matches(M.tagName)){if(n&&i===n)break;ve.hasConditions(i)&&o.push(i)}i=i.parentNode}return o}static async ready(i,n){if(n||(n=M.getParents(i)),n.length===0)return;let o=await Promise.all(n.map(r=>r.wait()));if(o.length)return o[0]}forceFallback(){window.Island&&Object.assign(M.fallback,window.Island.fallback);for(let i in M.fallback){let n=Array.from(this.querySelectorAll(i)).reverse();for(let o of n){if(!o.isConnected)continue;let r=M.getParents(o);if(r.length===1){let c=M.ready(o,r);M.fallback[i](c,o,M.prefix)}}}}wait(){return this.ready}async connectedCallback(){ve.hasConditions(this)&&this.forceFallback(),await this.hydrate()}getTemplates(){return this.querySelectorAll(`template[${M.attr.template}]`)}replaceTemplates(i){for(let n of i){if(M.getParents(n,this).length>0)continue;let o=n.getAttribute(M.attr.template);if(o==="replace"){let r=Array.from(this.childNodes);for(let c of r)this.removeChild(c);this.appendChild(n.content);break}else{let r=n.innerHTML;if(o==="once"&&r){if(M.onceCache.has(r)){n.remove();return}M.onceCache.set(r,!0)}n.replaceWith(n.content)}}}async hydrate(){let i=[];this.parentNode&&i.push(M.ready(this.parentNode));let n=ve.getConditions(this);for(let o in n)ve.map[o]&&i.push(ve.map[o](n[o],this));await Promise.all(i),this.replaceTemplates(this.getTemplates());for(let o of M.onReady.values())await o.call(this,M);this.readyResolve(),this.setAttribute(M.attr.ready,""),this.querySelectorAll(`[${M.attr.defer}]`).forEach(o=>o.removeAttribute(M.attr.defer))}};Be(M,"tagName","is-land"),Be(M,"prefix","is-land--"),Be(M,"attr",{template:"data-island",ready:"ready",defer:"defer-hydration"}),Be(M,"onceCache",new Map),Be(M,"onReady",new Map),Be(M,"fallback",{":not(is-land,:defined,[defer-hydration])":(i,n,o)=>{let r=document.createElement(o+n.localName);for(let l of n.getAttributeNames())r.setAttribute(l,n.getAttribute(l));let c=n.shadowRoot;if(!c){let l=n.querySelector(":scope > template:is([shadowrootmode], [shadowroot])");if(l){let Q=l.getAttribute("shadowrootmode")||l.getAttribute("shadowroot")||"closed";c=n.attachShadow({mode:Q}),c.appendChild(l.content.cloneNode(!0))}}return c&&r.attachShadow({mode:c.mode}).append(...c.childNodes),r.append(...n.childNodes),n.replaceWith(r),i.then(()=>{r.shadowRoot&&n.shadowRoot.append(...r.shadowRoot.childNodes),n.append(...r.childNodes),r.replaceWith(n)})}});var Ae=M,Ie=class Ie{static hasConditions(i){return Object.keys(Ie.getConditions(i)).length>0}static getConditions(i){let n={};for(let o of Object.keys(Ie.map))i.hasAttribute(`on:${o}`)&&(n[o]=i.getAttribute(`on:${o}`));return n}static visible(i,n){if("IntersectionObserver"in window)return new Promise(o=>{let r=new IntersectionObserver(c=>{let[l]=c;l.isIntersecting&&(r.unobserve(l.target),o())});r.observe(n)})}static idle(){let i=new Promise(n=>{document.readyState!=="complete"?window.addEventListener("load",()=>n(),{once:!0}):n()});return"requestIdleCallback"in window?Promise.all([new Promise(n=>{requestIdleCallback(()=>{n()})}),i]):i}static interaction(i,n){let o=["click","touchstart"];return i&&(o=(i||"").split(",").map(r=>r.trim())),new Promise(r=>{function c(l){r();for(let Q of o)n.removeEventListener(Q,c)}for(let l of o)n.addEventListener(l,c,{once:!0})})}static media(i){let n={matches:!0};if(i&&"matchMedia"in window&&(n=window.matchMedia(i)),!n.matches)return new Promise(o=>{n.addListener(r=>{r.matches&&o()})})}static saveData(i){if(!(!("connection"in navigator)||navigator.connection.saveData===(i!=="false")))return new Promise(()=>{})}};Be(Ie,"map",{visible:Ie.visible,idle:Ie.idle,interaction:Ie.interaction,media:Ie.media,"save-data":Ie.saveData});var ve=Ie;"customElements"in window&&(window.customElements.define(Ae.tagName,Ae),window.Island=Ae);var va=Ae.ready;var Ne=class{};Be(Ne,"attr",{autoInitType:"autoinit",import:"import"}),Be(Ne,"types",{"petite-vue":function(i){i.createApp().mount(this)},vue:function(i){i.createApp().mount(this)},svelte:function(i){new i.default({target:this})},"svelte-ssr":function(i){new i.default({target:this,hydrate:!0})},preact:function(i){i.default(this)}});Island.onReady.set("import-autoinit",async function(e){let i,n=this.getAttribute(Ne.attr.import);if(n&&(i=await import(n)),i){let o=Ne.types[this.getAttribute(Ne.attr.autoInitType)||n];o&&await o.call(this,i)}});var zt="http://www.w3.org/1999/xhtml",Ci={svg:"http://www.w3.org/2000/svg",xhtml:zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ge(e){var i=e+="",n=i.indexOf(":");return n>=0&&(i=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ci.hasOwnProperty(i)?{space:Ci[i],local:e}:e}function nl(e){return function(){var i=this.ownerDocument,n=this.namespaceURI;return n===zt&&i.documentElement.namespaceURI===zt?i.createElement(e):i.createElementNS(n,e)}}function ol(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tt(e){var i=Ge(e);return(i.local?ol:nl)(i)}function rl(){}function De(e){return e==null?rl:function(){return this.querySelector(e)}}function Zn(e){typeof e!="function"&&(e=De(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=new Array(l),s,b,f=0;f<l;++f)(s=c[f])&&(b=e.call(s,s.__data__,f,c))&&("__data__"in s&&(b.__data__=s.__data__),Q[f]=b);return new z(o,this._parents)}function Wi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cl(){return[]}function Qt(e){return e==null?cl:function(){return this.querySelectorAll(e)}}function ll(e){return function(){return Wi(e.apply(this,arguments))}}function Un(e){typeof e=="function"?e=ll(e):e=Qt(e);for(var i=this._groups,n=i.length,o=[],r=[],c=0;c<n;++c)for(var l=i[c],Q=l.length,s,b=0;b<Q;++b)(s=l[b])&&(o.push(e.call(s,s.__data__,b,l)),r.push(s));return new z(o,r)}function st(e){return function(){return this.matches(e)}}function _t(e){return function(i){return i.matches(e)}}var Ql=Array.prototype.find;function sl(e){return function(){return Ql.call(this.children,e)}}function bl(){return this.firstElementChild}function xn(e){return this.select(e==null?bl:sl(typeof e=="function"?e:_t(e)))}var al=Array.prototype.filter;function fl(){return Array.from(this.children)}function ml(e){return function(){return al.call(this.children,e)}}function In(e){return this.selectAll(e==null?fl:ml(typeof e=="function"?e:_t(e)))}function pn(e){typeof e!="function"&&(e=st(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=[],s,b=0;b<l;++b)(s=c[b])&&e.call(s,s.__data__,b,c)&&Q.push(s);return new z(o,this._parents)}function At(e){return new Array(e.length)}function gn(){return new z(this._enter||this._groups.map(At),this._parents)}function bt(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}bt.prototype={constructor:bt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yn(e){return function(){return e}}function Fl(e,i,n,o,r,c){for(var l=0,Q,s=i.length,b=c.length;l<b;++l)(Q=i[l])?(Q.__data__=c[l],o[l]=Q):n[l]=new bt(e,c[l]);for(;l<s;++l)(Q=i[l])&&(r[l]=Q)}function Bl(e,i,n,o,r,c,l){var Q,s,b=new Map,f=i.length,a=c.length,m=new Array(f),F;for(Q=0;Q<f;++Q)(s=i[Q])&&(m[Q]=F=l.call(s,s.__data__,Q,i)+"",b.has(F)?r[Q]=s:b.set(F,s));for(Q=0;Q<a;++Q)F=l.call(e,c[Q],Q,c)+"",(s=b.get(F))?(o[Q]=s,s.__data__=c[Q],b.delete(F)):n[Q]=new bt(e,c[Q]);for(Q=0;Q<f;++Q)(s=i[Q])&&b.get(m[Q])===s&&(r[Q]=s)}function ul(e){return e.__data__}function hn(e,i){if(!arguments.length)return Array.from(this,ul);var n=i?Bl:Fl,o=this._parents,r=this._groups;typeof e!="function"&&(e=yn(e));for(var c=r.length,l=new Array(c),Q=new Array(c),s=new Array(c),b=0;b<c;++b){var f=o[b],a=r[b],m=a.length,F=dl(e.call(f,f&&f.__data__,b,o)),u=F.length,U=Q[b]=new Array(u),x=l[b]=new Array(u),B=s[b]=new Array(m);n(f,a,U,x,B,F,i);for(var y=0,h=0,d,Z;y<u;++y)if(d=U[y]){for(y>=h&&(h=y+1);!(Z=x[h])&&++h<u;);d._next=Z||null}}return l=new z(l,o),l._enter=Q,l._exit=s,l}function dl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gn(){return new z(this._exit||this._groups.map(At),this._parents)}function Cn(e,i,n){var o=this.enter(),r=this,c=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),i!=null&&(r=i(r),r&&(r=r.selection())),n==null?c.remove():n(c),o&&r?o.merge(r).order():r}function Wn(e){for(var i=e.selection?e.selection():e,n=this._groups,o=i._groups,r=n.length,c=o.length,l=Math.min(r,c),Q=new Array(r),s=0;s<l;++s)for(var b=n[s],f=o[s],a=b.length,m=Q[s]=new Array(a),F,u=0;u<a;++u)(F=b[u]||f[u])&&(m[u]=F);for(;s<r;++s)Q[s]=n[s];return new z(Q,this._parents)}function Xn(){for(var e=this._groups,i=-1,n=e.length;++i<n;)for(var o=e[i],r=o.length-1,c=o[r],l;--r>=0;)(l=o[r])&&(c&&l.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(l,c),c=l);return this}function Jn(e){e||(e=Zl);function i(a,m){return a&&m?e(a.__data__,m.__data__):!a-!m}for(var n=this._groups,o=n.length,r=new Array(o),c=0;c<o;++c){for(var l=n[c],Q=l.length,s=r[c]=new Array(Q),b,f=0;f<Q;++f)(b=l[f])&&(s[f]=b);s.sort(i)}return new z(r,this._parents).order()}function Zl(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function Ln(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yn(){return Array.from(this)}function On(){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,c=o.length;r<c;++r){var l=o[r];if(l)return l}return null}function Vn(){let e=0;for(let i of this)++e;return e}function jn(){return!this.node()}function wn(e){for(var i=this._groups,n=0,o=i.length;n<o;++n)for(var r=i[n],c=0,l=r.length,Q;c<l;++c)(Q=r[c])&&e.call(Q,Q.__data__,c,r);return this}function Ul(e){return function(){this.removeAttribute(e)}}function xl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Il(e,i){return function(){this.setAttribute(e,i)}}function pl(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function gl(e,i){return function(){var n=i.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yl(e,i){return function(){var n=i.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function kn(e,i){var n=Ge(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((i==null?n.local?xl:Ul:typeof i=="function"?n.local?yl:gl:n.local?pl:Il)(n,i))}function qt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hl(e){return function(){this.style.removeProperty(e)}}function Gl(e,i,n){return function(){this.style.setProperty(e,i,n)}}function Cl(e,i,n){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Rn(e,i,n){return arguments.length>1?this.each((i==null?hl:typeof i=="function"?Cl:Gl)(e,i,n??"")):Ye(this.node(),e)}function Ye(e,i){return e.style.getPropertyValue(i)||qt(e).getComputedStyle(e,null).getPropertyValue(i)}function Wl(e){return function(){delete this[e]}}function Xl(e,i){return function(){this[e]=i}}function Jl(e,i){return function(){var n=i.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function vn(e,i){return arguments.length>1?this.each((i==null?Wl:typeof i=="function"?Jl:Xl)(e,i)):this.node()[e]}function Nn(e){return e.trim().split(/^|\s+/)}function Xi(e){return e.classList||new Dn(e)}function Dn(e){this._node=e,this._names=Nn(e.getAttribute("class")||"")}Dn.prototype={add:function(e){var i=this._names.indexOf(e);i<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mn(e,i){for(var n=Xi(e),o=-1,r=i.length;++o<r;)n.add(i[o])}function En(e,i){for(var n=Xi(e),o=-1,r=i.length;++o<r;)n.remove(i[o])}function Ll(e){return function(){Mn(this,e)}}function Yl(e){return function(){En(this,e)}}function Ol(e,i){return function(){(i.apply(this,arguments)?Mn:En)(this,e)}}function Sn(e,i){var n=Nn(e+"");if(arguments.length<2){for(var o=Xi(this.node()),r=-1,c=n.length;++r<c;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof i=="function"?Ol:i?Ll:Yl)(n,i))}function Vl(){this.textContent=""}function jl(e){return function(){this.textContent=e}}function wl(e){return function(){var i=e.apply(this,arguments);this.textContent=i??""}}function Hn(e){return arguments.length?this.each(e==null?Vl:(typeof e=="function"?wl:jl)(e)):this.node().textContent}function kl(){this.innerHTML=""}function Rl(e){return function(){this.innerHTML=e}}function vl(e){return function(){var i=e.apply(this,arguments);this.innerHTML=i??""}}function zn(e){return arguments.length?this.each(e==null?kl:(typeof e=="function"?vl:Rl)(e)):this.node().innerHTML}function Nl(){this.nextSibling&&this.parentNode.appendChild(this)}function Tn(){return this.each(Nl)}function Dl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _n(){return this.each(Dl)}function An(e){var i=typeof e=="function"?e:Tt(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function Ml(){return null}function qn(e,i){var n=typeof e=="function"?e:Tt(e),o=i==null?Ml:typeof i=="function"?i:De(i);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function El(){var e=this.parentNode;e&&e.removeChild(this)}function Pn(){return this.each(El)}function Sl(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Hl(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Kn(e){return this.select(e?Hl:Sl)}function $n(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zl(e){return function(i){e.call(this,i,this.__data__)}}function Tl(e){return e.trim().split(/^|\s+/).map(function(i){var n="",o=i.indexOf(".");return o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),{type:i,name:n}})}function _l(e){return function(){var i=this.__on;if(i){for(var n=0,o=-1,r=i.length,c;n<r;++n)c=i[n],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):i[++o]=c;++o?i.length=o:delete this.__on}}}function Al(e,i,n){return function(){var o=this.__on,r,c=zl(i);if(o){for(var l=0,Q=o.length;l<Q;++l)if((r=o[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=c,r.options=n),r.value=i;return}}this.addEventListener(e.type,c,n),r={type:e.type,name:e.name,value:i,listener:c,options:n},o?o.push(r):this.__on=[r]}}function eo(e,i,n){var o=Tl(e+""),r,c=o.length,l;if(arguments.length<2){var Q=this.node().__on;if(Q){for(var s=0,b=Q.length,f;s<b;++s)for(r=0,f=Q[s];r<c;++r)if((l=o[r]).type===f.type&&l.name===f.name)return f.value}return}for(Q=i?Al:_l,r=0;r<c;++r)this.each(Q(o[r],i,n));return this}function to(e,i,n){var o=qt(e),r=o.CustomEvent;typeof r=="function"?r=new r(i,n):(r=o.document.createEvent("Event"),n?(r.initEvent(i,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(i,!1,!1)),e.dispatchEvent(r)}function ql(e,i){return function(){return to(this,e,i)}}function Pl(e,i){return function(){return to(this,e,i.apply(this,arguments))}}function io(e,i){return this.each((typeof i=="function"?Pl:ql)(e,i))}function*no(){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,c=o.length,l;r<c;++r)(l=o[r])&&(yield l)}var Ji=[null];function z(e,i){this._groups=e,this._parents=i}function oo(){return new z([[document.documentElement]],Ji)}function Kl(){return this}z.prototype=oo.prototype={constructor:z,select:Zn,selectAll:Un,selectChild:xn,selectChildren:In,filter:pn,data:hn,enter:gn,exit:Gn,join:Cn,merge:Wn,selection:Kl,order:Xn,sort:Jn,call:Ln,nodes:Yn,node:On,size:Vn,empty:jn,each:wn,attr:kn,style:Rn,property:vn,classed:Sn,text:Hn,html:zn,raise:Tn,lower:_n,append:An,insert:qn,remove:Pn,clone:Kn,datum:$n,on:eo,dispatch:io,[Symbol.iterator]:no};var Ce=oo;function K(e){return typeof e=="string"?new z([[document.querySelector(e)]],[document.documentElement]):new z([[e]],Ji)}function ro(e){let i;for(;i=e.sourceEvent;)e=i;return e}function le(e,i){if(e=ro(e),i===void 0&&(i=e.currentTarget),i){var n=i.ownerSVGElement||i;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var r=i.getBoundingClientRect();return[e.clientX-r.left-i.clientLeft,e.clientY-r.top-i.clientTop]}}return[e.pageX,e.pageY]}var $l={value:()=>{}};function lo(){for(var e=0,i=arguments.length,n={},o;e<i;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Pt(n)}function Pt(e){this._=e}function eQ(e,i){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!i.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Pt.prototype=lo.prototype={constructor:Pt,on:function(e,i){var n=this._,o=eQ(e+"",n),r,c=-1,l=o.length;if(arguments.length<2){for(;++c<l;)if((r=(e=o[c]).type)&&(r=tQ(n[r],e.name)))return r;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++c<l;)if(r=(e=o[c]).type)n[r]=co(n[r],e.name,i);else if(i==null)for(r in n)n[r]=co(n[r],e.name,null);return this},copy:function(){var e={},i=this._;for(var n in i)e[n]=i[n].slice();return new Pt(e)},call:function(e,i){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,c;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],o=0,r=c.length;o<r;++o)c[o].value.apply(i,n)},apply:function(e,i,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,c=o.length;r<c;++r)o[r].value.apply(i,n)}};function tQ(e,i){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===i)return r.value}function co(e,i,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===i){e[o]=$l,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:i,value:n}),e}var We=lo;var Qo={passive:!1},Me={capture:!0,passive:!1};function Kt(e){e.stopImmediatePropagation()}function Oe(e){e.preventDefault(),e.stopImmediatePropagation()}function at(e){var i=e.document.documentElement,n=K(e).on("dragstart.drag",Oe,Me);"onselectstart"in i?n.on("selectstart.drag",Oe,Me):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function ft(e,i){var n=e.document.documentElement,o=K(e).on("dragstart.drag",null);i&&(o.on("click.drag",Oe,Me),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var mt=e=>()=>e;function Ft(e,{sourceEvent:i,subject:n,target:o,identifier:r,active:c,x:l,y:Q,dx:s,dy:b,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:Q,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:b,enumerable:!0,configurable:!0},_:{value:f}})}Ft.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function iQ(e){return!e.ctrlKey&&!e.button}function nQ(){return this.parentNode}function oQ(e,i){return i??{x:e.x,y:e.y}}function rQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function Li(){var e=iQ,i=nQ,n=oQ,o=rQ,r={},c=We("start","drag","end"),l=0,Q,s,b,f,a=0;function m(d){d.on("mousedown.drag",F).filter(o).on("touchstart.drag",x).on("touchmove.drag",B,Qo).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function F(d,Z){if(!(f||!e.call(this,d,Z))){var I=h(this,i.call(this,d,Z),d,Z,"mouse");I&&(K(d.view).on("mousemove.drag",u,Me).on("mouseup.drag",U,Me),at(d.view),Kt(d),b=!1,Q=d.clientX,s=d.clientY,I("start",d))}}function u(d){if(Oe(d),!b){var Z=d.clientX-Q,I=d.clientY-s;b=Z*Z+I*I>a}r.mouse("drag",d)}function U(d){K(d.view).on("mousemove.drag mouseup.drag",null),ft(d.view,b),Oe(d),r.mouse("end",d)}function x(d,Z){if(e.call(this,d,Z)){var I=d.changedTouches,g=i.call(this,d,Z),G=I.length,L,J;for(L=0;L<G;++L)(J=h(this,g,d,Z,I[L].identifier,I[L]))&&(Kt(d),J("start",d,I[L]))}}function B(d){var Z=d.changedTouches,I=Z.length,g,G;for(g=0;g<I;++g)(G=r[Z[g].identifier])&&(Oe(d),G("drag",d,Z[g]))}function y(d){var Z=d.changedTouches,I=Z.length,g,G;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),g=0;g<I;++g)(G=r[Z[g].identifier])&&(Kt(d),G("end",d,Z[g]))}function h(d,Z,I,g,G,L){var J=c.copy(),V=le(L||I,Z),j,v,p;if((p=n.call(d,new Ft("beforestart",{sourceEvent:I,target:m,identifier:G,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:J}),g))!=null)return j=p.x-V[0]||0,v=p.y-V[1]||0,function X(C,Y,w){var k=V,R;switch(C){case"start":r[G]=X,R=l++;break;case"end":delete r[G],--l;case"drag":V=le(w||Y,Z),R=l;break}J.call(C,d,new Ft(C,{sourceEvent:Y,subject:p,target:m,identifier:G,active:R,x:V[0]+j,y:V[1]+v,dx:V[0]-k[0],dy:V[1]-k[1],dispatch:J}),g)}}return m.filter=function(d){return arguments.length?(e=typeof d=="function"?d:mt(!!d),m):e},m.container=function(d){return arguments.length?(i=typeof d=="function"?d:mt(d),m):i},m.subject=function(d){return arguments.length?(n=typeof d=="function"?d:mt(d),m):n},m.touchable=function(d){return arguments.length?(o=typeof d=="function"?d:mt(!!d),m):o},m.on=function(){var d=c.on.apply(c,arguments);return d===c?m:d},m.clickDistance=function(d){return arguments.length?(a=(d=+d)*d,m):Math.sqrt(a)},m}function $t(e,i,n){e.prototype=i.prototype=n,n.constructor=e}function Yi(e,i){var n=Object.create(e.prototype);for(var o in i)n[o]=i[o];return n}function dt(){}var Bt=.7,ii=1/Bt,qe="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cQ=/^#([0-9a-f]{3,8})$/,lQ=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),QQ=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),sQ=new RegExp(`^rgba\\(${qe},${qe},${qe},${ut}\\)$`),bQ=new RegExp(`^rgba\\(${pe},${pe},${pe},${ut}\\)$`),aQ=new RegExp(`^hsl\\(${ut},${pe},${pe}\\)$`),fQ=new RegExp(`^hsla\\(${ut},${pe},${pe},${ut}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(dt,Ve,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bo,formatHex:bo,formatHex8:mQ,formatHsl:FQ,formatRgb:ao,toString:ao});function bo(){return this.rgb().formatHex()}function mQ(){return this.rgb().formatHex8()}function FQ(){return Zo(this).formatHsl()}function ao(){return this.rgb().formatRgb()}function Ve(e){var i,n;return e=(e+"").trim().toLowerCase(),(i=cQ.exec(e))?(n=i[1].length,i=parseInt(i[1],16),n===6?fo(i):n===3?new ne(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):n===8?ei(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):n===4?ei(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=lQ.exec(e))?new ne(i[1],i[2],i[3],1):(i=QQ.exec(e))?new ne(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=sQ.exec(e))?ei(i[1],i[2],i[3],i[4]):(i=bQ.exec(e))?ei(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=aQ.exec(e))?Bo(i[1],i[2]/100,i[3]/100,1):(i=fQ.exec(e))?Bo(i[1],i[2]/100,i[3]/100,i[4]):so.hasOwnProperty(e)?fo(so[e]):e==="transparent"?new ne(NaN,NaN,NaN,0):null}function fo(e){return new ne(e>>16&255,e>>8&255,e&255,1)}function ei(e,i,n,o){return o<=0&&(e=i=n=NaN),new ne(e,i,n,o)}function BQ(e){return e instanceof dt||(e=Ve(e)),e?(e=e.rgb(),new ne(e.r,e.g,e.b,e.opacity)):new ne}function Pe(e,i,n,o){return arguments.length===1?BQ(e):new ne(e,i,n,o??1)}function ne(e,i,n,o){this.r=+e,this.g=+i,this.b=+n,this.opacity=+o}$t(ne,Pe,Yi(dt,{brighter(e){return e=e==null?ii:Math.pow(ii,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bt:Math.pow(Bt,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ne(Se(this.r),Se(this.g),Se(this.b),ni(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatHex8:uQ,formatRgb:Fo,toString:Fo}));function mo(){return`#${Ee(this.r)}${Ee(this.g)}${Ee(this.b)}`}function uQ(){return`#${Ee(this.r)}${Ee(this.g)}${Ee(this.b)}${Ee((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fo(){let e=ni(this.opacity);return`${e===1?"rgb(":"rgba("}${Se(this.r)}, ${Se(this.g)}, ${Se(this.b)}${e===1?")":`, ${e})`}`}function ni(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Se(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ee(e){return e=Se(e),(e<16?"0":"")+e.toString(16)}function Bo(e,i,n,o){return o<=0?e=i=n=NaN:n<=0||n>=1?e=i=NaN:i<=0&&(e=NaN),new ue(e,i,n,o)}function Zo(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof dt||(e=Ve(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var i=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(i,n,o),c=Math.max(i,n,o),l=NaN,Q=c-r,s=(c+r)/2;return Q?(i===c?l=(n-o)/Q+(n<o)*6:n===c?l=(o-i)/Q+2:l=(i-n)/Q+4,Q/=s<.5?c+r:2-c-r,l*=60):Q=s>0&&s<1?0:l,new ue(l,Q,s,e.opacity)}function Uo(e,i,n,o){return arguments.length===1?Zo(e):new ue(e,i,n,o??1)}function ue(e,i,n,o){this.h=+e,this.s=+i,this.l=+n,this.opacity=+o}$t(ue,Uo,Yi(dt,{brighter(e){return e=e==null?ii:Math.pow(ii,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bt:Math.pow(Bt,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*i,r=2*n-o;return new ne(Oi(e>=240?e-240:e+120,r,o),Oi(e,r,o),Oi(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ue(uo(this.h),ti(this.s),ti(this.l),ni(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ni(this.opacity);return`${e===1?"hsl(":"hsla("}${uo(this.h)}, ${ti(this.s)*100}%, ${ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uo(e){return e=(e||0)%360,e<0?e+360:e}function ti(e){return Math.max(0,Math.min(1,e||0))}function Oi(e,i,n){return(e<60?i+(n-i)*e/60:e<180?n:e<240?i+(n-i)*(240-e)/60:i)*255}function Vi(e,i,n,o,r){var c=e*e,l=c*e;return((1-3*e+3*c-l)*i+(4-6*c+3*l)*n+(1+3*e+3*c-3*l)*o+l*r)/6}function xo(e){var i=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,i-1):Math.floor(n*i),r=e[o],c=e[o+1],l=o>0?e[o-1]:2*r-c,Q=o<i-1?e[o+2]:2*c-r;return Vi((n-o/i)*i,l,r,c,Q)}}function Io(e){var i=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*i),r=e[(o+i-1)%i],c=e[o%i],l=e[(o+1)%i],Q=e[(o+2)%i];return Vi((n-o/i)*i,r,c,l,Q)}}var ji=e=>()=>e;function dQ(e,i){return function(n){return e+n*i}}function ZQ(e,i,n){return e=Math.pow(e,n),i=Math.pow(i,n)-e,n=1/n,function(o){return Math.pow(e+o*i,n)}}function po(e){return(e=+e)==1?oi:function(i,n){return n-i?ZQ(i,n,e):ji(isNaN(i)?n:i)}}function oi(e,i){var n=i-e;return n?dQ(e,n):ji(isNaN(e)?i:e)}var ri=function e(i){var n=po(i);function o(r,c){var l=n((r=Pe(r)).r,(c=Pe(c)).r),Q=n(r.g,c.g),s=n(r.b,c.b),b=oi(r.opacity,c.opacity);return function(f){return r.r=l(f),r.g=Q(f),r.b=s(f),r.opacity=b(f),r+""}}return o.gamma=e,o}(1);function go(e){return function(i){var n=i.length,o=new Array(n),r=new Array(n),c=new Array(n),l,Q;for(l=0;l<n;++l)Q=Pe(i[l]),o[l]=Q.r||0,r[l]=Q.g||0,c[l]=Q.b||0;return o=e(o),r=e(r),c=e(c),Q.opacity=1,function(s){return Q.r=o(s),Q.g=r(s),Q.b=c(s),Q+""}}}var UQ=go(xo),xQ=go(Io);function Qe(e,i){return e=+e,i=+i,function(n){return e*(1-n)+i*n}}var ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wi=new RegExp(ki.source,"g");function IQ(e){return function(){return e}}function pQ(e){return function(i){return e(i)+""}}function Ri(e,i){var n=ki.lastIndex=wi.lastIndex=0,o,r,c,l=-1,Q=[],s=[];for(e=e+"",i=i+"";(o=ki.exec(e))&&(r=wi.exec(i));)(c=r.index)>n&&(c=i.slice(n,c),Q[l]?Q[l]+=c:Q[++l]=c),(o=o[0])===(r=r[0])?Q[l]?Q[l]+=r:Q[++l]=r:(Q[++l]=null,s.push({i:l,x:Qe(o,r)})),n=wi.lastIndex;return n<i.length&&(c=i.slice(n),Q[l]?Q[l]+=c:Q[++l]=c),Q.length<2?s[0]?pQ(s[0].x):IQ(i):(i=s.length,function(b){for(var f=0,a;f<i;++f)Q[(a=s[f]).i]=a.x(b);return Q.join("")})}var yo=180/Math.PI,ci={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vi(e,i,n,o,r,c){var l,Q,s;return(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l),(s=e*n+i*o)&&(n-=e*s,o-=i*s),(Q=Math.sqrt(n*n+o*o))&&(n/=Q,o/=Q,s/=Q),e*o<i*n&&(e=-e,i=-i,s=-s,l=-l),{translateX:r,translateY:c,rotate:Math.atan2(i,e)*yo,skewX:Math.atan(s)*yo,scaleX:l,scaleY:Q}}var li;function ho(e){let i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?ci:vi(i.a,i.b,i.c,i.d,i.e,i.f)}function Go(e){return e==null?ci:(li||(li=document.createElementNS("http://www.w3.org/2000/svg","g")),li.setAttribute("transform",e),(e=li.transform.baseVal.consolidate())?(e=e.matrix,vi(e.a,e.b,e.c,e.d,e.e,e.f)):ci)}function Co(e,i,n,o){function r(b){return b.length?b.pop()+" ":""}function c(b,f,a,m,F,u){if(b!==a||f!==m){var U=F.push("translate(",null,i,null,n);u.push({i:U-4,x:Qe(b,a)},{i:U-2,x:Qe(f,m)})}else(a||m)&&F.push("translate("+a+i+m+n)}function l(b,f,a,m){b!==f?(b-f>180?f+=360:f-b>180&&(b+=360),m.push({i:a.push(r(a)+"rotate(",null,o)-2,x:Qe(b,f)})):f&&a.push(r(a)+"rotate("+f+o)}function Q(b,f,a,m){b!==f?m.push({i:a.push(r(a)+"skewX(",null,o)-2,x:Qe(b,f)}):f&&a.push(r(a)+"skewX("+f+o)}function s(b,f,a,m,F,u){if(b!==a||f!==m){var U=F.push(r(F)+"scale(",null,",",null,")");u.push({i:U-4,x:Qe(b,a)},{i:U-2,x:Qe(f,m)})}else(a!==1||m!==1)&&F.push(r(F)+"scale("+a+","+m+")")}return function(b,f){var a=[],m=[];return b=e(b),f=e(f),c(b.translateX,b.translateY,f.translateX,f.translateY,a,m),l(b.rotate,f.rotate,a,m),Q(b.skewX,f.skewX,a,m),s(b.scaleX,b.scaleY,f.scaleX,f.scaleY,a,m),b=f=null,function(F){for(var u=-1,U=m.length,x;++u<U;)a[(x=m[u]).i]=x.x(F);return a.join("")}}}var Ni=Co(ho,"px, ","px)","deg)"),Di=Co(Go,", ",")",")");var gQ=1e-12;function Wo(e){return((e=Math.exp(e))+1/e)/2}function yQ(e){return((e=Math.exp(e))-1/e)/2}function hQ(e){return((e=Math.exp(2*e))-1)/(e+1)}var Mi=function e(i,n,o){function r(c,l){var Q=c[0],s=c[1],b=c[2],f=l[0],a=l[1],m=l[2],F=f-Q,u=a-s,U=F*F+u*u,x,B;if(U<gQ)B=Math.log(m/b)/i,x=function(g){return[Q+g*F,s+g*u,b*Math.exp(i*g*B)]};else{var y=Math.sqrt(U),h=(m*m-b*b+o*U)/(2*b*n*y),d=(m*m-b*b-o*U)/(2*m*n*y),Z=Math.log(Math.sqrt(h*h+1)-h),I=Math.log(Math.sqrt(d*d+1)-d);B=(I-Z)/i,x=function(g){var G=g*B,L=Wo(Z),J=b/(n*y)*(L*hQ(i*G+Z)-yQ(Z));return[Q+J*F,s+J*u,b*L/Wo(i*G+Z)]}}return x.duration=B*1e3*i/Math.SQRT2,x}return r.rho=function(c){var l=Math.max(.001,+c),Q=l*l,s=Q*Q;return e(l,Q,s)},r}(Math.SQRT2,2,4);var Ke=0,Ut=0,Zt=0,Jo=1e3,Qi,xt,si=0,He=0,bi=0,It=typeof performance=="object"&&performance.now?performance:Date,Lo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gt(){return He||(Lo(GQ),He=It.now()+bi)}function GQ(){He=0}function pt(){this._call=this._time=this._next=null}pt.prototype=$e.prototype={constructor:pt,restart:function(e,i,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gt():+n)+(i==null?0:+i),!this._next&&xt!==this&&(xt?xt._next=this:Qi=this,xt=this),this._call=e,this._time=n,Ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ei())}};function $e(e,i,n){var o=new pt;return o.restart(e,i,n),o}function Yo(){gt(),++Ke;for(var e=Qi,i;e;)(i=He-e._time)>=0&&e._call.call(void 0,i),e=e._next;--Ke}function Xo(){He=(si=It.now())+bi,Ke=Ut=0;try{Yo()}finally{Ke=0,WQ(),He=0}}function CQ(){var e=It.now(),i=e-si;i>Jo&&(bi-=i,si=e)}function WQ(){for(var e,i=Qi,n,o=1/0;i;)i._call?(o>i._time&&(o=i._time),e=i,i=i._next):(n=i._next,i._next=null,i=e?e._next=n:Qi=n);xt=e,Ei(o)}function Ei(e){if(!Ke){Ut&&(Ut=clearTimeout(Ut));var i=e-He;i>24?(e<1/0&&(Ut=setTimeout(Xo,e-It.now()-bi)),Zt&&(Zt=clearInterval(Zt))):(Zt||(si=It.now(),Zt=setInterval(CQ,Jo)),Ke=1,Lo(Xo))}}function ai(e,i,n){var o=new pt;return i=i==null?0:+i,o.restart(r=>{o.stop(),e(r+i)},i,n),o}var XQ=We("start","end","cancel","interrupt"),JQ=[],jo=0,Oo=1,mi=2,fi=3,Vo=4,Fi=5,yt=6;function je(e,i,n,o,r,c){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;LQ(e,n,{name:i,index:o,group:r,on:XQ,tween:JQ,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:jo})}function ht(e,i){var n=_(e,i);if(n.state>jo)throw new Error("too late; already scheduled");return n}function P(e,i){var n=_(e,i);if(n.state>fi)throw new Error("too late; already running");return n}function _(e,i){var n=e.__transition;if(!n||!(n=n[i]))throw new Error("transition not found");return n}function LQ(e,i,n){var o=e.__transition,r;o[i]=n,n.timer=$e(c,0,n.time);function c(b){n.state=Oo,n.timer.restart(l,n.delay,n.time),n.delay<=b&&l(b-n.delay)}function l(b){var f,a,m,F;if(n.state!==Oo)return s();for(f in o)if(F=o[f],F.name===n.name){if(F.state===fi)return ai(l);F.state===Vo?(F.state=yt,F.timer.stop(),F.on.call("interrupt",e,e.__data__,F.index,F.group),delete o[f]):+f<i&&(F.state=yt,F.timer.stop(),F.on.call("cancel",e,e.__data__,F.index,F.group),delete o[f])}if(ai(function(){n.state===fi&&(n.state=Vo,n.timer.restart(Q,n.delay,n.time),Q(b))}),n.state=mi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===mi){for(n.state=fi,r=new Array(m=n.tween.length),f=0,a=-1;f<m;++f)(F=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++a]=F);r.length=a+1}}function Q(b){for(var f=b<n.duration?n.ease.call(null,b/n.duration):(n.timer.restart(s),n.state=Fi,1),a=-1,m=r.length;++a<m;)r[a].call(e,f);n.state===Fi&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=yt,n.timer.stop(),delete o[i];for(var b in o)return;delete e.__transition}}function ze(e,i){var n=e.__transition,o,r,c=!0,l;if(n){i=i==null?null:i+"";for(l in n){if((o=n[l]).name!==i){c=!1;continue}r=o.state>mi&&o.state<Fi,o.state=yt,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[l]}c&&delete e.__transition}}function wo(e){return this.each(function(){ze(this,e)})}function YQ(e,i){var n,o;return function(){var r=P(this,e),c=r.tween;if(c!==n){o=n=c;for(var l=0,Q=o.length;l<Q;++l)if(o[l].name===i){o=o.slice(),o.splice(l,1);break}}r.tween=o}}function OQ(e,i,n){var o,r;if(typeof n!="function")throw new Error;return function(){var c=P(this,e),l=c.tween;if(l!==o){r=(o=l).slice();for(var Q={name:i,value:n},s=0,b=r.length;s<b;++s)if(r[s].name===i){r[s]=Q;break}s===b&&r.push(Q)}c.tween=r}}function ko(e,i){var n=this._id;if(e+="",arguments.length<2){for(var o=_(this.node(),n).tween,r=0,c=o.length,l;r<c;++r)if((l=o[r]).name===e)return l.value;return null}return this.each((i==null?YQ:OQ)(n,e,i))}function et(e,i,n){var o=e._id;return e.each(function(){var r=P(this,o);(r.value||(r.value={}))[i]=n.apply(this,arguments)}),function(r){return _(r,o).value[i]}}function Bi(e,i){var n;return(typeof i=="number"?Qe:i instanceof Ve?ri:(n=Ve(i))?(i=n,ri):Ri)(e,i)}function VQ(e){return function(){this.removeAttribute(e)}}function jQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wQ(e,i,n){var o,r=n+"",c;return function(){var l=this.getAttribute(e);return l===r?null:l===o?c:c=i(o=l,n)}}function kQ(e,i,n){var o,r=n+"",c;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===o?c:c=i(o=l,n)}}function RQ(e,i,n){var o,r,c;return function(){var l,Q=n(this),s;return Q==null?void this.removeAttribute(e):(l=this.getAttribute(e),s=Q+"",l===s?null:l===o&&s===r?c:(r=s,c=i(o=l,Q)))}}function vQ(e,i,n){var o,r,c;return function(){var l,Q=n(this),s;return Q==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),s=Q+"",l===s?null:l===o&&s===r?c:(r=s,c=i(o=l,Q)))}}function Ro(e,i){var n=Ge(e),o=n==="transform"?Di:Bi;return this.attrTween(e,typeof i=="function"?(n.local?vQ:RQ)(n,o,et(this,"attr."+e,i)):i==null?(n.local?jQ:VQ)(n):(n.local?kQ:wQ)(n,o,i))}function NQ(e,i){return function(n){this.setAttribute(e,i.call(this,n))}}function DQ(e,i){return function(n){this.setAttributeNS(e.space,e.local,i.call(this,n))}}function MQ(e,i){var n,o;function r(){var c=i.apply(this,arguments);return c!==o&&(n=(o=c)&&DQ(e,c)),n}return r._value=i,r}function EQ(e,i){var n,o;function r(){var c=i.apply(this,arguments);return c!==o&&(n=(o=c)&&NQ(e,c)),n}return r._value=i,r}function vo(e,i){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(i==null)return this.tween(n,null);if(typeof i!="function")throw new Error;var o=Ge(e);return this.tween(n,(o.local?MQ:EQ)(o,i))}function SQ(e,i){return function(){ht(this,e).delay=+i.apply(this,arguments)}}function HQ(e,i){return i=+i,function(){ht(this,e).delay=i}}function No(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?SQ:HQ)(i,e)):_(this.node(),i).delay}function zQ(e,i){return function(){P(this,e).duration=+i.apply(this,arguments)}}function TQ(e,i){return i=+i,function(){P(this,e).duration=i}}function Do(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?zQ:TQ)(i,e)):_(this.node(),i).duration}function _Q(e,i){if(typeof i!="function")throw new Error;return function(){P(this,e).ease=i}}function Mo(e){var i=this._id;return arguments.length?this.each(_Q(i,e)):_(this.node(),i).ease}function AQ(e,i){return function(){var n=i.apply(this,arguments);if(typeof n!="function")throw new Error;P(this,e).ease=n}}function Eo(e){if(typeof e!="function")throw new Error;return this.each(AQ(this._id,e))}function So(e){typeof e!="function"&&(e=st(e));for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r)for(var c=i[r],l=c.length,Q=o[r]=[],s,b=0;b<l;++b)(s=c[b])&&e.call(s,s.__data__,b,c)&&Q.push(s);return new te(o,this._parents,this._name,this._id)}function Ho(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,n=e._groups,o=i.length,r=n.length,c=Math.min(o,r),l=new Array(o),Q=0;Q<c;++Q)for(var s=i[Q],b=n[Q],f=s.length,a=l[Q]=new Array(f),m,F=0;F<f;++F)(m=s[F]||b[F])&&(a[F]=m);for(;Q<o;++Q)l[Q]=i[Q];return new te(l,this._parents,this._name,this._id)}function qQ(e){return(e+"").trim().split(/^|\s+/).every(function(i){var n=i.indexOf(".");return n>=0&&(i=i.slice(0,n)),!i||i==="start"})}function PQ(e,i,n){var o,r,c=qQ(i)?ht:P;return function(){var l=c(this,e),Q=l.on;Q!==o&&(r=(o=Q).copy()).on(i,n),l.on=r}}function zo(e,i){var n=this._id;return arguments.length<2?_(this.node(),n).on.on(e):this.each(PQ(n,e,i))}function KQ(e){return function(){var i=this.parentNode;for(var n in this.__transition)if(+n!==e)return;i&&i.removeChild(this)}}function To(){return this.on("end.remove",KQ(this._id))}function _o(e){var i=this._name,n=this._id;typeof e!="function"&&(e=De(e));for(var o=this._groups,r=o.length,c=new Array(r),l=0;l<r;++l)for(var Q=o[l],s=Q.length,b=c[l]=new Array(s),f,a,m=0;m<s;++m)(f=Q[m])&&(a=e.call(f,f.__data__,m,Q))&&("__data__"in f&&(a.__data__=f.__data__),b[m]=a,je(b[m],i,n,m,b,_(f,n)));return new te(c,this._parents,i,n)}function Ao(e){var i=this._name,n=this._id;typeof e!="function"&&(e=Qt(e));for(var o=this._groups,r=o.length,c=[],l=[],Q=0;Q<r;++Q)for(var s=o[Q],b=s.length,f,a=0;a<b;++a)if(f=s[a]){for(var m=e.call(f,f.__data__,a,s),F,u=_(f,n),U=0,x=m.length;U<x;++U)(F=m[U])&&je(F,i,n,U,m,u);c.push(m),l.push(f)}return new te(c,l,i,n)}var $Q=Ce.prototype.constructor;function qo(){return new $Q(this._groups,this._parents)}function es(e,i){var n,o,r;return function(){var c=Ye(this,e),l=(this.style.removeProperty(e),Ye(this,e));return c===l?null:c===n&&l===o?r:r=i(n=c,o=l)}}function Po(e){return function(){this.style.removeProperty(e)}}function ts(e,i,n){var o,r=n+"",c;return function(){var l=Ye(this,e);return l===r?null:l===o?c:c=i(o=l,n)}}function is(e,i,n){var o,r,c;return function(){var l=Ye(this,e),Q=n(this),s=Q+"";return Q==null&&(s=Q=(this.style.removeProperty(e),Ye(this,e))),l===s?null:l===o&&s===r?c:(r=s,c=i(o=l,Q))}}function ns(e,i){var n,o,r,c="style."+i,l="end."+c,Q;return function(){var s=P(this,e),b=s.on,f=s.value[c]==null?Q||(Q=Po(i)):void 0;(b!==n||r!==f)&&(o=(n=b).copy()).on(l,r=f),s.on=o}}function Ko(e,i,n){var o=(e+="")=="transform"?Ni:Bi;return i==null?this.styleTween(e,es(e,o)).on("end.style."+e,Po(e)):typeof i=="function"?this.styleTween(e,is(e,o,et(this,"style."+e,i))).each(ns(this._id,e)):this.styleTween(e,ts(e,o,i),n).on("end.style."+e,null)}function os(e,i,n){return function(o){this.style.setProperty(e,i.call(this,o),n)}}function rs(e,i,n){var o,r;function c(){var l=i.apply(this,arguments);return l!==r&&(o=(r=l)&&os(e,l,n)),o}return c._value=i,c}function $o(e,i,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,rs(e,i,n??""))}function cs(e){return function(){this.textContent=e}}function ls(e){return function(){var i=e(this);this.textContent=i??""}}function er(e){return this.tween("text",typeof e=="function"?ls(et(this,"text",e)):cs(e==null?"":e+""))}function Qs(e){return function(i){this.textContent=e.call(this,i)}}function ss(e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&Qs(r)),i}return o._value=e,o}function tr(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,ss(e))}function ir(){for(var e=this._name,i=this._id,n=ui(),o=this._groups,r=o.length,c=0;c<r;++c)for(var l=o[c],Q=l.length,s,b=0;b<Q;++b)if(s=l[b]){var f=_(s,i);je(s,e,n,b,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new te(o,this._parents,e,n)}function nr(){var e,i,n=this,o=n._id,r=n.size();return new Promise(function(c,l){var Q={value:l},s={value:function(){--r===0&&c()}};n.each(function(){var b=P(this,o),f=b.on;f!==e&&(i=(e=f).copy(),i._.cancel.push(Q),i._.interrupt.push(Q),i._.end.push(s)),b.on=i}),r===0&&c()})}var bs=0;function te(e,i,n,o){this._groups=e,this._parents=i,this._name=n,this._id=o}function or(e){return Ce().transition(e)}function ui(){return++bs}var Xe=Ce.prototype;te.prototype=or.prototype={constructor:te,select:_o,selectAll:Ao,selectChild:Xe.selectChild,selectChildren:Xe.selectChildren,filter:So,merge:Ho,selection:qo,transition:ir,call:Xe.call,nodes:Xe.nodes,node:Xe.node,size:Xe.size,empty:Xe.empty,each:Xe.each,on:zo,attr:Ro,attrTween:vo,style:Ko,styleTween:$o,text:er,textTween:tr,remove:To,tween:ko,delay:No,duration:Do,ease:Mo,easeVarying:Eo,end:nr,[Symbol.iterator]:Xe[Symbol.iterator]};function di(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var as={time:null,delay:0,duration:250,ease:di};function fs(e,i){for(var n;!(n=e.__transition)||!(n=n[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return n}function rr(e){var i,n;e instanceof te?(i=e._id,e=e._name):(i=ui(),(n=as).time=gt(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,c=0;c<r;++c)for(var l=o[c],Q=l.length,s,b=0;b<Q;++b)(s=l[b])&&je(s,e,i,b,l,n||fs(s,i));return new te(o,this._parents,e,i)}Ce.prototype.interrupt=wo;Ce.prototype.transition=rr;var Gt=e=>()=>e;function Si(e,{sourceEvent:i,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function de(e,i,n){this.k=e,this.x=i,this.y=n}de.prototype={constructor:de,scale:function(e){return e===1?this:new de(this.k*e,this.x,this.y)},translate:function(e,i){return e===0&i===0?this:new de(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ct=new de(1,0,0);re.prototype=de.prototype;function re(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ct;return e.__zoom}function Zi(e){e.stopImmediatePropagation()}function tt(e){e.preventDefault(),e.stopImmediatePropagation()}function ms(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Fs(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function cr(){return this.__zoom||Ct}function Bs(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function us(){return navigator.maxTouchPoints||"ontouchstart"in this}function ds(e,i,n){var o=e.invertX(i[0][0])-n[0][0],r=e.invertX(i[1][0])-n[1][0],c=e.invertY(i[0][1])-n[0][1],l=e.invertY(i[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),l>c?(c+l)/2:Math.min(0,c)||Math.max(0,l))}function Hi(){var e=ms,i=Fs,n=ds,o=Bs,r=us,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],Q=250,s=Mi,b=We("start","zoom","end"),f,a,m,F=500,u=150,U=0,x=10;function B(p){p.property("__zoom",cr).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",J).filter(r).on("touchstart.zoom",V).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",v).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}B.transform=function(p,X,C,Y){var w=p.selection?p.selection():p;w.property("__zoom",cr),p!==w?Z(p,X,C,Y):w.interrupt().each(function(){I(this,arguments).event(Y).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},B.scaleBy=function(p,X,C,Y){B.scaleTo(p,function(){var w=this.__zoom.k,k=typeof X=="function"?X.apply(this,arguments):X;return w*k},C,Y)},B.scaleTo=function(p,X,C,Y){B.transform(p,function(){var w=i.apply(this,arguments),k=this.__zoom,R=C==null?d(w):typeof C=="function"?C.apply(this,arguments):C,N=k.invert(R),S=typeof X=="function"?X.apply(this,arguments):X;return n(h(y(k,S),R,N),w,l)},C,Y)},B.translateBy=function(p,X,C,Y){B.transform(p,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof C=="function"?C.apply(this,arguments):C),i.apply(this,arguments),l)},null,Y)},B.translateTo=function(p,X,C,Y,w){B.transform(p,function(){var k=i.apply(this,arguments),R=this.__zoom,N=Y==null?d(k):typeof Y=="function"?Y.apply(this,arguments):Y;return n(Ct.translate(N[0],N[1]).scale(R.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof C=="function"?-C.apply(this,arguments):-C),k,l)},Y,w)};function y(p,X){return X=Math.max(c[0],Math.min(c[1],X)),X===p.k?p:new de(X,p.x,p.y)}function h(p,X,C){var Y=X[0]-C[0]*p.k,w=X[1]-C[1]*p.k;return Y===p.x&&w===p.y?p:new de(p.k,Y,w)}function d(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function Z(p,X,C,Y){p.on("start.zoom",function(){I(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(Y).end()}).tween("zoom",function(){var w=this,k=arguments,R=I(w,k).event(Y),N=i.apply(w,k),S=C==null?d(N):typeof C=="function"?C.apply(w,k):C,q=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),T=w.__zoom,me=typeof X=="function"?X.apply(w,k):X,ye=s(T.invert(S).concat(q/T.k),me.invert(S).concat(q/me.k));return function(Fe){if(Fe===1)Fe=me;else{var he=ye(Fe),Gi=q/he[2];Fe=new de(Gi,S[0]-he[0]*Gi,S[1]-he[1]*Gi)}R.zoom(null,Fe)}})}function I(p,X,C){return!C&&p.__zooming||new g(p,X)}function g(p,X){this.that=p,this.args=X,this.active=0,this.sourceEvent=null,this.extent=i.apply(p,X),this.taps=0}g.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,X){return this.mouse&&p!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var X=K(this.that).datum();b.call(p,this.that,new Si(p,{sourceEvent:this.sourceEvent,target:B,type:p,transform:this.that.__zoom,dispatch:b}),X)}};function G(p,...X){if(!e.apply(this,arguments))return;var C=I(this,X).event(p),Y=this.__zoom,w=Math.max(c[0],Math.min(c[1],Y.k*Math.pow(2,o.apply(this,arguments)))),k=le(p);if(C.wheel)(C.mouse[0][0]!==k[0]||C.mouse[0][1]!==k[1])&&(C.mouse[1]=Y.invert(C.mouse[0]=k)),clearTimeout(C.wheel);else{if(Y.k===w)return;C.mouse=[k,Y.invert(k)],ze(this),C.start()}tt(p),C.wheel=setTimeout(R,u),C.zoom("mouse",n(h(y(Y,w),C.mouse[0],C.mouse[1]),C.extent,l));function R(){C.wheel=null,C.end()}}function L(p,...X){if(m||!e.apply(this,arguments))return;var C=p.currentTarget,Y=I(this,X,!0).event(p),w=K(p.view).on("mousemove.zoom",S,!0).on("mouseup.zoom",q,!0),k=le(p,C),R=p.clientX,N=p.clientY;at(p.view),Zi(p),Y.mouse=[k,this.__zoom.invert(k)],ze(this),Y.start();function S(T){if(tt(T),!Y.moved){var me=T.clientX-R,ye=T.clientY-N;Y.moved=me*me+ye*ye>U}Y.event(T).zoom("mouse",n(h(Y.that.__zoom,Y.mouse[0]=le(T,C),Y.mouse[1]),Y.extent,l))}function q(T){w.on("mousemove.zoom mouseup.zoom",null),ft(T.view,Y.moved),tt(T),Y.event(T).end()}}function J(p,...X){if(e.apply(this,arguments)){var C=this.__zoom,Y=le(p.changedTouches?p.changedTouches[0]:p,this),w=C.invert(Y),k=C.k*(p.shiftKey?.5:2),R=n(h(y(C,k),Y,w),i.apply(this,X),l);tt(p),Q>0?K(this).transition().duration(Q).call(Z,R,Y,p):K(this).call(B.transform,R,Y,p)}}function V(p,...X){if(e.apply(this,arguments)){var C=p.touches,Y=C.length,w=I(this,X,p.changedTouches.length===Y).event(p),k,R,N,S;for(Zi(p),R=0;R<Y;++R)N=C[R],S=le(N,this),S=[S,this.__zoom.invert(S),N.identifier],w.touch0?!w.touch1&&w.touch0[2]!==S[2]&&(w.touch1=S,w.taps=0):(w.touch0=S,k=!0,w.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(w.taps<2&&(a=S[0],f=setTimeout(function(){f=null},F)),ze(this),w.start())}}function j(p,...X){if(this.__zooming){var C=I(this,X).event(p),Y=p.changedTouches,w=Y.length,k,R,N,S;for(tt(p),k=0;k<w;++k)R=Y[k],N=le(R,this),C.touch0&&C.touch0[2]===R.identifier?C.touch0[0]=N:C.touch1&&C.touch1[2]===R.identifier&&(C.touch1[0]=N);if(R=C.that.__zoom,C.touch1){var q=C.touch0[0],T=C.touch0[1],me=C.touch1[0],ye=C.touch1[1],Fe=(Fe=me[0]-q[0])*Fe+(Fe=me[1]-q[1])*Fe,he=(he=ye[0]-T[0])*he+(he=ye[1]-T[1])*he;R=y(R,Math.sqrt(Fe/he)),N=[(q[0]+me[0])/2,(q[1]+me[1])/2],S=[(T[0]+ye[0])/2,(T[1]+ye[1])/2]}else if(C.touch0)N=C.touch0[0],S=C.touch0[1];else return;C.zoom("touch",n(h(R,N,S),C.extent,l))}}function v(p,...X){if(this.__zooming){var C=I(this,X).event(p),Y=p.changedTouches,w=Y.length,k,R;for(Zi(p),m&&clearTimeout(m),m=setTimeout(function(){m=null},F),k=0;k<w;++k)R=Y[k],C.touch0&&C.touch0[2]===R.identifier?delete C.touch0:C.touch1&&C.touch1[2]===R.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(R=le(R,this),Math.hypot(a[0]-R[0],a[1]-R[1])<x)){var N=K(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return B.wheelDelta=function(p){return arguments.length?(o=typeof p=="function"?p:Gt(+p),B):o},B.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Gt(!!p),B):e},B.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Gt(!!p),B):r},B.extent=function(p){return arguments.length?(i=typeof p=="function"?p:Gt([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),B):i},B.scaleExtent=function(p){return arguments.length?(c[0]=+p[0],c[1]=+p[1],B):[c[0],c[1]]},B.translateExtent=function(p){return arguments.length?(l[0][0]=+p[0][0],l[1][0]=+p[1][0],l[0][1]=+p[0][1],l[1][1]=+p[1][1],B):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},B.constrain=function(p){return arguments.length?(n=p,B):n},B.duration=function(p){return arguments.length?(Q=+p,B):Q},B.interpolate=function(p){return arguments.length?(s=p,B):s},B.on=function(){var p=b.on.apply(b,arguments);return p===b?B:p},B.clickDistance=function(p){return arguments.length?(U=(p=+p)*p,B):Math.sqrt(U)},B.tapDistance=function(p){return arguments.length?(x=+p,B):x},B}var it=class extends Map{constructor(i,n=xs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),i!=null)for(let[o,r]of i)this.set(o,r)}get(i){return super.get(lr(this,i))}has(i){return super.has(lr(this,i))}set(i,n){return super.set(Zs(this,i),n)}delete(i){return super.delete(Us(this,i))}};function lr({_intern:e,_key:i},n){let o=i(n);return e.has(o)?e.get(o):n}function Zs({_intern:e,_key:i},n){let o=i(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function Us({_intern:e,_key:i},n){let o=i(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function xs(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wt(e,i){let n;if(i===void 0)for(let o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=i(r,++o,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Xt(e,i){let n;if(i===void 0)for(let o of e)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=i(r,++o,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}var Is=typeof global=="object"&&global&&global.Object===Object&&global,Qr=Is;var ps=typeof self=="object"&&self&&self.Object===Object&&self,gs=Qr||ps||Function("return this")(),Ui=gs;var ys=Ui.Symbol,nt=ys;var sr=Object.prototype,hs=sr.hasOwnProperty,Gs=sr.toString,Jt=nt?nt.toStringTag:void 0;function Cs(e){var i=hs.call(e,Jt),n=e[Jt];try{e[Jt]=void 0;var o=!0}catch{}var r=Gs.call(e);return o&&(i?e[Jt]=n:delete e[Jt]),r}var br=Cs;var Ws=Object.prototype,Xs=Ws.toString;function Js(e){return Xs.call(e)}var ar=Js;var Ls="[object Null]",Ys="[object Undefined]",fr=nt?nt.toStringTag:void 0;function Os(e){return e==null?e===void 0?Ys:Ls:fr&&fr in Object(e)?br(e):ar(e)}var mr=Os;function Vs(e){return e!=null&&typeof e=="object"}var Fr=Vs;var js="[object Symbol]";function ws(e){return typeof e=="symbol"||Fr(e)&&mr(e)==js}var Br=ws;var ks=/\s/;function Rs(e){for(var i=e.length;i--&&ks.test(e.charAt(i)););return i}var ur=Rs;var vs=/^\s+/;function Ns(e){return e&&e.slice(0,ur(e)+1).replace(vs,"")}var dr=Ns;function Ds(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}var Te=Ds;var Zr=0/0,Ms=/^[-+]0x[0-9a-f]+$/i,Es=/^0b[01]+$/i,Ss=/^0o[0-7]+$/i,Hs=parseInt;function zs(e){if(typeof e=="number")return e;if(Br(e))return Zr;if(Te(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Te(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=dr(e);var n=Es.test(e);return n||Ss.test(e)?Hs(e.slice(2),n?2:8):Ms.test(e)?Zr:+e}var zi=zs;var Ts=function(){return Ui.Date.now()},xi=Ts;var _s="Expected a function",As=Math.max,qs=Math.min;function Ps(e,i,n){var o,r,c,l,Q,s,b=0,f=!1,a=!1,m=!0;if(typeof e!="function")throw new TypeError(_s);i=zi(i)||0,Te(n)&&(f=!!n.leading,a="maxWait"in n,c=a?As(zi(n.maxWait)||0,i):c,m="trailing"in n?!!n.trailing:m);function F(I){var g=o,G=r;return o=r=void 0,b=I,l=e.apply(G,g),l}function u(I){return b=I,Q=setTimeout(B,i),f?F(I):l}function U(I){var g=I-s,G=I-b,L=i-g;return a?qs(L,c-G):L}function x(I){var g=I-s,G=I-b;return s===void 0||g>=i||g<0||a&&G>=c}function B(){var I=xi();if(x(I))return y(I);Q=setTimeout(B,U(I))}function y(I){return Q=void 0,m&&o?F(I):(o=r=void 0,l)}function h(){Q!==void 0&&clearTimeout(Q),b=0,o=s=r=Q=void 0}function d(){return Q===void 0?l:y(xi())}function Z(){var I=xi(),g=x(I);if(o=arguments,r=this,s=I,g){if(Q===void 0)return u(s);if(a)return clearTimeout(Q),Q=setTimeout(B,i),F(s)}return Q===void 0&&(Q=setTimeout(B,i)),l}return Z.cancel=h,Z.flush=d,Z}var Lt=Ps;var Ks="Expected a function";function $s(e,i,n){var o=!0,r=!0;if(typeof e!="function")throw new TypeError(Ks);return Te(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Lt(e,i,{leading:o,maxWait:i,trailing:r})}var Ti=$s;var we=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var i=1.70158;return e===1?1:e*e*((i+1)*e-i)},Out:function(e){var i=1.70158;return e===0?0:--e*e*((i+1)*e+i)+1},InOut:function(e){var i=2.5949095;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)}}),Bounce:Object.freeze({In:function(e){return 1-we.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?we.Bounce.In(e*2)*.5:we.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(i){return Math.pow(i,e)},Out:function(i){return 1-Math.pow(1-i,e)},InOut:function(i){return i<.5?Math.pow(i*2,e)/2:(1-Math.pow(2-i*2,e))/2+.5}}}}),Yt=function(){return performance.now()},eb=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var i=this;return Object.keys(this._tweens).map(function(n){return i._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(i){this._tweens[i.getId()]=i,this._tweensAddedDuringUpdate[i.getId()]=i},e.prototype.remove=function(i){delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]},e.prototype.update=function(i,n){i===void 0&&(i=Yt()),n===void 0&&(n=!1);var o=Object.keys(this._tweens);if(o.length===0)return!1;for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<o.length;r++){var c=this._tweens[o[r]],l=!n;c&&c.update(i,l)===!1&&!n&&delete this._tweens[o[r]]}o=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ot={Linear:function(e,i){var n=e.length-1,o=n*i,r=Math.floor(o),c=ot.Utils.Linear;return i<0?c(e[0],e[1],o):i>1?c(e[n],e[n-1],n-o):c(e[r],e[r+1>n?n:r+1],o-r)},Bezier:function(e,i){for(var n=0,o=e.length-1,r=Math.pow,c=ot.Utils.Bernstein,l=0;l<=o;l++)n+=r(1-i,o-l)*r(i,l)*e[l]*c(o,l);return n},CatmullRom:function(e,i){var n=e.length-1,o=n*i,r=Math.floor(o),c=ot.Utils.CatmullRom;return e[0]===e[n]?(i<0&&(r=Math.floor(o=n*(1+i))),c(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],o-r)):i<0?e[0]-(c(e[0],e[0],e[1],e[1],-o)-e[0]):i>1?e[n]-(c(e[n],e[n],e[n-1],e[n-1],o-n)-e[n]):c(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],o-r)},Utils:{Linear:function(e,i,n){return(i-e)*n+e},Bernstein:function(e,i){var n=ot.Utils.Factorial;return n(e)/n(i)/n(e-i)},Factorial:function(){var e=[1];return function(i){var n=1;if(e[i])return e[i];for(var o=i;o>1;o--)n*=o;return e[i]=n,n}}(),CatmullRom:function(e,i,n,o,r){var c=(n-e)*.5,l=(o-i)*.5,Q=r*r,s=r*Q;return(2*i-2*n+c+l)*s+(-3*i+3*n-2*c-l)*Q+c*r+i}}},Ur=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),_i=new eb,Ai=function(){function e(i,n){n===void 0&&(n=_i),this._object=i,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=we.Linear.None,this._interpolationFunction=ot.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Ur.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(i,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=i,this._propertiesAreSetUp=!1,this._duration=n,this},e.prototype.duration=function(i){return i===void 0&&(i=1e3),this._duration=i,this},e.prototype.dynamic=function(i){return i===void 0&&(i=!1),this._isDynamic=i,this},e.prototype.start=function(i,n){if(i===void 0&&(i=Yt()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=i,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var c in this._valuesEnd)r[c]=this._valuesEnd[c];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(i){return this.start(i,!0)},e.prototype._setupProperties=function(i,n,o,r,c){for(var l in o){var Q=i[l],s=Array.isArray(Q),b=s?"array":typeof Q,f=!s&&Array.isArray(o[l]);if(!(b==="undefined"||b==="function")){if(f){var a=o[l];if(a.length===0)continue;for(var m=[Q],F=0,u=a.length;F<u;F+=1){var U=this._handleRelativeValue(Q,a[F]);if(isNaN(U)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(U)}f&&(o[l]=m)}if((b==="object"||s)&&Q&&!f){n[l]=s?[]:{};var x=Q;for(var B in x)n[l][B]=x[B];r[l]=s?[]:{};var a=o[l];if(!this._isDynamic){var y={};for(var B in a)y[B]=a[B];o[l]=a=y}this._setupProperties(x,n[l],a,r[l],c)}else(typeof n[l]>"u"||c)&&(n[l]=Q),s||(n[l]*=1),f?r[l]=o[l].slice().reverse():r[l]=n[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(i){return i===void 0&&(i=Yt()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=i,this._group&&this._group.remove(this),this)},e.prototype.resume=function(i){return i===void 0&&(i=Yt()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=i-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var i=0,n=this._chainedTweens.length;i<n;i++)this._chainedTweens[i].stop();return this},e.prototype.group=function(i){return i===void 0&&(i=_i),this._group=i,this},e.prototype.delay=function(i){return i===void 0&&(i=0),this._delayTime=i,this},e.prototype.repeat=function(i){return i===void 0&&(i=0),this._initialRepeat=i,this._repeat=i,this},e.prototype.repeatDelay=function(i){return this._repeatDelayTime=i,this},e.prototype.yoyo=function(i){return i===void 0&&(i=!1),this._yoyo=i,this},e.prototype.easing=function(i){return i===void 0&&(i=we.Linear.None),this._easingFunction=i,this},e.prototype.interpolation=function(i){return i===void 0&&(i=ot.Linear),this._interpolationFunction=i,this},e.prototype.chain=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return this._chainedTweens=i,this},e.prototype.onStart=function(i){return this._onStartCallback=i,this},e.prototype.onEveryStart=function(i){return this._onEveryStartCallback=i,this},e.prototype.onUpdate=function(i){return this._onUpdateCallback=i,this},e.prototype.onRepeat=function(i){return this._onRepeatCallback=i,this},e.prototype.onComplete=function(i){return this._onCompleteCallback=i,this},e.prototype.onStop=function(i){return this._onStopCallback=i,this},e.prototype.update=function(i,n){if(i===void 0&&(i=Yt()),n===void 0&&(n=!0),this._isPaused)return!0;var o,r,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(i>c)return!1;n&&this.start(i,!0)}if(this._goToEnd=!1,i<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(i-this._startTime)/this._duration,r=this._duration===0||r>1?1:r;var l=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),r===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=i+this._repeatDelayTime:this._startTime=i+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var Q=0,s=this._chainedTweens.length;Q<s;Q++)this._chainedTweens[Q].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(i,n,o,r){for(var c in o)if(n[c]!==void 0){var l=n[c]||0,Q=o[c],s=Array.isArray(i[c]),b=Array.isArray(Q),f=!s&&b;f?i[c]=this._interpolationFunction(Q,r):typeof Q=="object"&&Q?this._updateProperties(i[c],l,Q,r):(Q=this._handleRelativeValue(l,Q),typeof Q=="number"&&(i[c]=l+(Q-l)*r))}},e.prototype._handleRelativeValue=function(i,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?i+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(i){var n=this._valuesStartRepeat[i],o=this._valuesEnd[i];typeof o=="string"?this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(o):this._valuesStartRepeat[i]=this._valuesEnd[i],this._valuesEnd[i]=n},e}();var nZ=Ur.nextId,ge=_i,oZ=ge.getAll.bind(ge),rZ=ge.removeAll.bind(ge),cZ=ge.add.bind(ge),lZ=ge.remove.bind(ge),xr=ge.update.bind(ge);function ib(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],s=!0,b=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);s=!0);}catch(f){b=!0,r=f}finally{try{if(!s&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(b)throw r}}return Q}}function nb(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Ir(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,bb(o.key),o)}}function ob(e,i,n){return i&&Ir(e.prototype,i),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rb(e,i){return cb(e)||ib(e,i)||lb(e,i)||Qb()}function cb(e){if(Array.isArray(e))return e}function lb(e,i){if(e){if(typeof e=="string")return pr(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(e,i)}}function pr(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function Qb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sb(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function bb(e){var i=sb(e,"string");return typeof i=="symbol"?i:String(i)}var ab=ob(function e(i,n){var o=n.default,r=o===void 0?null:o,c=n.triggerUpdate,l=c===void 0?!0:c,Q=n.onChange,s=Q===void 0?function(b,f){}:Q;nb(this,e),this.name=i,this.defaultVal=r,this.triggerUpdate=l,this.onChange=s});function qi(e){var i=e.stateInit,n=i===void 0?function(){return{}}:i,o=e.props,r=o===void 0?{}:o,c=e.methods,l=c===void 0?{}:c,Q=e.aliases,s=Q===void 0?{}:Q,b=e.init,f=b===void 0?function(){}:b,a=e.update,m=a===void 0?function(){}:a,F=Object.keys(r).map(function(u){return new ab(u,r[u])});return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=Object.assign({},n instanceof Function?n(u):n,{initialised:!1}),x={};function B(d){return y(d,u),h(),B}var y=function(Z,I){f.call(B,Z,U,I),U.initialised=!0},h=Lt(function(){U.initialised&&(m.call(B,U,x),x={})},1);return F.forEach(function(d){B[d.name]=Z(d);function Z(I){var g=I.name,G=I.triggerUpdate,L=G===void 0?!1:G,J=I.onChange,V=J===void 0?function(p,X){}:J,j=I.defaultVal,v=j===void 0?null:j;return function(p){var X=U[g];if(!arguments.length)return X;var C=p===void 0?v:p;return U[g]=C,V.call(B,C,U,X),!x.hasOwnProperty(g)&&(x[g]=X),L&&h(),B}}}),Object.keys(l).forEach(function(d){B[d]=function(){for(var Z,I=arguments.length,g=new Array(I),G=0;G<I;G++)g[G]=arguments[G];return(Z=l[d]).call.apply(Z,[B,U].concat(g))}}),Object.entries(s).forEach(function(d){var Z=rb(d,2),I=Z[0],g=Z[1];return B[I]=B[g]}),B.resetProps=function(){return F.forEach(function(d){B[d.name](d.defaultVal)}),B},B.resetProps(),U._rerender=h,B}}var E=function(e){return typeof e=="function"?e:typeof e=="string"?function(i){return i[e]}:function(i){return e}};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ii(e)}var fb=/^\s+/,mb=/\s+$/;function O(e,i){if(e=e||"",i=i||{},e instanceof O)return e;if(!(this instanceof O))return new O(e,i);var n=Fb(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}O.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var i=this.toRgb();return(i.r*299+i.g*587+i.b*114)/1e3},getLuminance:function(){var i=this.toRgb(),n,o,r,c,l,Q;return n=i.r/255,o=i.g/255,r=i.b/255,n<=.03928?c=n/12.92:c=Math.pow((n+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),r<=.03928?Q=r/12.92:Q=Math.pow((r+.055)/1.055,2.4),.2126*c+.7152*l+.0722*Q},setAlpha:function(i){return this._a=Xr(i),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var i=yr(this._r,this._g,this._b);return{h:i.h*360,s:i.s,v:i.v,a:this._a}},toHsvString:function(){var i=yr(this._r,this._g,this._b),n=Math.round(i.h*360),o=Math.round(i.s*100),r=Math.round(i.v*100);return this._a==1?"hsv("+n+", "+o+"%, "+r+"%)":"hsva("+n+", "+o+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var i=gr(this._r,this._g,this._b);return{h:i.h*360,s:i.s,l:i.l,a:this._a}},toHslString:function(){var i=gr(this._r,this._g,this._b),n=Math.round(i.h*360),o=Math.round(i.s*100),r=Math.round(i.l*100);return this._a==1?"hsl("+n+", "+o+"%, "+r+"%)":"hsla("+n+", "+o+"%, "+r+"%, "+this._roundA+")"},toHex:function(i){return hr(this._r,this._g,this._b,i)},toHexString:function(i){return"#"+this.toHex(i)},toHex8:function(i){return Zb(this._r,this._g,this._b,this._a,i)},toHex8String:function(i){return"#"+this.toHex8(i)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(H(this._r,255)*100)+"%",g:Math.round(H(this._g,255)*100)+"%",b:Math.round(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%)":"rgba("+Math.round(H(this._r,255)*100)+"%, "+Math.round(H(this._g,255)*100)+"%, "+Math.round(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Jb[hr(this._r,this._g,this._b,!0)]||!1},toFilter:function(i){var n="#"+Gr(this._r,this._g,this._b,this._a),o=n,r=this._gradientType?"GradientType = 1, ":"";if(i){var c=O(i);o="#"+Gr(c._r,c._g,c._b,c._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+o+")"},toString:function(i){var n=!!i;i=i||this._format;var o=!1,r=this._a<1&&this._a>=0,c=!n&&r&&(i==="hex"||i==="hex6"||i==="hex3"||i==="hex4"||i==="hex8"||i==="name");return c?i==="name"&&this._a===0?this.toName():this.toRgbString():(i==="rgb"&&(o=this.toRgbString()),i==="prgb"&&(o=this.toPercentageRgbString()),(i==="hex"||i==="hex6")&&(o=this.toHexString()),i==="hex3"&&(o=this.toHexString(!0)),i==="hex4"&&(o=this.toHex8String(!0)),i==="hex8"&&(o=this.toHex8String()),i==="name"&&(o=this.toName()),i==="hsl"&&(o=this.toHslString()),i==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return O(this.toString())},_applyModification:function(i,n){var o=i.apply(null,[this].concat([].slice.call(n)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(pb,arguments)},brighten:function(){return this._applyModification(gb,arguments)},darken:function(){return this._applyModification(yb,arguments)},desaturate:function(){return this._applyModification(Ub,arguments)},saturate:function(){return this._applyModification(xb,arguments)},greyscale:function(){return this._applyModification(Ib,arguments)},spin:function(){return this._applyModification(hb,arguments)},_applyCombination:function(i,n){return i.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Wb,arguments)},complement:function(){return this._applyCombination(Gb,arguments)},monochromatic:function(){return this._applyCombination(Xb,arguments)},splitcomplement:function(){return this._applyCombination(Cb,arguments)},triad:function(){return this._applyCombination(Cr,[3])},tetrad:function(){return this._applyCombination(Cr,[4])}};O.fromRatio=function(e,i){if(Ii(e)=="object"){var n={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?n[o]=e[o]:n[o]=Ot(e[o]));e=n}return O(e,i)};function Fb(e){var i={r:0,g:0,b:0},n=1,o=null,r=null,c=null,l=!1,Q=!1;return typeof e=="string"&&(e=Vb(e)),Ii(e)=="object"&&(Je(e.r)&&Je(e.g)&&Je(e.b)?(i=Bb(e.r,e.g,e.b),l=!0,Q=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Je(e.h)&&Je(e.s)&&Je(e.v)?(o=Ot(e.s),r=Ot(e.v),i=db(e.h,o,r),l=!0,Q="hsv"):Je(e.h)&&Je(e.s)&&Je(e.l)&&(o=Ot(e.s),c=Ot(e.l),i=ub(e.h,o,c),l=!0,Q="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Xr(n),{ok:l,format:e.format||Q,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:n}}function Bb(e,i,n){return{r:H(e,255)*255,g:H(i,255)*255,b:H(n,255)*255}}function gr(e,i,n){e=H(e,255),i=H(i,255),n=H(n,255);var o=Math.max(e,i,n),r=Math.min(e,i,n),c,l,Q=(o+r)/2;if(o==r)c=l=0;else{var s=o-r;switch(l=Q>.5?s/(2-o-r):s/(o+r),o){case e:c=(i-n)/s+(i<n?6:0);break;case i:c=(n-e)/s+2;break;case n:c=(e-i)/s+4;break}c/=6}return{h:c,s:l,l:Q}}function ub(e,i,n){var o,r,c;e=H(e,360),i=H(i,100),n=H(n,100);function l(b,f,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?b+(f-b)*6*a:a<1/2?f:a<2/3?b+(f-b)*(2/3-a)*6:b}if(i===0)o=r=c=n;else{var Q=n<.5?n*(1+i):n+i-n*i,s=2*n-Q;o=l(s,Q,e+1/3),r=l(s,Q,e),c=l(s,Q,e-1/3)}return{r:o*255,g:r*255,b:c*255}}function yr(e,i,n){e=H(e,255),i=H(i,255),n=H(n,255);var o=Math.max(e,i,n),r=Math.min(e,i,n),c,l,Q=o,s=o-r;if(l=o===0?0:s/o,o==r)c=0;else{switch(o){case e:c=(i-n)/s+(i<n?6:0);break;case i:c=(n-e)/s+2;break;case n:c=(e-i)/s+4;break}c/=6}return{h:c,s:l,v:Q}}function db(e,i,n){e=H(e,360)*6,i=H(i,100),n=H(n,100);var o=Math.floor(e),r=e-o,c=n*(1-i),l=n*(1-r*i),Q=n*(1-(1-r)*i),s=o%6,b=[n,l,c,c,Q,n][s],f=[Q,n,n,l,c,c][s],a=[c,c,Q,n,n,l][s];return{r:b*255,g:f*255,b:a*255}}function hr(e,i,n,o){var r=[Ue(Math.round(e).toString(16)),Ue(Math.round(i).toString(16)),Ue(Math.round(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Zb(e,i,n,o,r){var c=[Ue(Math.round(e).toString(16)),Ue(Math.round(i).toString(16)),Ue(Math.round(n).toString(16)),Ue(Jr(o))];return r&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}function Gr(e,i,n,o){var r=[Ue(Jr(o)),Ue(Math.round(e).toString(16)),Ue(Math.round(i).toString(16)),Ue(Math.round(n).toString(16))];return r.join("")}O.equals=function(e,i){return!e||!i?!1:O(e).toRgbString()==O(i).toRgbString()};O.random=function(){return O.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Ub(e,i){i=i===0?0:i||10;var n=O(e).toHsl();return n.s-=i/100,n.s=pi(n.s),O(n)}function xb(e,i){i=i===0?0:i||10;var n=O(e).toHsl();return n.s+=i/100,n.s=pi(n.s),O(n)}function Ib(e){return O(e).desaturate(100)}function pb(e,i){i=i===0?0:i||10;var n=O(e).toHsl();return n.l+=i/100,n.l=pi(n.l),O(n)}function gb(e,i){i=i===0?0:i||10;var n=O(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(i/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(i/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(i/100)))),O(n)}function yb(e,i){i=i===0?0:i||10;var n=O(e).toHsl();return n.l-=i/100,n.l=pi(n.l),O(n)}function hb(e,i){var n=O(e).toHsl(),o=(n.h+i)%360;return n.h=o<0?360+o:o,O(n)}function Gb(e){var i=O(e).toHsl();return i.h=(i.h+180)%360,O(i)}function Cr(e,i){if(isNaN(i)||i<=0)throw new Error("Argument to polyad must be a positive number");for(var n=O(e).toHsl(),o=[O(e)],r=360/i,c=1;c<i;c++)o.push(O({h:(n.h+c*r)%360,s:n.s,l:n.l}));return o}function Cb(e){var i=O(e).toHsl(),n=i.h;return[O(e),O({h:(n+72)%360,s:i.s,l:i.l}),O({h:(n+216)%360,s:i.s,l:i.l})]}function Wb(e,i,n){i=i||6,n=n||30;var o=O(e).toHsl(),r=360/n,c=[O(e)];for(o.h=(o.h-(r*i>>1)+720)%360;--i;)o.h=(o.h+r)%360,c.push(O(o));return c}function Xb(e,i){i=i||6;for(var n=O(e).toHsv(),o=n.h,r=n.s,c=n.v,l=[],Q=1/i;i--;)l.push(O({h:o,s:r,v:c})),c=(c+Q)%1;return l}O.mix=function(e,i,n){n=n===0?0:n||50;var o=O(e).toRgb(),r=O(i).toRgb(),c=n/100,l={r:(r.r-o.r)*c+o.r,g:(r.g-o.g)*c+o.g,b:(r.b-o.b)*c+o.b,a:(r.a-o.a)*c+o.a};return O(l)};O.readability=function(e,i){var n=O(e),o=O(i);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)};O.isReadable=function(e,i,n){var o=O.readability(e,i),r,c;switch(c=!1,r=jb(n),r.level+r.size){case"AAsmall":case"AAAlarge":c=o>=4.5;break;case"AAlarge":c=o>=3;break;case"AAAsmall":c=o>=7;break}return c};O.mostReadable=function(e,i,n){var o=null,r=0,c,l,Q,s;n=n||{},l=n.includeFallbackColors,Q=n.level,s=n.size;for(var b=0;b<i.length;b++)c=O.readability(e,i[b]),c>r&&(r=c,o=O(i[b]));return O.isReadable(e,o,{level:Q,size:s})||!l?o:(n.includeFallbackColors=!1,O.mostReadable(e,["#fff","#000"],n))};var Pi=O.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Jb=O.hexNames=Lb(Pi);function Lb(e){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[e[n]]=n);return i}function Xr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function H(e,i){Yb(e)&&(e="100%");var n=Ob(e);return e=Math.min(i,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*i,10)/100),Math.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function pi(e){return Math.min(1,Math.max(0,e))}function ce(e){return parseInt(e,16)}function Yb(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Ob(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ue(e){return e.length==1?"0"+e:""+e}function Ot(e){return e<=1&&(e=e*100+"%"),e}function Jr(e){return Math.round(parseFloat(e)*255).toString(16)}function Wr(e){return ce(e)/255}var Ze=function(){var e="[-\\+]?\\d+%?",i="[-\\+]?\\d*\\.\\d+%?",n="(?:"+i+")|(?:"+e+")",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Je(e){return!!Ze.CSS_UNIT.exec(e)}function Vb(e){e=e.replace(fb,"").replace(mb,"").toLowerCase();var i=!1;if(Pi[e])e=Pi[e],i=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ze.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ze.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ze.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ze.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ze.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ze.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ze.hex8.exec(e))?{r:ce(n[1]),g:ce(n[2]),b:ce(n[3]),a:Wr(n[4]),format:i?"name":"hex8"}:(n=Ze.hex6.exec(e))?{r:ce(n[1]),g:ce(n[2]),b:ce(n[3]),format:i?"name":"hex"}:(n=Ze.hex4.exec(e))?{r:ce(n[1]+""+n[1]),g:ce(n[2]+""+n[2]),b:ce(n[3]+""+n[3]),a:Wr(n[4]+""+n[4]),format:i?"name":"hex8"}:(n=Ze.hex3.exec(e))?{r:ce(n[1]+""+n[1]),g:ce(n[2]+""+n[2]),b:ce(n[3]+""+n[3]),format:i?"name":"hex"}:!1}function jb(e){var i,n;return e=e||{level:"AA",size:"small"},i=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),i!=="AA"&&i!=="AAA"&&(i="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:i,size:n}}function wb(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Lr(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Sb(o.key),o)}}function kb(e,i,n){return i&&Lr(e.prototype,i),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rb(e){return vb(e)||Nb(e)||Db(e)||Mb()}function vb(e){if(Array.isArray(e))return Ki(e)}function Nb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Db(e,i){if(e){if(typeof e=="string")return Ki(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,i)}}function Ki(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function Mb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eb(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function Sb(e){var i=Eb(e,"string");return typeof i=="symbol"?i:String(i)}var Hb=123,zb=function(i){return"#".concat(Math.min(i,Math.pow(2,24)).toString(16).padStart(6,"0"))},Or=function(i,n,o){return(i<<16)+(n<<8)+o},Tb=function(i){var n=O(i).toRgb(),o=n.r,r=n.g,c=n.b;return Or(o,r,c)},Yr=function(i,n){return i*Hb%Math.pow(2,n)},Vr=function(){function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;wb(this,e),this.csBits=i,this.registry=["__reserved for background__"]}return kb(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var o=this.registry.length,r=Yr(o,this.csBits),c=zb(o+(r<<24-this.csBits));return this.registry.push(n),c}},{key:"lookup",value:function(n){var o=typeof n=="string"?Tb(n):Or.apply(void 0,Rb(n));if(!o)return null;var r=o&Math.pow(2,24-this.csBits)-1,c=o>>24-this.csBits&Math.pow(2,this.csBits)-1;return Yr(r,this.csBits)!==c||r>=this.registry.length?null:this.registry[r]}}]),e}();function $i(e,i,n){var o,r=1;e==null&&(e=0),i==null&&(i=0),n==null&&(n=0);function c(){var l,Q=o.length,s,b=0,f=0,a=0;for(l=0;l<Q;++l)s=o[l],b+=s.x||0,f+=s.y||0,a+=s.z||0;for(b=(b/Q-e)*r,f=(f/Q-i)*r,a=(a/Q-n)*r,l=0;l<Q;++l)s=o[l],b&&(s.x-=b),f&&(s.y-=f),a&&(s.z-=a)}return c.initialize=function(l){o=l},c.x=function(l){return arguments.length?(e=+l,c):e},c.y=function(l){return arguments.length?(i=+l,c):i},c.z=function(l){return arguments.length?(n=+l,c):n},c.strength=function(l){return arguments.length?(r=+l,c):r},c}function jr(e){let i=+this._x.call(null,e);return wr(this.cover(i),i,e)}function wr(e,i,n){if(isNaN(i))return e;var o,r=e._root,c={data:n},l=e._x0,Q=e._x1,s,b,f,a,m;if(!r)return e._root=c,e;for(;r.length;)if((f=i>=(s=(l+Q)/2))?l=s:Q=s,o=r,!(r=r[a=+f]))return o[a]=c,e;if(b=+e._x.call(null,r.data),i===b)return c.next=r,o?o[a]=c:e._root=c,e;do o=o?o[a]=new Array(2):e._root=new Array(2),(f=i>=(s=(l+Q)/2))?l=s:Q=s;while((a=+f)==(m=+(b>=s)));return o[m]=r,o[a]=c,e}function kr(e){Array.isArray(e)||(e=Array.from(e));let i=e.length,n=new Float64Array(i),o=1/0,r=-1/0;for(let c=0,l;c<i;++c)isNaN(l=+this._x.call(null,e[c]))||(n[c]=l,l<o&&(o=l),l>r&&(r=l));if(o>r)return this;this.cover(o).cover(r);for(let c=0;c<i;++c)wr(this,n[c],e[c]);return this}function Rr(e){if(isNaN(e=+e))return this;var i=this._x0,n=this._x1;if(isNaN(i))n=(i=Math.floor(e))+1;else{for(var o=n-i||1,r=this._root,c,l;i>e||e>=n;)switch(l=+(e<i),c=new Array(2),c[l]=r,r=c,o*=2,l){case 0:n=i+o;break;case 1:i=n-o;break}this._root&&this._root.length&&(this._root=r)}return this._x0=i,this._x1=n,this}function vr(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function Nr(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function se(e,i,n){this.node=e,this.x0=i,this.x1=n}function Dr(e,i){var n,o=this._x0,r,c,l=this._x1,Q=[],s=this._root,b,f;for(s&&Q.push(new se(s,o,l)),i==null?i=1/0:(o=e-i,l=e+i);b=Q.pop();)if(!(!(s=b.node)||(r=b.x0)>l||(c=b.x1)<o))if(s.length){var a=(r+c)/2;Q.push(new se(s[1],a,c),new se(s[0],r,a)),(f=+(e>=a))&&(b=Q[Q.length-1],Q[Q.length-1]=Q[Q.length-1-f],Q[Q.length-1-f]=b)}else{var m=Math.abs(e-+this._x.call(null,s.data));m<i&&(i=m,o=e-m,l=e+m,n=s.data)}return n}function Mr(e){if(isNaN(s=+this._x.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._x1,s,b,f,a,m;if(!n)return this;if(n.length)for(;;){if((f=s>=(b=(l+Q)/2))?l=b:Q=b,i=n,!(n=n[a=+f]))return this;if(!n.length)break;i[a+1&1]&&(o=i,m=a)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[a]=c:delete i[a],(n=i[0]||i[1])&&n===(i[1]||i[0])&&!n.length&&(o?o[m]=n:this._root=n),this):(this._root=c,this)}function Er(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function Sr(){return this._root}function Hr(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function zr(e){var i=[],n,o=this._root,r,c,l;for(o&&i.push(new se(o,this._x0,this._x1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.x1)&&o.length){var Q=(c+l)/2;(r=o[1])&&i.push(new se(r,Q,l)),(r=o[0])&&i.push(new se(r,c,Q))}return this}function Tr(e){var i=[],n=[],o;for(this._root&&i.push(new se(this._root,this._x0,this._x1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.x1,s=(l+Q)/2;(c=r[0])&&i.push(new se(c,l,s)),(c=r[1])&&i.push(new se(c,s,Q))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.x1);return this}function _r(e){return e[0]}function Ar(e){return arguments.length?(this._x=e,this):this._x}function Vt(e,i){var n=new en(i??_r,NaN,NaN);return e==null?n:n.addAll(e)}function en(e,i,n){this._x=e,this._x0=i,this._x1=n,this._root=void 0}function qr(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var oe=Vt.prototype=en.prototype;oe.copy=function(){var e=new en(this._x,this._x0,this._x1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=qr(i),e;for(n=[{source:i,target:e._root=new Array(2)}];i=n.pop();)for(var r=0;r<2;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(2)}):i.target[r]=qr(o));return e};oe.add=jr;oe.addAll=kr;oe.cover=Rr;oe.data=vr;oe.extent=Nr;oe.find=Dr;oe.remove=Mr;oe.removeAll=Er;oe.root=Sr;oe.size=Hr;oe.visit=zr;oe.visitAfter=Tr;oe.x=Ar;function Pr(e){let i=+this._x.call(null,e),n=+this._y.call(null,e);return Kr(this.cover(i,n),i,n,e)}function Kr(e,i,n,o){if(isNaN(i)||isNaN(n))return e;var r,c=e._root,l={data:o},Q=e._x0,s=e._y0,b=e._x1,f=e._y1,a,m,F,u,U,x,B,y;if(!c)return e._root=l,e;for(;c.length;)if((U=i>=(a=(Q+b)/2))?Q=a:b=a,(x=n>=(m=(s+f)/2))?s=m:f=m,r=c,!(c=c[B=x<<1|U]))return r[B]=l,e;if(F=+e._x.call(null,c.data),u=+e._y.call(null,c.data),i===F&&n===u)return l.next=c,r?r[B]=l:e._root=l,e;do r=r?r[B]=new Array(4):e._root=new Array(4),(U=i>=(a=(Q+b)/2))?Q=a:b=a,(x=n>=(m=(s+f)/2))?s=m:f=m;while((B=x<<1|U)===(y=(u>=m)<<1|F>=a));return r[y]=c,r[B]=l,e}function $r(e){var i,n,o=e.length,r,c,l=new Array(o),Q=new Array(o),s=1/0,b=1/0,f=-1/0,a=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,i=e[n]))||isNaN(c=+this._y.call(null,i))||(l[n]=r,Q[n]=c,r<s&&(s=r),r>f&&(f=r),c<b&&(b=c),c>a&&(a=c));if(s>f||b>a)return this;for(this.cover(s,b).cover(f,a),n=0;n<o;++n)Kr(this,l[n],Q[n],e[n]);return this}function ec(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var n=this._x0,o=this._y0,r=this._x1,c=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,c=(o=Math.floor(i))+1;else{for(var l=r-n||1,Q=this._root,s,b;n>e||e>=r||o>i||i>=c;)switch(b=(i<o)<<1|e<n,s=new Array(4),s[b]=Q,Q=s,l*=2,b){case 0:r=n+l,c=o+l;break;case 1:n=r-l,c=o+l;break;case 2:r=n+l,o=c-l;break;case 3:n=r-l,o=c-l;break}this._root&&this._root.length&&(this._root=Q)}return this._x0=n,this._y0=o,this._x1=r,this._y1=c,this}function tc(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function ic(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function A(e,i,n,o,r){this.node=e,this.x0=i,this.y0=n,this.x1=o,this.y1=r}function nc(e,i,n){var o,r=this._x0,c=this._y0,l,Q,s,b,f=this._x1,a=this._y1,m=[],F=this._root,u,U;for(F&&m.push(new A(F,r,c,f,a)),n==null?n=1/0:(r=e-n,c=i-n,f=e+n,a=i+n,n*=n);u=m.pop();)if(!(!(F=u.node)||(l=u.x0)>f||(Q=u.y0)>a||(s=u.x1)<r||(b=u.y1)<c))if(F.length){var x=(l+s)/2,B=(Q+b)/2;m.push(new A(F[3],x,B,s,b),new A(F[2],l,B,x,b),new A(F[1],x,Q,s,B),new A(F[0],l,Q,x,B)),(U=(i>=B)<<1|e>=x)&&(u=m[m.length-1],m[m.length-1]=m[m.length-1-U],m[m.length-1-U]=u)}else{var y=e-+this._x.call(null,F.data),h=i-+this._y.call(null,F.data),d=y*y+h*h;if(d<n){var Z=Math.sqrt(n=d);r=e-Z,c=i-Z,f=e+Z,a=i+Z,o=F.data}}return o}function oc(e){if(isNaN(f=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._y0,s=this._x1,b=this._y1,f,a,m,F,u,U,x,B;if(!n)return this;if(n.length)for(;;){if((u=f>=(m=(l+s)/2))?l=m:s=m,(U=a>=(F=(Q+b)/2))?Q=F:b=F,i=n,!(n=n[x=U<<1|u]))return this;if(!n.length)break;(i[x+1&3]||i[x+2&3]||i[x+3&3])&&(o=i,B=x)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[x]=c:delete i[x],(n=i[0]||i[1]||i[2]||i[3])&&n===(i[3]||i[2]||i[1]||i[0])&&!n.length&&(o?o[B]=n:this._root=n),this):(this._root=c,this)}function rc(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function cc(){return this._root}function lc(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function Qc(e){var i=[],n,o=this._root,r,c,l,Q,s;for(o&&i.push(new A(o,this._x0,this._y0,this._x1,this._y1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.y0,Q=n.x1,s=n.y1)&&o.length){var b=(c+Q)/2,f=(l+s)/2;(r=o[3])&&i.push(new A(r,b,f,Q,s)),(r=o[2])&&i.push(new A(r,c,f,b,s)),(r=o[1])&&i.push(new A(r,b,l,Q,f)),(r=o[0])&&i.push(new A(r,c,l,b,f))}return this}function sc(e){var i=[],n=[],o;for(this._root&&i.push(new A(this._root,this._x0,this._y0,this._x1,this._y1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.y0,s=o.x1,b=o.y1,f=(l+s)/2,a=(Q+b)/2;(c=r[0])&&i.push(new A(c,l,Q,f,a)),(c=r[1])&&i.push(new A(c,f,Q,s,a)),(c=r[2])&&i.push(new A(c,l,a,f,b)),(c=r[3])&&i.push(new A(c,f,a,s,b))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function bc(e){return e[0]}function ac(e){return arguments.length?(this._x=e,this):this._x}function fc(e){return e[1]}function mc(e){return arguments.length?(this._y=e,this):this._y}function jt(e,i,n){var o=new tn(i??bc,n??fc,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function tn(e,i,n,o,r,c){this._x=e,this._y=i,this._x0=n,this._y0=o,this._x1=r,this._y1=c,this._root=void 0}function Fc(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var ie=jt.prototype=tn.prototype;ie.copy=function(){var e=new tn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=Fc(i),e;for(n=[{source:i,target:e._root=new Array(4)}];i=n.pop();)for(var r=0;r<4;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(4)}):i.target[r]=Fc(o));return e};ie.add=Pr;ie.addAll=$r;ie.cover=ec;ie.data=tc;ie.extent=ic;ie.find=nc;ie.remove=oc;ie.removeAll=rc;ie.root=cc;ie.size=lc;ie.visit=Qc;ie.visitAfter=sc;ie.x=ac;ie.y=mc;function Bc(e){let i=+this._x.call(null,e),n=+this._y.call(null,e),o=+this._z.call(null,e);return uc(this.cover(i,n,o),i,n,o,e)}function uc(e,i,n,o,r){if(isNaN(i)||isNaN(n)||isNaN(o))return e;var c,l=e._root,Q={data:r},s=e._x0,b=e._y0,f=e._z0,a=e._x1,m=e._y1,F=e._z1,u,U,x,B,y,h,d,Z,I,g,G;if(!l)return e._root=Q,e;for(;l.length;)if((d=i>=(u=(s+a)/2))?s=u:a=u,(Z=n>=(U=(b+m)/2))?b=U:m=U,(I=o>=(x=(f+F)/2))?f=x:F=x,c=l,!(l=l[g=I<<2|Z<<1|d]))return c[g]=Q,e;if(B=+e._x.call(null,l.data),y=+e._y.call(null,l.data),h=+e._z.call(null,l.data),i===B&&n===y&&o===h)return Q.next=l,c?c[g]=Q:e._root=Q,e;do c=c?c[g]=new Array(8):e._root=new Array(8),(d=i>=(u=(s+a)/2))?s=u:a=u,(Z=n>=(U=(b+m)/2))?b=U:m=U,(I=o>=(x=(f+F)/2))?f=x:F=x;while((g=I<<2|Z<<1|d)===(G=(h>=x)<<2|(y>=U)<<1|B>=u));return c[G]=l,c[g]=Q,e}function dc(e){Array.isArray(e)||(e=Array.from(e));let i=e.length,n=new Float64Array(i),o=new Float64Array(i),r=new Float64Array(i),c=1/0,l=1/0,Q=1/0,s=-1/0,b=-1/0,f=-1/0;for(let a=0,m,F,u,U;a<i;++a)isNaN(F=+this._x.call(null,m=e[a]))||isNaN(u=+this._y.call(null,m))||isNaN(U=+this._z.call(null,m))||(n[a]=F,o[a]=u,r[a]=U,F<c&&(c=F),F>s&&(s=F),u<l&&(l=u),u>b&&(b=u),U<Q&&(Q=U),U>f&&(f=U));if(c>s||l>b||Q>f)return this;this.cover(c,l,Q).cover(s,b,f);for(let a=0;a<i;++a)uc(this,n[a],o[a],r[a],e[a]);return this}function Zc(e,i,n){if(isNaN(e=+e)||isNaN(i=+i)||isNaN(n=+n))return this;var o=this._x0,r=this._y0,c=this._z0,l=this._x1,Q=this._y1,s=this._z1;if(isNaN(o))l=(o=Math.floor(e))+1,Q=(r=Math.floor(i))+1,s=(c=Math.floor(n))+1;else{for(var b=l-o||1,f=this._root,a,m;o>e||e>=l||r>i||i>=Q||c>n||n>=s;)switch(m=(n<c)<<2|(i<r)<<1|e<o,a=new Array(8),a[m]=f,f=a,b*=2,m){case 0:l=o+b,Q=r+b,s=c+b;break;case 1:o=l-b,Q=r+b,s=c+b;break;case 2:l=o+b,r=Q-b,s=c+b;break;case 3:o=l-b,r=Q-b,s=c+b;break;case 4:l=o+b,Q=r+b,c=s-b;break;case 5:o=l-b,Q=r+b,c=s-b;break;case 6:l=o+b,r=Q-b,c=s-b;break;case 7:o=l-b,r=Q-b,c=s-b;break}this._root&&this._root.length&&(this._root=f)}return this._x0=o,this._y0=r,this._z0=c,this._x1=l,this._y1=Q,this._z1=s,this}function Uc(){var e=[];return this.visit(function(i){if(!i.length)do e.push(i.data);while(i=i.next)}),e}function xc(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function D(e,i,n,o,r,c,l){this.node=e,this.x0=i,this.y0=n,this.z0=o,this.x1=r,this.y1=c,this.z1=l}function Ic(e,i,n,o){var r,c=this._x0,l=this._y0,Q=this._z0,s,b,f,a,m,F,u=this._x1,U=this._y1,x=this._z1,B=[],y=this._root,h,d;for(y&&B.push(new D(y,c,l,Q,u,U,x)),o==null?o=1/0:(c=e-o,l=i-o,Q=n-o,u=e+o,U=i+o,x=n+o,o*=o);h=B.pop();)if(!(!(y=h.node)||(s=h.x0)>u||(b=h.y0)>U||(f=h.z0)>x||(a=h.x1)<c||(m=h.y1)<l||(F=h.z1)<Q))if(y.length){var Z=(s+a)/2,I=(b+m)/2,g=(f+F)/2;B.push(new D(y[7],Z,I,g,a,m,F),new D(y[6],s,I,g,Z,m,F),new D(y[5],Z,b,g,a,I,F),new D(y[4],s,b,g,Z,I,F),new D(y[3],Z,I,f,a,m,g),new D(y[2],s,I,f,Z,m,g),new D(y[1],Z,b,f,a,I,g),new D(y[0],s,b,f,Z,I,g)),(d=(n>=g)<<2|(i>=I)<<1|e>=Z)&&(h=B[B.length-1],B[B.length-1]=B[B.length-1-d],B[B.length-1-d]=h)}else{var G=e-+this._x.call(null,y.data),L=i-+this._y.call(null,y.data),J=n-+this._z.call(null,y.data),V=G*G+L*L+J*J;if(V<o){var j=Math.sqrt(o=V);c=e-j,l=i-j,Q=n-j,u=e+j,U=i+j,x=n+j,r=y.data}}return r}function pc(e){if(isNaN(m=+this._x.call(null,e))||isNaN(F=+this._y.call(null,e))||isNaN(u=+this._z.call(null,e)))return this;var i,n=this._root,o,r,c,l=this._x0,Q=this._y0,s=this._z0,b=this._x1,f=this._y1,a=this._z1,m,F,u,U,x,B,y,h,d,Z,I;if(!n)return this;if(n.length)for(;;){if((y=m>=(U=(l+b)/2))?l=U:b=U,(h=F>=(x=(Q+f)/2))?Q=x:f=x,(d=u>=(B=(s+a)/2))?s=B:a=B,i=n,!(n=n[Z=d<<2|h<<1|y]))return this;if(!n.length)break;(i[Z+1&7]||i[Z+2&7]||i[Z+3&7]||i[Z+4&7]||i[Z+5&7]||i[Z+6&7]||i[Z+7&7])&&(o=i,I=Z)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(c=n.next)&&delete n.next,r?(c?r.next=c:delete r.next,this):i?(c?i[Z]=c:delete i[Z],(n=i[0]||i[1]||i[2]||i[3]||i[4]||i[5]||i[6]||i[7])&&n===(i[7]||i[6]||i[5]||i[4]||i[3]||i[2]||i[1]||i[0])&&!n.length&&(o?o[I]=n:this._root=n),this):(this._root=c,this)}function gc(e){for(var i=0,n=e.length;i<n;++i)this.remove(e[i]);return this}function yc(){return this._root}function hc(){var e=0;return this.visit(function(i){if(!i.length)do++e;while(i=i.next)}),e}function Gc(e){var i=[],n,o=this._root,r,c,l,Q,s,b,f;for(o&&i.push(new D(o,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=i.pop();)if(!e(o=n.node,c=n.x0,l=n.y0,Q=n.z0,s=n.x1,b=n.y1,f=n.z1)&&o.length){var a=(c+s)/2,m=(l+b)/2,F=(Q+f)/2;(r=o[7])&&i.push(new D(r,a,m,F,s,b,f)),(r=o[6])&&i.push(new D(r,c,m,F,a,b,f)),(r=o[5])&&i.push(new D(r,a,l,F,s,m,f)),(r=o[4])&&i.push(new D(r,c,l,F,a,m,f)),(r=o[3])&&i.push(new D(r,a,m,Q,s,b,F)),(r=o[2])&&i.push(new D(r,c,m,Q,a,b,F)),(r=o[1])&&i.push(new D(r,a,l,Q,s,m,F)),(r=o[0])&&i.push(new D(r,c,l,Q,a,m,F))}return this}function Cc(e){var i=[],n=[],o;for(this._root&&i.push(new D(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));o=i.pop();){var r=o.node;if(r.length){var c,l=o.x0,Q=o.y0,s=o.z0,b=o.x1,f=o.y1,a=o.z1,m=(l+b)/2,F=(Q+f)/2,u=(s+a)/2;(c=r[0])&&i.push(new D(c,l,Q,s,m,F,u)),(c=r[1])&&i.push(new D(c,m,Q,s,b,F,u)),(c=r[2])&&i.push(new D(c,l,F,s,m,f,u)),(c=r[3])&&i.push(new D(c,m,F,s,b,f,u)),(c=r[4])&&i.push(new D(c,l,Q,u,m,F,a)),(c=r[5])&&i.push(new D(c,m,Q,u,b,F,a)),(c=r[6])&&i.push(new D(c,l,F,u,m,f,a)),(c=r[7])&&i.push(new D(c,m,F,u,b,f,a))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.z0,o.x1,o.y1,o.z1);return this}function Wc(e){return e[0]}function Xc(e){return arguments.length?(this._x=e,this):this._x}function Jc(e){return e[1]}function Lc(e){return arguments.length?(this._y=e,this):this._y}function Yc(e){return e[2]}function Oc(e){return arguments.length?(this._z=e,this):this._z}function wt(e,i,n,o){var r=new nn(i??Wc,n??Jc,o??Yc,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function nn(e,i,n,o,r,c,l,Q,s){this._x=e,this._y=i,this._z=n,this._x0=o,this._y0=r,this._z0=c,this._x1=l,this._y1=Q,this._z1=s,this._root=void 0}function Vc(e){for(var i={data:e.data},n=i;e=e.next;)n=n.next={data:e.data};return i}var $=wt.prototype=nn.prototype;$.copy=function(){var e=new nn(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root,n,o;if(!i)return e;if(!i.length)return e._root=Vc(i),e;for(n=[{source:i,target:e._root=new Array(8)}];i=n.pop();)for(var r=0;r<8;++r)(o=i.source[r])&&(o.length?n.push({source:o,target:i.target[r]=new Array(8)}):i.target[r]=Vc(o));return e};$.add=Bc;$.addAll=dc;$.cover=Zc;$.data=Uc;$.extent=xc;$.find=Ic;$.remove=pc;$.removeAll=gc;$.root=yc;$.size=hc;$.visit=Gc;$.visitAfter=Cc;$.x=Xc;$.y=Lc;$.z=Oc;function be(e){return function(){return e}}function xe(e){return(e()-.5)*1e-6}function _b(e){return e.index}function jc(e,i){var n=e.get(i);if(!n)throw new Error("node not found: "+i);return n}function on(e){var i=_b,n=m,o,r=be(30),c,l,Q,s,b,f,a=1;e==null&&(e=[]);function m(B){return 1/Math.min(s[B.source.index],s[B.target.index])}function F(B){for(var y=0,h=e.length;y<a;++y)for(var d=0,Z,I,g,G=0,L=0,J=0,V,j;d<h;++d)Z=e[d],I=Z.source,g=Z.target,G=g.x+g.vx-I.x-I.vx||xe(f),Q>1&&(L=g.y+g.vy-I.y-I.vy||xe(f)),Q>2&&(J=g.z+g.vz-I.z-I.vz||xe(f)),V=Math.sqrt(G*G+L*L+J*J),V=(V-c[d])/V*B*o[d],G*=V,L*=V,J*=V,g.vx-=G*(j=b[d]),Q>1&&(g.vy-=L*j),Q>2&&(g.vz-=J*j),I.vx+=G*(j=1-j),Q>1&&(I.vy+=L*j),Q>2&&(I.vz+=J*j)}function u(){if(l){var B,y=l.length,h=e.length,d=new Map(l.map((I,g)=>[i(I,g,l),I])),Z;for(B=0,s=new Array(y);B<h;++B)Z=e[B],Z.index=B,typeof Z.source!="object"&&(Z.source=jc(d,Z.source)),typeof Z.target!="object"&&(Z.target=jc(d,Z.target)),s[Z.source.index]=(s[Z.source.index]||0)+1,s[Z.target.index]=(s[Z.target.index]||0)+1;for(B=0,b=new Array(h);B<h;++B)Z=e[B],b[B]=s[Z.source.index]/(s[Z.source.index]+s[Z.target.index]);o=new Array(h),U(),c=new Array(h),x()}}function U(){if(l)for(var B=0,y=e.length;B<y;++B)o[B]=+n(e[B],B,e)}function x(){if(l)for(var B=0,y=e.length;B<y;++B)c[B]=+r(e[B],B,e)}return F.initialize=function(B,...y){l=B,f=y.find(h=>typeof h=="function")||Math.random,Q=y.find(h=>[1,2,3].includes(h))||2,u()},F.links=function(B){return arguments.length?(e=B,u(),F):e},F.id=function(B){return arguments.length?(i=B,F):i},F.iterations=function(B){return arguments.length?(a=+B,F):a},F.strength=function(B){return arguments.length?(n=typeof B=="function"?B:be(+B),U(),F):n},F.distance=function(B){return arguments.length?(r=typeof B=="function"?B:be(+B),x(),F):r},F}function wc(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}var kc=3;function gi(e){return e.x}function rn(e){return e.y}function Rc(e){return e.z}var Ab=10,qb=Math.PI*(3-Math.sqrt(5)),Pb=Math.PI*20/(9+Math.sqrt(221));function cn(e,i){i=i||2;var n=Math.min(kc,Math.max(1,Math.round(i))),o,r=1,c=.001,l=1-Math.pow(c,1/300),Q=0,s=.6,b=new Map,f=$e(F),a=We("tick","end"),m=wc();e==null&&(e=[]);function F(){u(),a.call("tick",o),r<c&&(f.stop(),a.call("end",o))}function u(B){var y,h=e.length,d;B===void 0&&(B=1);for(var Z=0;Z<B;++Z)for(r+=(Q-r)*l,b.forEach(function(I){I(r)}),y=0;y<h;++y)d=e[y],d.fx==null?d.x+=d.vx*=s:(d.x=d.fx,d.vx=0),n>1&&(d.fy==null?d.y+=d.vy*=s:(d.y=d.fy,d.vy=0)),n>2&&(d.fz==null?d.z+=d.vz*=s:(d.z=d.fz,d.vz=0));return o}function U(){for(var B=0,y=e.length,h;B<y;++B){if(h=e[B],h.index=B,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),h.fz!=null&&(h.z=h.fz),isNaN(h.x)||n>1&&isNaN(h.y)||n>2&&isNaN(h.z)){var d=Ab*(n>2?Math.cbrt(.5+B):n>1?Math.sqrt(.5+B):B),Z=B*qb,I=B*Pb;n===1?h.x=d:n===2?(h.x=d*Math.cos(Z),h.y=d*Math.sin(Z)):(h.x=d*Math.sin(Z)*Math.cos(I),h.y=d*Math.cos(Z),h.z=d*Math.sin(Z)*Math.sin(I))}(isNaN(h.vx)||n>1&&isNaN(h.vy)||n>2&&isNaN(h.vz))&&(h.vx=0,n>1&&(h.vy=0),n>2&&(h.vz=0))}}function x(B){return B.initialize&&B.initialize(e,m,n),B}return U(),o={tick:u,restart:function(){return f.restart(F),o},stop:function(){return f.stop(),o},numDimensions:function(B){return arguments.length?(n=Math.min(kc,Math.max(1,Math.round(B))),b.forEach(x),o):n},nodes:function(B){return arguments.length?(e=B,U(),b.forEach(x),o):e},alpha:function(B){return arguments.length?(r=+B,o):r},alphaMin:function(B){return arguments.length?(c=+B,o):c},alphaDecay:function(B){return arguments.length?(l=+B,o):+l},alphaTarget:function(B){return arguments.length?(Q=+B,o):Q},velocityDecay:function(B){return arguments.length?(s=1-B,o):1-s},randomSource:function(B){return arguments.length?(m=B,b.forEach(x),o):m},force:function(B,y){return arguments.length>1?(y==null?b.delete(B):b.set(B,x(y)),o):b.get(B)},find:function(){var B=Array.prototype.slice.call(arguments),y=B.shift()||0,h=(n>1?B.shift():null)||0,d=(n>2?B.shift():null)||0,Z=B.shift()||1/0,I=0,g=e.length,G,L,J,V,j,v;for(Z*=Z,I=0;I<g;++I)j=e[I],G=y-j.x,L=h-(j.y||0),J=d-(j.z||0),V=G*G+L*L+J*J,V<Z&&(v=j,Z=V);return v},on:function(B,y){return arguments.length>1?(a.on(B,y),o):a.on(B)}}}function ln(){var e,i,n,o,r,c=be(-30),l,Q=1,s=1/0,b=.81;function f(u){var U,x=e.length,B=(i===1?Vt(e,gi):i===2?jt(e,gi,rn):i===3?wt(e,gi,rn,Rc):null).visitAfter(m);for(r=u,U=0;U<x;++U)n=e[U],B.visit(F)}function a(){if(e){var u,U=e.length,x;for(l=new Array(U),u=0;u<U;++u)x=e[u],l[x.index]=+c(x,u,e)}}function m(u){var U=0,x,B,y=0,h,d,Z,I,g=u.length;if(g){for(h=d=Z=I=0;I<g;++I)(x=u[I])&&(B=Math.abs(x.value))&&(U+=x.value,y+=B,h+=B*(x.x||0),d+=B*(x.y||0),Z+=B*(x.z||0));U*=Math.sqrt(4/g),u.x=h/y,i>1&&(u.y=d/y),i>2&&(u.z=Z/y)}else{x=u,x.x=x.data.x,i>1&&(x.y=x.data.y),i>2&&(x.z=x.data.z);do U+=l[x.data.index];while(x=x.next)}u.value=U}function F(u,U,x,B,y){if(!u.value)return!0;var h=[x,B,y][i-1],d=u.x-n.x,Z=i>1?u.y-n.y:0,I=i>2?u.z-n.z:0,g=h-U,G=d*d+Z*Z+I*I;if(g*g/b<G)return G<s&&(d===0&&(d=xe(o),G+=d*d),i>1&&Z===0&&(Z=xe(o),G+=Z*Z),i>2&&I===0&&(I=xe(o),G+=I*I),G<Q&&(G=Math.sqrt(Q*G)),n.vx+=d*u.value*r/G,i>1&&(n.vy+=Z*u.value*r/G),i>2&&(n.vz+=I*u.value*r/G)),!0;if(u.length||G>=s)return;(u.data!==n||u.next)&&(d===0&&(d=xe(o),G+=d*d),i>1&&Z===0&&(Z=xe(o),G+=Z*Z),i>2&&I===0&&(I=xe(o),G+=I*I),G<Q&&(G=Math.sqrt(Q*G)));do u.data!==n&&(g=l[u.data.index]*r/G,n.vx+=d*g,i>1&&(n.vy+=Z*g),i>2&&(n.vz+=I*g));while(u=u.next)}return f.initialize=function(u,...U){e=u,o=U.find(x=>typeof x=="function")||Math.random,i=U.find(x=>[1,2,3].includes(x))||2,a()},f.strength=function(u){return arguments.length?(c=typeof u=="function"?u:be(+u),a(),f):c},f.distanceMin=function(u){return arguments.length?(Q=u*u,f):Math.sqrt(Q)},f.distanceMax=function(u){return arguments.length?(s=u*u,f):Math.sqrt(s)},f.theta=function(u){return arguments.length?(b=u*u,f):Math.sqrt(b)},f}function Qn(e,i,n,o){var r,c,l=be(.1),Q,s;typeof e!="function"&&(e=be(+e)),i==null&&(i=0),n==null&&(n=0),o==null&&(o=0);function b(a){for(var m=0,F=r.length;m<F;++m){var u=r[m],U=u.x-i||1e-6,x=(u.y||0)-n||1e-6,B=(u.z||0)-o||1e-6,y=Math.sqrt(U*U+x*x+B*B),h=(s[m]-y)*Q[m]*a/y;u.vx+=U*h,c>1&&(u.vy+=x*h),c>2&&(u.vz+=B*h)}}function f(){if(r){var a,m=r.length;for(Q=new Array(m),s=new Array(m),a=0;a<m;++a)s[a]=+e(r[a],a,r),Q[a]=isNaN(s[a])?0:+l(r[a],a,r)}}return b.initialize=function(a,...m){r=a,c=m.find(F=>[1,2,3].includes(F))||2,f()},b.strength=function(a){return arguments.length?(l=typeof a=="function"?a:be(+a),f(),b):l},b.radius=function(a){return arguments.length?(e=typeof a=="function"?a:be(+a),f(),b):e},b.x=function(a){return arguments.length?(i=+a,b):i},b.y=function(a){return arguments.length?(n=+a,b):n},b.z=function(a){return arguments.length?(o=+a,b):o},b}var{abs:kt,cos:Le,sin:rt,acos:Kb,atan2:Rt,sqrt:ke,pow:ae}=Math;function vt(e){return e<0?-ae(-e,1/3):ae(e,1/3)}var vc=Math.PI,yi=2*vc,Re=vc/2,$b=1e-6,sn=Number.MAX_SAFE_INTEGER||9007199254740991,bn=Number.MIN_SAFE_INTEGER||-9007199254740991,ea={x:0,y:0,z:0},W={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,i){let n=i(e),o=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(o+=n.z*n.z),ke(o)},compute:function(e,i,n){if(e===0)return i[0].t=0,i[0];let o=i.length-1;if(e===1)return i[o].t=1,i[o];let r=1-e,c=i;if(o===0)return i[0].t=e,i[0];if(o===1){let Q={x:r*c[0].x+e*c[1].x,y:r*c[0].y+e*c[1].y,t:e};return n&&(Q.z=r*c[0].z+e*c[1].z),Q}if(o<4){let Q=r*r,s=e*e,b,f,a,m=0;o===2?(c=[c[0],c[1],c[2],ea],b=Q,f=r*e*2,a=s):o===3&&(b=Q*r,f=Q*e*3,a=r*s*3,m=e*s);let F={x:b*c[0].x+f*c[1].x+a*c[2].x+m*c[3].x,y:b*c[0].y+f*c[1].y+a*c[2].y+m*c[3].y,t:e};return n&&(F.z=b*c[0].z+f*c[1].z+a*c[2].z+m*c[3].z),F}let l=JSON.parse(JSON.stringify(i));for(;l.length>1;){for(let Q=0;Q<l.length-1;Q++)l[Q]={x:l[Q].x+(l[Q+1].x-l[Q].x)*e,y:l[Q].y+(l[Q+1].y-l[Q].y)*e},typeof l[Q].z<"u"&&(l[Q].z=l[Q].z+(l[Q+1].z-l[Q].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,i,n,o){let r=1-e,c=n,l=i,Q=c[0],s=c[1],b=c[2],f=c[3],a;if(Q*=r,s*=e,l.length===2)return a=Q+s,{x:(Q*l[0].x+s*l[1].x)/a,y:(Q*l[0].y+s*l[1].y)/a,z:o?(Q*l[0].z+s*l[1].z)/a:!1,t:e};if(Q*=r,s*=2*r,b*=e*e,l.length===3)return a=Q+s+b,{x:(Q*l[0].x+s*l[1].x+b*l[2].x)/a,y:(Q*l[0].y+s*l[1].y+b*l[2].y)/a,z:o?(Q*l[0].z+s*l[1].z+b*l[2].z)/a:!1,t:e};if(Q*=r,s*=1.5*r,b*=3*r,f*=e*e*e,l.length===4)return a=Q+s+b+f,{x:(Q*l[0].x+s*l[1].x+b*l[2].x+f*l[3].x)/a,y:(Q*l[0].y+s*l[1].y+b*l[2].y+f*l[3].y)/a,z:o?(Q*l[0].z+s*l[1].z+b*l[2].z+f*l[3].z)/a:!1,t:e}},derive:function(e,i){let n=[];for(let o=e,r=o.length,c=r-1;r>1;r--,c--){let l=[];for(let Q=0,s;Q<c;Q++)s={x:c*(o[Q+1].x-o[Q].x),y:c*(o[Q+1].y-o[Q].y)},i&&(s.z=c*(o[Q+1].z-o[Q].z)),l.push(s);n.push(l),o=l}return n},between:function(e,i,n){return i<=e&&e<=n||W.approximately(e,i)||W.approximately(e,n)},approximately:function(e,i,n){return kt(e-i)<=(n||$b)},length:function(e){let n=W.Tvalues.length,o=0;for(let r=0,c;r<n;r++)c=.5*W.Tvalues[r]+.5,o+=W.Cvalues[r]*W.arcfn(c,e);return .5*o},map:function(e,i,n,o,r){let c=n-i,l=r-o,Q=e-i,s=Q/c;return o+l*s},lerp:function(e,i,n){let o={x:i.x+e*(n.x-i.x),y:i.y+e*(n.y-i.y)};return i.z!==void 0&&n.z!==void 0&&(o.z=i.z+e*(n.z-i.z)),o},pointToString:function(e){let i=e.x+"/"+e.y;return typeof e.z<"u"&&(i+="/"+e.z),i},pointsToString:function(e){return"["+e.map(W.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,i,n){let o=i.x-e.x,r=i.y-e.y,c=n.x-e.x,l=n.y-e.y,Q=o*l-r*c,s=o*c+r*l;return Rt(Q,s)},round:function(e,i){let n=""+e,o=n.indexOf(".");return parseFloat(n.substring(0,o+1+i))},dist:function(e,i){let n=e.x-i.x,o=e.y-i.y;return ke(n*n+o*o)},closest:function(e,i){let n=ae(2,63),o,r;return e.forEach(function(c,l){r=W.dist(i,c),r<n&&(n=r,o=l)}),{mdist:n,mpos:o}},abcratio:function(e,i){if(i!==2&&i!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=ae(e,i)+ae(1-e,i),o=n-1;return kt(o/n)},projectionratio:function(e,i){if(i!==2&&i!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=ae(1-e,i),o=ae(e,i)+n;return n/o},lli8:function(e,i,n,o,r,c,l,Q){let s=(e*o-i*n)*(r-l)-(e-n)*(r*Q-c*l),b=(e*o-i*n)*(c-Q)-(i-o)*(r*Q-c*l),f=(e-n)*(c-Q)-(i-o)*(r-l);return f==0?!1:{x:s/f,y:b/f}},lli4:function(e,i,n,o){let r=e.x,c=e.y,l=i.x,Q=i.y,s=n.x,b=n.y,f=o.x,a=o.y;return W.lli8(r,c,l,Q,s,b,f,a)},lli:function(e,i){return W.lli4(e,e.c,i,i.c)},makeline:function(e,i){return new _e(e.x,e.y,(e.x+i.x)/2,(e.y+i.y)/2,i.x,i.y)},findbbox:function(e){let i=sn,n=sn,o=bn,r=bn;return e.forEach(function(c){let l=c.bbox();i>l.x.min&&(i=l.x.min),n>l.y.min&&(n=l.y.min),o<l.x.max&&(o=l.x.max),r<l.y.max&&(r=l.y.max)}),{x:{min:i,mid:(i+o)/2,max:o,size:o-i},y:{min:n,mid:(n+r)/2,max:r,size:r-n}}},shapeintersections:function(e,i,n,o,r){if(!W.bboxoverlap(i,o))return[];let c=[],l=[e.startcap,e.forward,e.back,e.endcap],Q=[n.startcap,n.forward,n.back,n.endcap];return l.forEach(function(s){s.virtual||Q.forEach(function(b){if(b.virtual)return;let f=s.intersects(b,r);f.length>0&&(f.c1=s,f.c2=b,f.s1=e,f.s2=n,c.push(f))})}),c},makeshape:function(e,i,n){let o=i.points.length,r=e.points.length,c=W.makeline(i.points[o-1],e.points[0]),l=W.makeline(e.points[r-1],i.points[0]),Q={startcap:c,forward:e,back:i,endcap:l,bbox:W.findbbox([c,e,i,l])};return Q.intersections=function(s){return W.shapeintersections(Q,Q.bbox,s,s.bbox,n)},Q},getminmax:function(e,i,n){if(!n)return{min:0,max:0};let o=sn,r=bn,c,l;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let Q=0,s=n.length;Q<s;Q++)c=n[Q],l=e.get(c),l[i]<o&&(o=l[i]),l[i]>r&&(r=l[i]);return{min:o,mid:(o+r)/2,max:r,size:r-o}},align:function(e,i){let n=i.p1.x,o=i.p1.y,r=-Rt(i.p2.y-o,i.p2.x-n),c=function(l){return{x:(l.x-n)*Le(r)-(l.y-o)*rt(r),y:(l.x-n)*rt(r)+(l.y-o)*Le(r)}};return e.map(c)},roots:function(e,i){i=i||{p1:{x:0,y:0},p2:{x:1,y:0}};let n=e.length-1,o=W.align(e,i),r=function(g){return 0<=g&&g<=1};if(n===2){let g=o[0].y,G=o[1].y,L=o[2].y,J=g-2*G+L;if(J!==0){let V=-ke(G*G-g*L),j=-g+G,v=-(V+j)/J,p=-(-V+j)/J;return[v,p].filter(r)}else if(G!==L&&J===0)return[(2*G-L)/(2*G-2*L)].filter(r);return[]}let c=o[0].y,l=o[1].y,Q=o[2].y,s=o[3].y,b=-c+3*l-3*Q+s,f=3*c-6*l+3*Q,a=-3*c+3*l,m=c;if(W.approximately(b,0)){if(W.approximately(f,0))return W.approximately(a,0)?[]:[-m/a].filter(r);let g=ke(a*a-4*f*m),G=2*f;return[(g-a)/G,(-a-g)/G].filter(r)}f/=b,a/=b,m/=b;let F=(3*a-f*f)/3,u=F/3,U=(2*f*f*f-9*f*a+27*m)/27,x=U/2,B=x*x+u*u*u,y,h,d,Z,I;if(B<0){let g=-F/3,G=g*g*g,L=ke(G),J=-U/(2*L),V=J<-1?-1:J>1?1:J,j=Kb(V),v=vt(L),p=2*v;return d=p*Le(j/3)-f/3,Z=p*Le((j+yi)/3)-f/3,I=p*Le((j+2*yi)/3)-f/3,[d,Z,I].filter(r)}else{if(B===0)return y=x<0?vt(-x):-vt(x),d=2*y-f/3,Z=-y-f/3,[d,Z].filter(r);{let g=ke(B);return y=vt(-x+g),h=vt(x+g),[y-h-f/3].filter(r)}}},droots:function(e){if(e.length===3){let i=e[0],n=e[1],o=e[2],r=i-2*n+o;if(r!==0){let c=-ke(n*n-i*o),l=-i+n,Q=-(c+l)/r,s=-(-c+l)/r;return[Q,s]}else if(n!==o&&r===0)return[(2*n-o)/(2*(n-o))];return[]}if(e.length===2){let i=e[0],n=e[1];return i!==n?[i/(i-n)]:[]}return[]},curvature:function(e,i,n,o,r){let c,l,Q,s,b=0,f=0,a=W.compute(e,i),m=W.compute(e,n),F=a.x*a.x+a.y*a.y;if(o?(c=ke(ae(a.y*m.z-m.y*a.z,2)+ae(a.z*m.x-m.z*a.x,2)+ae(a.x*m.y-m.x*a.y,2)),l=ae(F+a.z*a.z,3/2)):(c=a.x*m.y-a.y*m.x,l=ae(F,3/2)),c===0||l===0)return{k:0,r:0};if(b=c/l,f=l/c,!r){let u=W.curvature(e-.001,i,n,o,!0).k,U=W.curvature(e+.001,i,n,o,!0).k;s=(U-b+(b-u))/2,Q=(kt(U-b)+kt(b-u))/2}return{k:b,r:f,dk:s,adk:Q}},inflections:function(e){if(e.length<4)return[];let i=W.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=i[2].x*i[1].y,o=i[3].x*i[1].y,r=i[1].x*i[2].y,c=i[3].x*i[2].y,l=18*(-3*n+2*o+3*r-c),Q=18*(3*n-o-3*r),s=18*(r-n);if(W.approximately(l,0)){if(!W.approximately(Q,0)){let m=-s/Q;if(0<=m&&m<=1)return[m]}return[]}let b=2*l;if(W.approximately(b,0))return[];let f=Q*Q-4*l*s;if(f<0)return[];let a=Math.sqrt(f);return[(a-Q)/b,-(Q+a)/b].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(e,i){let n=["x","y"],o=n.length;for(let r=0,c,l,Q,s;r<o;r++)if(c=n[r],l=e[c].mid,Q=i[c].mid,s=(e[c].size+i[c].size)/2,kt(l-Q)>=s)return!1;return!0},expandbox:function(e,i){i.x.min<e.x.min&&(e.x.min=i.x.min),i.y.min<e.y.min&&(e.y.min=i.y.min),i.z&&i.z.min<e.z.min&&(e.z.min=i.z.min),i.x.max>e.x.max&&(e.x.max=i.x.max),i.y.max>e.y.max&&(e.y.max=i.y.max),i.z&&i.z.max>e.z.max&&(e.z.max=i.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,i,n){let o=e.bbox(),r=i.bbox(),c=1e5,l=n||.5;if(o.x.size+o.y.size<l&&r.x.size+r.y.size<l)return[(c*(e._t1+e._t2)/2|0)/c+"/"+(c*(i._t1+i._t2)/2|0)/c];let Q=e.split(.5),s=i.split(.5),b=[{left:Q.left,right:s.left},{left:Q.left,right:s.right},{left:Q.right,right:s.right},{left:Q.right,right:s.left}];b=b.filter(function(a){return W.bboxoverlap(a.left.bbox(),a.right.bbox())});let f=[];return b.length===0||(b.forEach(function(a){f=f.concat(W.pairiteration(a.left,a.right,l))}),f=f.filter(function(a,m){return f.indexOf(a)===m})),f},getccenter:function(e,i,n){let o=i.x-e.x,r=i.y-e.y,c=n.x-i.x,l=n.y-i.y,Q=o*Le(Re)-r*rt(Re),s=o*rt(Re)+r*Le(Re),b=c*Le(Re)-l*rt(Re),f=c*rt(Re)+l*Le(Re),a=(e.x+i.x)/2,m=(e.y+i.y)/2,F=(i.x+n.x)/2,u=(i.y+n.y)/2,U=a+Q,x=m+s,B=F+b,y=u+f,h=W.lli8(a,m,U,x,F,u,B,y),d=W.dist(h,e),Z=Rt(e.y-h.y,e.x-h.x),I=Rt(i.y-h.y,i.x-h.x),g=Rt(n.y-h.y,n.x-h.x),G;return Z<g?((Z>I||I>g)&&(Z+=yi),Z>g&&(G=g,g=Z,Z=G)):g<I&&I<Z?(G=g,g=Z,Z=G):g+=yi,h.s=Z,h.e=g,h.r=d,h},numberSort:function(e,i){return e-i}};var ct=class e{constructor(i){this.curves=[],this._3d=!1,i&&(this.curves=i,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(i){return W.pointsToString(i.points)}).join(", ")+"]"}addCurve(i){this.curves.push(i),this._3d=this._3d||i._3d}length(){return this.curves.map(function(i){return i.length()}).reduce(function(i,n){return i+n})}curve(i){return this.curves[i]}bbox(){let i=this.curves;for(var n=i[0].bbox(),o=1;o<i.length;o++)W.expandbox(n,i[o].bbox());return n}offset(i){let n=[];return this.curves.forEach(function(o){n.push(...o.offset(i))}),new e(n)}};var{abs:Nt,min:Nc,max:Dc,cos:ta,sin:ia,acos:na,sqrt:Dt}=Math,oa=Math.PI;var _e=class e{constructor(i){let n=i&&i.forEach?i:Array.from(arguments).slice(),o=!1;if(typeof n[0]=="object"){o=n.length;let F=[];n.forEach(function(u){["x","y","z"].forEach(function(U){typeof u[U]<"u"&&F.push(u[U])})}),n=F}let r=!1,c=n.length;if(o){if(o>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(c!==6&&c!==8&&c!==9&&c!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let l=this._3d=!r&&(c===9||c===12)||i&&i[0]&&typeof i[0].z<"u",Q=this.points=[];for(let F=0,u=l?3:2;F<c;F+=u){var s={x:n[F],y:n[F+1]};l&&(s.z=n[F+2]),Q.push(s)}let b=this.order=Q.length-1,f=this.dims=["x","y"];l&&f.push("z"),this.dimlen=f.length;let a=W.align(Q,{p1:Q[0],p2:Q[b]}),m=W.dist(Q[0],Q[b]);this._linear=a.reduce((F,u)=>F+Nt(u.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(i,n,o,r){if(typeof r>"u"&&(r=.5),r===0)return new e(n,n,o);if(r===1)return new e(i,n,n);let c=e.getABC(2,i,n,o,r);return new e(i,c.A,o)}static cubicFromPoints(i,n,o,r,c){typeof r>"u"&&(r=.5);let l=e.getABC(3,i,n,o,r);typeof c>"u"&&(c=W.dist(n,l.C));let Q=c*(1-r)/r,s=W.dist(i,o),b=(o.x-i.x)/s,f=(o.y-i.y)/s,a=c*b,m=c*f,F=Q*b,u=Q*f,U={x:n.x-a,y:n.y-m},x={x:n.x+F,y:n.y+u},B=l.A,y={x:B.x+(U.x-B.x)/(1-r),y:B.y+(U.y-B.y)/(1-r)},h={x:B.x+(x.x-B.x)/r,y:B.y+(x.y-B.y)/r},d={x:i.x+(y.x-i.x)/r,y:i.y+(y.y-i.y)/r},Z={x:o.x+(h.x-o.x)/(1-r),y:o.y+(h.y-o.y)/(1-r)};return new e(i,d,Z,o)}static getUtils(){return W}getUtils(){return e.getUtils()}static get PolyBezier(){return ct}valueOf(){return this.toString()}toString(){return W.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let i=this.points,n=i[0].x,o=i[0].y,r=["M",n,o,this.order===2?"Q":"C"];for(let c=1,l=i.length;c<l;c++)r.push(i[c].x),r.push(i[c].y);return r.join(" ")}setRatios(i){if(i.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=i,this._lut=[]}verify(){let i=this.coordDigest();i!==this._print&&(this._print=i,this.update())}coordDigest(){return this.points.map(function(i,n){return""+n+i.x+i.y+(i.z?i.z:0)}).join("")}update(){this._lut=[],this.dpoints=W.derive(this.points,this._3d),this.computedirection()}computedirection(){let i=this.points,n=W.angle(i[0],i[this.order],i[1]);this.clockwise=n>0}length(){return W.length(this.derivative.bind(this))}static getABC(i=2,n,o,r,c=.5){let l=W.projectionratio(c,i),Q=1-l,s={x:l*n.x+Q*r.x,y:l*n.y+Q*r.y},b=W.abcratio(c,i);return{A:{x:o.x+(o.x-s.x)/b,y:o.y+(o.y-s.y)/b},B:o,C:s,S:n,E:r}}getABC(i,n){n=n||this.get(i);let o=this.points[0],r=this.points[this.order];return e.getABC(this.order,o,n,r,i)}getLUT(i){if(this.verify(),i=i||100,this._lut.length===i+1)return this._lut;this._lut=[],i++,this._lut=[];for(let n=0,o,r;n<i;n++)r=n/(i-1),o=this.compute(r),o.t=r,this._lut.push(o);return this._lut}on(i,n){n=n||5;let o=this.getLUT(),r=[];for(let c=0,l,Q=0;c<o.length;c++)l=o[c],W.dist(l,i)<n&&(r.push(l),Q+=c/o.length);return r.length?t/=r.length:!1}project(i){let n=this.getLUT(),o=n.length-1,r=W.closest(n,i),c=r.mpos,l=(c-1)/o,Q=(c+1)/o,s=.1/o,b=r.mdist,f=l,a=f,m;b+=1;for(let F;f<Q+s;f+=s)m=this.compute(f),F=W.dist(i,m),F<b&&(b=F,a=f);return a=a<0?0:a>1?1:a,m=this.compute(a),m.t=a,m.d=b,m}get(i){return this.compute(i)}point(i){return this.points[i]}compute(i){return this.ratios?W.computeWithRatios(i,this.points,this.ratios,this._3d):W.compute(i,this.points,this._3d,this.ratios)}raise(){let i=this.points,n=[i[0]],o=i.length;for(let r=1,c,l;r<o;r++)c=i[r],l=i[r-1],n[r]={x:(o-r)/o*c.x+r/o*l.x,y:(o-r)/o*c.y+r/o*l.y};return n[o]=i[o-1],new e(n)}derivative(i){return W.compute(i,this.dpoints[0],this._3d)}dderivative(i){return W.compute(i,this.dpoints[1],this._3d)}align(){let i=this.points;return new e(W.align(i,{p1:i[0],p2:i[i.length-1]}))}curvature(i){return W.curvature(i,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return W.inflections(this.points)}normal(i){return this._3d?this.__normal3(i):this.__normal2(i)}__normal2(i){let n=this.derivative(i),o=Dt(n.x*n.x+n.y*n.y);return{t:i,x:-n.y/o,y:n.x/o}}__normal3(i){let n=this.derivative(i),o=this.derivative(i+.01),r=Dt(n.x*n.x+n.y*n.y+n.z*n.z),c=Dt(o.x*o.x+o.y*o.y+o.z*o.z);n.x/=r,n.y/=r,n.z/=r,o.x/=c,o.y/=c,o.z/=c;let l={x:o.y*n.z-o.z*n.y,y:o.z*n.x-o.x*n.z,z:o.x*n.y-o.y*n.x},Q=Dt(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=Q,l.y/=Q,l.z/=Q;let s=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:i,x:s[0]*n.x+s[1]*n.y+s[2]*n.z,y:s[3]*n.x+s[4]*n.y+s[5]*n.z,z:s[6]*n.x+s[7]*n.y+s[8]*n.z}}hull(i){let n=this.points,o=[],r=[],c=0;for(r[c++]=n[0],r[c++]=n[1],r[c++]=n[2],this.order===3&&(r[c++]=n[3]);n.length>1;){o=[];for(let l=0,Q,s=n.length-1;l<s;l++)Q=W.lerp(i,n[l],n[l+1]),r[c++]=Q,o.push(Q);n=o}return r}split(i,n){if(i===0&&n)return this.split(n).left;if(n===1)return this.split(i).right;let o=this.hull(i),r={left:this.order===2?new e([o[0],o[3],o[5]]):new e([o[0],o[4],o[7],o[9]]),right:this.order===2?new e([o[5],o[4],o[2]]):new e([o[9],o[8],o[6],o[3]]),span:o};return r.left._t1=W.map(0,0,1,this._t1,this._t2),r.left._t2=W.map(i,0,1,this._t1,this._t2),r.right._t1=W.map(i,0,1,this._t1,this._t2),r.right._t2=W.map(1,0,1,this._t1,this._t2),n?(n=W.map(n,i,1,0,1),r.right.split(n).left):r}extrema(){let i={},n=[];return this.dims.forEach(function(o){let r=function(l){return l[o]},c=this.dpoints[0].map(r);i[o]=W.droots(c),this.order===3&&(c=this.dpoints[1].map(r),i[o]=i[o].concat(W.droots(c))),i[o]=i[o].filter(function(l){return l>=0&&l<=1}),n=n.concat(i[o].sort(W.numberSort))}.bind(this)),i.values=n.sort(W.numberSort).filter(function(o,r){return n.indexOf(o)===r}),i}bbox(){let i=this.extrema(),n={};return this.dims.forEach(function(o){n[o]=W.getminmax(this,o,i[o])}.bind(this)),n}overlaps(i){let n=this.bbox(),o=i.bbox();return W.bboxoverlap(n,o)}offset(i,n){if(typeof n<"u"){let o=this.get(i),r=this.normal(i),c={c:o,n:r,x:o.x+r.x*n,y:o.y+r.y*n};return this._3d&&(c.z=o.z+r.z*n),c}if(this._linear){let o=this.normal(0),r=this.points.map(function(c){let l={x:c.x+i*o.x,y:c.y+i*o.y};return c.z&&o.z&&(l.z=c.z+i*o.z),l});return[new e(r)]}return this.reduce().map(function(o){return o._linear?o.offset(i)[0]:o.scale(i)})}simple(){if(this.order===3){let r=W.angle(this.points[0],this.points[3],this.points[1]),c=W.angle(this.points[0],this.points[3],this.points[2]);if(r>0&&c<0||r<0&&c>0)return!1}let i=this.normal(0),n=this.normal(1),o=i.x*n.x+i.y*n.y;return this._3d&&(o+=i.z*n.z),Nt(na(o))<oa/3}reduce(){let i,n=0,o=0,r=.01,c,l=[],Q=[],s=this.extrema().values;for(s.indexOf(0)===-1&&(s=[0].concat(s)),s.indexOf(1)===-1&&s.push(1),n=s[0],i=1;i<s.length;i++)o=s[i],c=this.split(n,o),c._t1=n,c._t2=o,l.push(c),n=o;return l.forEach(function(b){for(n=0,o=0;o<=1;)for(o=n+r;o<=1+r;o+=r)if(c=b.split(n,o),!c.simple()){if(o-=r,Nt(n-o)<r)return[];c=b.split(n,o),c._t1=W.map(n,0,1,b._t1,b._t2),c._t2=W.map(o,0,1,b._t1,b._t2),Q.push(c),n=o;break}n<1&&(c=b.split(n,1),c._t1=W.map(n,0,1,b._t1,b._t2),c._t2=b._t2,Q.push(c))}),Q}translate(i,n,o){o=typeof o=="number"?o:n;let r=this.order,c=this.points.map((l,Q)=>(1-Q/r)*n+Q/r*o);return new e(this.points.map((l,Q)=>({x:l.x+i.x*c[Q],y:l.y+i.y*c[Q]})))}scale(i){let n=this.order,o=!1;if(typeof i=="function"&&(o=i),o&&n===2)return this.raise().scale(o);let r=this.clockwise,c=this.points;if(this._linear)return this.translate(this.normal(0),o?o(0):i,o?o(1):i);let l=o?o(0):i,Q=o?o(1):i,s=[this.offset(0,10),this.offset(1,10)],b=[],f=W.lli4(s[0],s[0].c,s[1],s[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(a){let m=b[a*n]=W.copy(c[a*n]);m.x+=(a?Q:l)*s[a].n.x,m.y+=(a?Q:l)*s[a].n.y}),o?([0,1].forEach(function(a){if(!(n===2&&a)){var m=c[a+1],F={x:m.x-f.x,y:m.y-f.y},u=o?o((a+1)/n):i;o&&!r&&(u=-u);var U=Dt(F.x*F.x+F.y*F.y);F.x/=U,F.y/=U,b[a+1]={x:m.x+u*F.x,y:m.y+u*F.y}}}),new e(b)):([0,1].forEach(a=>{if(n===2&&a)return;let m=b[a*n],F=this.derivative(a),u={x:m.x+F.x,y:m.y+F.y};b[a+1]=W.lli4(m,u,f,c[a+1])}),new e(b))}outline(i,n,o,r){if(n=n===void 0?i:n,this._linear){let Z=this.normal(0),I=this.points[0],g=this.points[this.points.length-1],G,L,J;o===void 0&&(o=i,r=n),G={x:I.x+Z.x*i,y:I.y+Z.y*i},J={x:g.x+Z.x*o,y:g.y+Z.y*o},L={x:(G.x+J.x)/2,y:(G.y+J.y)/2};let V=[G,L,J];G={x:I.x-Z.x*n,y:I.y-Z.y*n},J={x:g.x-Z.x*r,y:g.y-Z.y*r},L={x:(G.x+J.x)/2,y:(G.y+J.y)/2};let j=[J,L,G],v=W.makeline(j[2],V[0]),p=W.makeline(V[2],j[0]),X=[v,new e(V),p,new e(j)];return new ct(X)}let c=this.reduce(),l=c.length,Q=[],s=[],b,f=0,a=this.length(),m=typeof o<"u"&&typeof r<"u";function F(Z,I,g,G,L){return function(J){let V=G/g,j=(G+L)/g,v=I-Z;return W.map(J,0,1,Z+V*v,Z+j*v)}}c.forEach(function(Z){let I=Z.length();m?(Q.push(Z.scale(F(i,o,a,f,I))),s.push(Z.scale(F(-n,-r,a,f,I)))):(Q.push(Z.scale(i)),s.push(Z.scale(-n))),f+=I}),s=s.map(function(Z){return b=Z.points,b[3]?Z.points=[b[3],b[2],b[1],b[0]]:Z.points=[b[2],b[1],b[0]],Z}).reverse();let u=Q[0].points[0],U=Q[l-1].points[Q[l-1].points.length-1],x=s[l-1].points[s[l-1].points.length-1],B=s[0].points[0],y=W.makeline(x,u),h=W.makeline(U,B),d=[y].concat(Q).concat([h]).concat(s);return new ct(d)}outlineshapes(i,n,o){n=n||i;let r=this.outline(i,n).curves,c=[];for(let l=1,Q=r.length;l<Q/2;l++){let s=W.makeshape(r[l],r[Q-l],o);s.startcap.virtual=l>1,s.endcap.virtual=l<Q/2-1,c.push(s)}return c}intersects(i,n){return i?i.p1&&i.p2?this.lineIntersects(i):(i instanceof e&&(i=i.reduce()),this.curveintersects(this.reduce(),i,n)):this.selfintersects(n)}lineIntersects(i){let n=Nc(i.p1.x,i.p2.x),o=Nc(i.p1.y,i.p2.y),r=Dc(i.p1.x,i.p2.x),c=Dc(i.p1.y,i.p2.y);return W.roots(this.points,i).filter(l=>{var Q=this.get(l);return W.between(Q.x,n,r)&&W.between(Q.y,o,c)})}selfintersects(i){let n=this.reduce(),o=n.length-2,r=[];for(let c=0,l,Q,s;c<o;c++)Q=n.slice(c,c+1),s=n.slice(c+2),l=this.curveintersects(Q,s,i),r.push(...l);return r}curveintersects(i,n,o){let r=[];i.forEach(function(l){n.forEach(function(Q){l.overlaps(Q)&&r.push({left:l,right:Q})})});let c=[];return r.forEach(function(l){let Q=W.pairiteration(l.left,l.right,o);Q.length>0&&(c=c.concat(Q))}),c}arcs(i){return i=i||.5,this._iterate(i,[])}_error(i,n,o,r){let c=(r-o)/4,l=this.get(o+c),Q=this.get(r-c),s=W.dist(i,n),b=W.dist(i,l),f=W.dist(i,Q);return Nt(b-s)+Nt(f-s)}_iterate(i,n){let o=0,r=1,c;do{c=0,r=1;let l=this.get(o),Q,s,b,f,a=!1,m=!1,F,u=r,U=1,x=0;do if(m=a,f=b,u=(o+r)/2,x++,Q=this.get(u),s=this.get(r),b=W.getccenter(l,Q,s),b.interval={start:o,end:r},a=this._error(b,l,o,r)<=i,F=m&&!a,F||(U=r),a){if(r>=1){if(b.interval.end=U=1,f=b,r>1){let y={x:b.x+b.r*ta(b.e),y:b.y+b.r*ia(b.e)};b.e+=W.angle({x:b.x,y:b.y},y,this.get(1))}break}r=r+(r-o)/2}else r=u;while(!F&&c++<100);if(c>=100)break;f=f||b,n.push(f),o=U}while(r<1);return n}};function ra(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],s=!0,b=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);s=!0);}catch(f){b=!0,r=f}finally{try{if(!s&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(b)throw r}}return Q}}function ca(e,i){if(e==null)return{};var n={},o=Object.keys(e),r,c;for(c=0;c<o.length;c++)r=o[c],!(i.indexOf(r)>=0)&&(n[r]=e[r]);return n}function la(e,i){if(e==null)return{};var n=ca(e,i),o,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)o=c[r],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Qa(e,i){return aa(e)||ra(e,i)||Mc(e,i)||Fa()}function sa(e){return ba(e)||fa(e)||Mc(e)||ma()}function ba(e){if(Array.isArray(e))return an(e)}function aa(e){if(Array.isArray(e))return e}function fa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mc(e,i){if(e){if(typeof e=="string")return an(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,i)}}function an(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function ma(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ba(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function ua(e){var i=Ba(e,"string");return typeof i=="symbol"?i:String(i)}var Ec=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=(i instanceof Array?i.length?i:[void 0]:[i]).map(function(Q){return{keyAccessor:Q,isProp:!(Q instanceof Function)}}),c=e.reduce(function(Q,s){var b=Q,f=s;return r.forEach(function(a,m){var F=a.keyAccessor,u=a.isProp,U;if(u){var x=f,B=x[F],y=la(x,[F].map(ua));U=B,f=y}else U=F(f,m);m+1<r.length?(b.hasOwnProperty(U)||(b[U]={}),b=b[U]):n?(b.hasOwnProperty(U)||(b[U]=[]),b[U].push(f)):b[U]=f}),Q},{});n instanceof Function&&function Q(s){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;b===r.length?Object.keys(s).forEach(function(f){return s[f]=n(s[f])}):Object.values(s).forEach(function(f){return Q(f,b+1)})}(c);var l=c;return o&&(l=[],function Q(s){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];b.length===r.length?l.push({keys:b,vals:s}):Object.entries(s).forEach(function(f){var a=Qa(f,2),m=a[0],F=a[1];return Q(F,[].concat(sa(b),[m]))})}(c),i instanceof Array&&i.length===0&&l.length===1&&(l[0].keys=[])),l};function Sc(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e);break}return this}var fn=Symbol("implicit");function Mt(){var e=new it,i=[],n=[],o=fn;function r(c){let l=e.get(c);if(l===void 0){if(o!==fn)return o;e.set(c,l=i.push(c)-1)}return n[l%n.length]}return r.domain=function(c){if(!arguments.length)return i.slice();i=[],e=new it;for(let l of c)e.has(l)||e.set(l,i.push(l)-1);return r},r.range=function(c){return arguments.length?(n=Array.from(c),r):n.slice()},r.unknown=function(c){return arguments.length?(o=c,r):o},r.copy=function(){return Mt(i,n).unknown(o)},Sc.apply(r,arguments),r}function Hc(e){for(var i=e.length/6|0,n=new Array(i),o=0;o<i;)n[o]="#"+e.slice(o*6,++o*6);return n}var mn=Hc("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function da(e,i){i===void 0&&(i={});var n=i.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Za=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;da(Za);function Ua(e,i){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,r,c,l,Q=[],s=!0,b=!1;try{if(c=(n=n.call(e)).next,i===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=c.call(n)).done)&&(Q.push(o.value),Q.length!==i);s=!0);}catch(f){b=!0,r=f}finally{try{if(!s&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(b)throw r}}return Q}}function zc(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function lt(e){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?zc(Object(n),!0).forEach(function(o){Ht(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Bn(e)}function Ht(e,i,n){return i=Ca(i),i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function un(e,i){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},un(e,i)}function xa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(e,i,n){return xa()?Et=Reflect.construct.bind():Et=function(r,c,l){var Q=[null];Q.push.apply(Q,c);var s=Function.bind.apply(r,Q),b=new s;return l&&un(b,l.prototype),b},Et.apply(null,arguments)}function St(e,i){return pa(e)||Ua(e,i)||qc(e,i)||ha()}function fe(e){return Ia(e)||ga(e)||qc(e)||ya()}function Ia(e){if(Array.isArray(e))return dn(e)}function pa(e){if(Array.isArray(e))return e}function ga(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qc(e,i){if(e){if(typeof e=="string")return dn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,i)}}function dn(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=e[n];return o}function ya(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ha(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ga(e,i){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function Ca(e){var i=Ga(e,"string");return typeof i=="symbol"?i:String(i)}var Wa=Mt(mn);function Tc(e,i,n){!i||typeof n!="string"||e.filter(function(o){return!o[n]}).forEach(function(o){o[n]=Wa(i(o))})}function Xa(e,i){var n=e.nodes,o=e.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=r.nodeFilter,l=c===void 0?function(){return!0}:c,Q=r.onLoopError,s=Q===void 0?function(F){throw"Invalid DAG structure! Found cycle in node path: ".concat(F.join(" -> "),".")}:Q,b={};n.forEach(function(F){return b[i(F)]={data:F,out:[],depth:-1,skip:!l(F)}}),o.forEach(function(F){var u=F.source,U=F.target,x=d(u),B=d(U);if(!b.hasOwnProperty(x))throw"Missing source node with id: ".concat(x);if(!b.hasOwnProperty(B))throw"Missing target node with id: ".concat(B);var y=b[x],h=b[B];y.out.push(h);function d(Z){return Bn(Z)==="object"?i(Z):Z}});var f=[];m(Object.values(b));var a=Object.assign.apply(Object,[{}].concat(fe(Object.entries(b).filter(function(F){var u=St(F,2),U=u[1];return!U.skip}).map(function(F){var u=St(F,2),U=u[0],x=u[1];return Ht({},U,x.depth)}))));return a;function m(F){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=function(){var d=F[B];if(u.indexOf(d)!==-1){var Z=[].concat(fe(u.slice(u.indexOf(d))),[d]).map(function(I){return i(I.data)});return f.some(function(I){return I.length===Z.length&&I.every(function(g,G){return g===Z[G]})})||(f.push(Z),s(Z)),1}U>d.depth&&(d.depth=U,m(d.out,[].concat(fe(u),[d]),U+(d.skip?0:1)))},B=0,y=F.length;B<y;B++)x()}}var Ja=2,ee=function(i,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},_c=function(i,n){if(!n.isShadow){var o=E(n.linkDirectionalParticles);n.graphData.links.forEach(function(r){var c=Math.round(Math.abs(o(r)));c?r.__photons=fe(Array(c)).map(function(){return{}}):delete r.__photons})}},hi=qi({props:{graphData:{default:{nodes:[],links:[]},onChange:function(i,n){n.engineRunning=!1,_c(i,n)}},dagMode:{onChange:function(i,n){!i&&(n.graphData.nodes||[]).forEach(function(o){return o.fx=o.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(i){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:ee},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:ee},nodeColor:{default:"color",triggerUpdate:!1,onChange:ee},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:ee},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ee},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:ee},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:ee},linkColor:{default:"color",triggerUpdate:!1,onChange:ee},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:ee},linkWidth:{default:1,triggerUpdate:!1,onChange:ee},linkCurvature:{default:0,triggerUpdate:!1,onChange:ee},linkCanvasObject:{triggerUpdate:!1,onChange:ee},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ee},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:ee},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:ee},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:ee},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:_c},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.alphaDecay(i)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.alphaTarget(i)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(i,n){n.forceLayout.velocityDecay(i)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(i,n,o){return o===void 0?i.forceLayout.force(n):(i.forceLayout.force(n,o),this)},d3ReheatSimulation:function(i){return i.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(i){return i.cntTicks=0,i.startTickTime=new Date,i.engineRunning=!0,this},isEngineRunning:function(i){return!!i.engineRunning},tickFrame:function(i){return!i.isShadow&&n(),r(),!i.isShadow&&c(),!i.isShadow&&l(),o(),this;function n(){i.engineRunning&&(++i.cntTicks>i.cooldownTicks||new Date-i.startTickTime>i.cooldownTime||i.d3AlphaMin>0&&i.forceLayout.alpha()<i.d3AlphaMin?(i.engineRunning=!1,i.onEngineStop()):(i.forceLayout.tick(),i.onEngineTick()))}function o(){var Q=E(i.nodeVisibility),s=E(i.nodeVal),b=E(i.nodeColor),f=E(i.nodeCanvasObjectMode),a=i.ctx,m=i.isShadow/i.globalScale,F=i.graphData.nodes.filter(Q);a.save(),F.forEach(function(u){var U=f(u);if(i.nodeCanvasObject&&(U==="before"||U==="replace")&&(i.nodeCanvasObject(u,a,i.globalScale),U==="replace")){a.restore();return}var x=Math.sqrt(Math.max(0,s(u)||1))*i.nodeRelSize+m;a.beginPath(),a.arc(u.x,u.y,x,0,2*Math.PI,!1),a.fillStyle=b(u)||"rgba(31, 120, 180, 0.92)",a.fill(),i.nodeCanvasObject&&U==="after"&&i.nodeCanvasObject(u,i.ctx,i.globalScale)}),a.restore()}function r(){var Q=E(i.linkVisibility),s=E(i.linkColor),b=E(i.linkWidth),f=E(i.linkLineDash),a=E(i.linkCurvature),m=E(i.linkCanvasObjectMode),F=i.ctx,u=i.isShadow*2,U=i.graphData.links.filter(Q);U.forEach(I);var x=[],B=[],y=U;if(i.linkCanvasObject){var h=[],d=[];U.forEach(function(g){return({before:x,after:B,replace:h}[m(g)]||d).push(g)}),y=[].concat(fe(x),B,d),x=x.concat(h)}F.save(),x.forEach(function(g){return i.linkCanvasObject(g,F,i.globalScale)}),F.restore();var Z=Ec(y,[s,b,f]);F.save(),Object.entries(Z).forEach(function(g){var G=St(g,2),L=G[0],J=G[1],V=!L||L==="undefined"?"rgba(0,0,0,0.15)":L;Object.entries(J).forEach(function(j){var v=St(j,2),p=v[0],X=v[1],C=(p||1)/i.globalScale+u;Object.entries(X).forEach(function(Y){var w=St(Y,2);w[0];var k=w[1],R=f(k[0]);F.beginPath(),k.forEach(function(N){var S=N.source,q=N.target;if(!(!S||!q||!S.hasOwnProperty("x")||!q.hasOwnProperty("x"))){F.moveTo(S.x,S.y);var T=N.__controlPoints;T?F[T.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(F,fe(T).concat([q.x,q.y])):F.lineTo(q.x,q.y)}}),F.strokeStyle=V,F.lineWidth=C,F.setLineDash(R||[]),F.stroke()})})}),F.restore(),F.save(),B.forEach(function(g){return i.linkCanvasObject(g,F,i.globalScale)}),F.restore();function I(g){var G=a(g);if(!G){g.__controlPoints=null;return}var L=g.source,J=g.target;if(!(!L||!J||!L.hasOwnProperty("x")||!J.hasOwnProperty("x"))){var V=Math.sqrt(Math.pow(J.x-L.x,2)+Math.pow(J.y-L.y,2));if(V>0){var j=Math.atan2(J.y-L.y,J.x-L.x),v=V*G,p={x:(L.x+J.x)/2+v*Math.cos(j-Math.PI/2),y:(L.y+J.y)/2+v*Math.sin(j-Math.PI/2)};g.__controlPoints=[p.x,p.y]}else{var X=G*70;g.__controlPoints=[J.x,J.y-X,J.x+X,J.y]}}}}function c(){var Q=1.6,s=.2,b=E(i.linkDirectionalArrowLength),f=E(i.linkDirectionalArrowRelPos),a=E(i.linkVisibility),m=E(i.linkDirectionalArrowColor||i.linkColor),F=E(i.nodeVal),u=i.ctx;u.save(),i.graphData.links.filter(a).forEach(function(U){var x=b(U);if(!(!x||x<0)){var B=U.source,y=U.target;if(!(!B||!y||!B.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var h=Math.sqrt(Math.max(0,F(B)||1))*i.nodeRelSize,d=Math.sqrt(Math.max(0,F(y)||1))*i.nodeRelSize,Z=Math.min(1,Math.max(0,f(U))),I=m(U)||"rgba(0,0,0,0.28)",g=x/Q/2,G=U.__controlPoints&&Et(_e,[B.x,B.y].concat(fe(U.__controlPoints),[y.x,y.y])),L=G?function(C){return G.get(C)}:function(C){return{x:B.x+(y.x-B.x)*C||0,y:B.y+(y.y-B.y)*C||0}},J=G?G.length():Math.sqrt(Math.pow(y.x-B.x,2)+Math.pow(y.y-B.y,2)),V=h+x+(J-h-d-x)*Z,j=L(V/J),v=L((V-x)/J),p=L((V-x*(1-s))/J),X=Math.atan2(j.y-v.y,j.x-v.x)-Math.PI/2;u.beginPath(),u.moveTo(j.x,j.y),u.lineTo(v.x+g*Math.cos(X),v.y+g*Math.sin(X)),u.lineTo(p.x,p.y),u.lineTo(v.x-g*Math.cos(X),v.y-g*Math.sin(X)),u.fillStyle=I,u.fill()}}}),u.restore()}function l(){var Q=E(i.linkDirectionalParticles),s=E(i.linkDirectionalParticleSpeed),b=E(i.linkDirectionalParticleWidth),f=E(i.linkVisibility),a=E(i.linkDirectionalParticleColor||i.linkColor),m=i.ctx;m.save(),i.graphData.links.filter(f).forEach(function(F){var u=Q(F);if(!(!F.hasOwnProperty("__photons")||!F.__photons.length)){var U=F.source,x=F.target;if(!(!U||!x||!U.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var B=s(F),y=F.__photons||[],h=Math.max(0,b(F)/2)/Math.sqrt(i.globalScale),d=a(F)||"rgba(0,0,0,0.28)";m.fillStyle=d;var Z=F.__controlPoints?Et(_e,[U.x,U.y].concat(fe(F.__controlPoints),[x.x,x.y])):null,I=0,g=!1;y.forEach(function(G){var L=!!G.__singleHop;if(G.hasOwnProperty("__progressRatio")||(G.__progressRatio=L?0:I/u),!L&&I++,G.__progressRatio+=B,G.__progressRatio>=1)if(!L)G.__progressRatio=G.__progressRatio%1;else{g=!0;return}var J=G.__progressRatio,V=Z?Z.get(J):{x:U.x+(x.x-U.x)*J||0,y:U.y+(x.y-U.y)*J||0};m.beginPath(),m.arc(V.x,V.y,h,0,2*Math.PI,!1),m.fill()}),g&&(F.__photons=F.__photons.filter(function(G){return!G.__singleHop||G.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(i,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:cn().force("link",on()).force("charge",ln()).force("center",$i()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(i,n){n.ctx=i},update:function(i){i.engineRunning=!1,i.onUpdate(),i.nodeAutoColorBy!==null&&Tc(i.graphData.nodes,E(i.nodeAutoColorBy),i.nodeColor),i.linkAutoColorBy!==null&&Tc(i.graphData.links,E(i.linkAutoColorBy),i.linkColor),i.graphData.links.forEach(function(f){f.source=f[i.linkSource],f.target=f[i.linkTarget]}),i.forceLayout.stop().alpha(1).nodes(i.graphData.nodes);var n=i.forceLayout.force("link");n&&n.id(function(f){return f[i.nodeId]}).links(i.graphData.links);var o=i.dagMode&&Xa(i.graphData,function(f){return f[i.nodeId]},{nodeFilter:i.dagNodeFilter,onLoopError:i.onDagError||void 0}),r=Math.max.apply(Math,fe(Object.values(o||[]))),c=i.dagLevelDistance||i.graphData.nodes.length/(r||1)*Ja*(["radialin","radialout"].indexOf(i.dagMode)!==-1?.7:1);if(i.dagMode){var l=function(a,m){return function(F){return a?(o[F[i.nodeId]]-r/2)*c*(m?-1:1):void 0}},Q=l(["lr","rl"].indexOf(i.dagMode)!==-1,i.dagMode==="rl"),s=l(["td","bu"].indexOf(i.dagMode)!==-1,i.dagMode==="bu");i.graphData.nodes.filter(i.dagNodeFilter).forEach(function(f){f.fx=Q(f),f.fy=s(f)})}i.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(i.dagMode)!==-1?Qn(function(f){var a=o[f[i.nodeId]]||-1;return(i.dagMode==="radialin"?r-a:a)*c}).strength(function(f){return i.dagNodeFilter(f)?1:0}):null);for(var b=0;b<i.warmupTicks&&!(i.d3AlphaMin>0&&i.forceLayout.alpha()<i.d3AlphaMin);b++)i.forceLayout.tick();this.resetCountdown(),i.onFinishUpdate()}});function Pc(e,i){var n=e instanceof Array?e:[e],o=new i;return o._destructor&&o._destructor(),{linkProp:function(c){return{default:o[c](),onChange:function(Q,s){n.forEach(function(b){return s[b][c](Q)})},triggerUpdate:!1}},linkMethod:function(c){return function(l){for(var Q=arguments.length,s=new Array(Q>1?Q-1:0),b=1;b<Q;b++)s[b-1]=arguments[b];var f=[];return n.forEach(function(a){var m=l[a],F=m[c].apply(m,s);F!==m&&f.push(F)}),f.length?f[0]:this}}}}var La=800,Ya=4,Kc=Pc("forceGraph",hi),Oa=Pc(["forceGraph","shadowGraph"],hi),Va=Object.assign.apply(Object,fe(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Ht({},e,Kc.linkProp(e))})).concat(fe(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Ht({},e,Oa.linkProp(e))})))),ja=Object.assign.apply(Object,fe(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Ht({},e,Kc.linkMethod(e))})));function Fn(e){if(e.canvas){var i=e.canvas.width,n=e.canvas.height;i===300&&n===150&&(i=n=0);var o=window.devicePixelRatio;i/=o,n/=o,[e.canvas,e.shadowCanvas].forEach(function(c){c.style.width="".concat(e.width,"px"),c.style.height="".concat(e.height,"px"),c.width=e.width*o,c.height=e.height*o,!i&&!n&&c.getContext("2d").scale(o,o)});var r=re(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-i)/2/r,(e.height-n)/2/r),e.needsRedraw=!0}}function $c(e){var i=window.devicePixelRatio;e.setTransform(i,0,0,i,0,0)}function Ac(e,i,n){e.save(),$c(e),e.clearRect(0,0,i,n),e.restore()}var el=qi({props:lt({width:{default:window.innerWidth,onChange:function(i,n){return Fn(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(i,n){return Fn(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(i,n){[{type:"Node",objs:i.nodes},{type:"Link",objs:i.links}].forEach(o),n.forceGraph.graphData(i),n.shadowGraph.graphData(i);function o(r){var c=r.type,l=r.objs;l.filter(function(Q){if(!Q.hasOwnProperty("__indexColor"))return!0;var s=n.colorTracker.lookup(Q.__indexColor);return!s||!s.hasOwnProperty("d")||s.d!==Q}).forEach(function(Q){Q.__indexColor=n.colorTracker.register({type:c,d:Q})})}},triggerUpdate:!1},backgroundColor:{onChange:function(i,n){n.canvas&&i&&(n.canvas.style.background=i)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(i,n){n.shadowGraph.nodeCanvasObject(i?function(o,r,c){return i(o,o.__indexColor,r,c)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(i,n){n.shadowGraph.linkCanvasObject(i?function(o,r,c){return i(o,o.__indexColor,r,c)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(i,n){n.zoom.scaleExtent([i,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(i,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],i])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(i,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Va),aliases:{stopAnimation:"pauseAnimation"},methods:lt({graph2ScreenCoords:function(i,n,o){var r=re(i.canvas);return{x:n*r.k+r.x,y:o*r.k+r.y}},screen2GraphCoords:function(i,n,o){var r=re(i.canvas);return{x:(n-r.x)/r.k,y:(o-r.y)/r.k}},centerAt:function(i,n,o,r){if(!i.canvas)return null;if(n!==void 0||o!==void 0){var c=Object.assign({},n!==void 0?{x:n}:{},o!==void 0?{y:o}:{});return r?new Ai(l()).to(c,r).easing(we.Quadratic.Out).onUpdate(Q).start():Q(c),this}return l();function l(){var s=re(i.canvas);return{x:(i.width/2-s.x)/s.k,y:(i.height/2-s.y)/s.k}}function Q(s){var b=s.x,f=s.y;i.zoom.translateTo(i.zoom.__baseElem,b===void 0?l().x:b,f===void 0?l().y:f),i.needsRedraw=!0}},zoom:function(i,n,o){if(!i.canvas)return null;if(n!==void 0)return o?new Ai({k:r()}).to({k:n},o).easing(we.Quadratic.Out).onUpdate(function(l){var Q=l.k;return c(Q)}).start():c(n),this;return r();function r(){return re(i.canvas).k}function c(l){i.zoom.scaleTo(i.zoom.__baseElem,l),i.needsRedraw=!0}},zoomToFit:function(i){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length,c=new Array(r>3?r-3:0),l=3;l<r;l++)c[l-3]=arguments[l];var Q=this.getGraphBbox.apply(this,c);if(Q){var s={x:(Q.x[0]+Q.x[1])/2,y:(Q.y[0]+Q.y[1])/2},b=Math.max(1e-12,Math.min(1e12,(i.width-o*2)/(Q.x[1]-Q.x[0]),(i.height-o*2)/(Q.y[1]-Q.y[0])));this.centerAt(s.x,s.y,n),this.zoom(b,n)}return this},getGraphBbox:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=E(i.nodeVal),r=function(Q){return Math.sqrt(Math.max(0,o(Q)||1))*i.nodeRelSize},c=i.graphData.nodes.filter(n).map(function(l){return{x:l.x,y:l.y,r:r(l)}});return c.length?{x:[Xt(c,function(l){return l.x-l.r}),Wt(c,function(l){return l.x+l.r})],y:[Xt(c,function(l){return l.y-l.r}),Wt(c,function(l){return l.y+l.r})]}:null},pauseAnimation:function(i){return i.animationFrameRequestId&&(cancelAnimationFrame(i.animationFrameRequestId),i.animationFrameRequestId=null),this},resumeAnimation:function(i){return i.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},ja),stateInit:function(){return{lastSetZoom:1,zoom:Hi(),forceGraph:new hi,shadowGraph:new hi().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Vr}},init:function(i,n){var o=this;i.innerHTML="";var r=document.createElement("div");r.classList.add("force-graph-container"),r.style.position="relative",i.appendChild(r),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),r.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var c=n.canvas.getContext("2d"),l=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),Q={x:-1e12,y:-1e12},s=function(){var m=null,F=window.devicePixelRatio,u=Q.x>0&&Q.y>0?l.getImageData(Q.x*F,Q.y*F,1,1):null;return u&&(m=n.colorTracker.lookup(u.data)),m};K(n.canvas).call(Li().subject(function(){if(!n.enableNodeDrag)return null;var a=s();return a&&a.type==="Node"?a.d:null}).on("start",function(a){var m=a.subject;m.__initialDragPos={x:m.x,y:m.y,fx:m.fx,fy:m.fy},a.active||(m.fx=m.x,m.fy=m.y),n.canvas.classList.add("grabbable")}).on("drag",function(a){var m=a.subject,F=m.__initialDragPos,u=a,U=re(n.canvas).k,x={x:F.x+(u.x-F.x)/U-m.x,y:F.y+(u.y-F.y)/U-m.y};["x","y"].forEach(function(B){return m["f".concat(B)]=m[B]=F[B]+(u[B]-F[B])/U}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,m.__dragged=!0,n.onNodeDrag(m,x)}).on("end",function(a){var m=a.subject,F=m.__initialDragPos,u={x:m.x-F.x,y:m.y-F.y};F.fx===void 0&&(m.fx=void 0),F.fy===void 0&&(m.fy=void 0),delete m.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,m.__dragged&&(delete m.__dragged,n.onNodeDragEnd(m,u))})),n.zoom(n.zoom.__baseElem=K(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(a){return!a.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||a.type!=="wheel")&&(n.enablePanInteraction||a.type==="wheel")}).on("zoom",function(a){var m=a.transform;[c,l].forEach(function(F){$c(F),F.translate(m.x,m.y),F.scale(m.k,m.k)}),n.onZoom&&n.onZoom(lt(lt({},m),o.centerAt())),n.needsRedraw=!0}).on("end",function(a){return n.onZoomEnd&&n.onZoomEnd(lt(lt({},a.transform),o.centerAt()))}),Fn(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){re(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=Ya/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var b=document.createElement("div");b.classList.add("graph-tooltip"),r.appendChild(b),["pointermove","pointerdown"].forEach(function(a){return r.addEventListener(a,function(m){a==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=m),!n.isPointerDragging&&m.type==="pointermove"&&n.onBackgroundClick&&(m.pressure>0||n.isPointerPressed)&&(m.pointerType!=="touch"||m.movementX===void 0||[m.movementX,m.movementY].some(function(U){return Math.abs(U)>1}))&&(n.isPointerDragging=!0);var F=u(r);Q.x=m.pageX-F.left,Q.y=m.pageY-F.top,b.style.top="".concat(Q.y,"px"),b.style.left="".concat(Q.x,"px"),b.style.transform="translate(-".concat(Q.x/n.width*100,"%, ").concat(n.height-Q.y<100?"calc(-100% - 8px)":"21px",")");function u(U){var x=U.getBoundingClientRect(),B=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop;return{top:x.top+y,left:x.left+B}}},{passive:!0})}),r.addEventListener("pointerup",function(a){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var m=[a,n.pointerDownEvent];requestAnimationFrame(function(){if(a.button===0)if(n.hoverObj){var F=n["on".concat(n.hoverObj.type,"Click")];F&&F.apply(void 0,[n.hoverObj.d].concat(m))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,m);if(a.button===2)if(n.hoverObj){var u=n["on".concat(n.hoverObj.type,"RightClick")];u&&u.apply(void 0,[n.hoverObj.d].concat(m))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,m)})},{passive:!0}),r.addEventListener("contextmenu",function(a){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(a.preventDefault(),!1)}),n.forceGraph(c),n.shadowGraph(l);var f=Ti(function(){Ac(l,n.width,n.height),n.shadowGraph.linkWidth(function(m){return E(n.linkWidth)(m)+n.linkHoverPrecision});var a=re(n.canvas);n.shadowGraph.globalScale(a.k).tickFrame()},La);n.flushShadowCanvas=f.flush,(this._animationCycle=function a(){var m=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(Z){return Z.__photons&&Z.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var F=n.isPointerDragging?null:s();if(F!==n.hoverObj){var u=n.hoverObj,U=u?u.type:null,x=F?F.type:null;if(U&&U!==x){var B=n["on".concat(U,"Hover")];B&&B(null,u.d)}if(x){var y=n["on".concat(x,"Hover")];y&&y(F.d,U===x?u.d:null)}var h=F&&E(n["".concat(F.type.toLowerCase(),"Label")])(F.d)||"";b.style.visibility=h?"visible":"hidden",b.innerHTML=h,n.canvas.classList[F&&n["on".concat(x,"Click")]||!F&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=F}m&&f()}if(m){Ac(c,n.width,n.height);var d=re(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(c,d),n.forceGraph.globalScale(d).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(c,d)}xr(),n.animationFrameRequestId=requestAnimationFrame(a)})()},update:function(i){}});console.info("Bridgetown is loaded!");window.$graph=el;})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=/_bridgetown/static/frontend/javascript/index.VMEIYP6D.js.map
